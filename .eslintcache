[{"C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\App.js":"1","C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\index.js":"2","C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\StartVideo.js":"3","C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\face-api.min.js":"4","C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\face-api.js":"5"},{"size":242,"mtime":1606733523425,"results":"6","hashOfConfig":"7"},{"size":429,"mtime":1606564266357,"results":"8","hashOfConfig":"7"},{"size":2494,"mtime":1606734725312,"results":"9","hashOfConfig":"7"},{"size":663830,"mtime":1606731173848,"results":"10","hashOfConfig":"7"},{"size":1105606,"mtime":1606732883911,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"hq3mcw",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"18","messages":"19","errorCount":636,"warningCount":2218,"fixableErrorCount":0,"fixableWarningCount":58,"source":null},{"filePath":"20","messages":"21","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},"C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\App.js",["23","24"],"C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\index.js",[],"C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\StartVideo.js",["25"],"C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\face-api.min.js",["26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1042","1043","1044","1045","1046","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094","1095","1096","1097","1098","1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130","1131","1132","1133","1134","1135","1136","1137","1138","1139","1140","1141","1142","1143","1144","1145","1146","1147","1148","1149","1150","1151","1152","1153","1154","1155","1156","1157","1158","1159","1160","1161","1162","1163","1164","1165","1166","1167","1168","1169","1170","1171","1172","1173","1174","1175","1176","1177","1178","1179","1180","1181","1182","1183","1184","1185","1186","1187","1188","1189","1190","1191","1192","1193","1194","1195","1196","1197","1198","1199","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1220","1221","1222","1223","1224","1225","1226","1227","1228","1229","1230","1231","1232","1233","1234","1235","1236","1237","1238","1239","1240","1241","1242","1243","1244","1245","1246","1247","1248","1249","1250","1251","1252","1253","1254","1255","1256","1257","1258","1259","1260","1261","1262","1263","1264","1265","1266","1267","1268","1269","1270","1271","1272","1273","1274","1275","1276","1277","1278","1279","1280","1281","1282","1283","1284","1285","1286","1287","1288","1289","1290","1291","1292","1293","1294","1295","1296","1297","1298","1299","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","1320","1321","1322","1323","1324","1325","1326","1327","1328","1329","1330","1331","1332","1333","1334","1335","1336","1337","1338","1339","1340","1341","1342","1343","1344","1345","1346","1347","1348","1349","1350","1351","1352","1353","1354","1355","1356","1357","1358","1359","1360","1361","1362","1363","1364","1365","1366","1367","1368","1369","1370","1371","1372","1373","1374","1375","1376","1377","1378","1379","1380","1381","1382","1383","1384","1385","1386","1387","1388","1389","1390","1391","1392","1393","1394","1395","1396","1397","1398","1399","1400","1401","1402","1403","1404","1405","1406","1407","1408","1409","1410","1411","1412","1413","1414","1415","1416","1417","1418","1419","1420","1421","1422","1423","1424","1425","1426","1427","1428","1429","1430","1431","1432","1433","1434","1435","1436","1437","1438","1439","1440","1441","1442","1443","1444","1445","1446","1447","1448","1449","1450","1451","1452","1453","1454","1455","1456","1457","1458","1459","1460","1461","1462","1463","1464","1465","1466","1467","1468","1469","1470","1471","1472","1473","1474","1475","1476","1477","1478","1479","1480","1481","1482","1483","1484","1485","1486","1487","1488","1489","1490","1491","1492","1493","1494","1495","1496","1497","1498","1499","1500","1501","1502","1503","1504","1505","1506","1507","1508","1509","1510","1511","1512","1513","1514","1515","1516","1517","1518","1519","1520","1521","1522","1523","1524","1525","1526","1527","1528","1529","1530","1531","1532","1533","1534","1535","1536","1537","1538","1539","1540","1541","1542","1543","1544","1545","1546","1547","1548","1549","1550","1551","1552","1553","1554","1555","1556","1557","1558","1559","1560","1561","1562","1563","1564","1565","1566","1567","1568","1569","1570","1571","1572","1573","1574","1575","1576","1577","1578","1579","1580","1581","1582","1583","1584","1585","1586","1587","1588","1589","1590","1591","1592","1593","1594","1595","1596","1597","1598","1599","1600","1601","1602","1603","1604","1605","1606","1607","1608","1609","1610","1611","1612","1613","1614","1615","1616","1617","1618","1619","1620","1621","1622","1623","1624","1625","1626","1627","1628","1629","1630","1631","1632","1633","1634","1635","1636","1637","1638","1639","1640","1641","1642","1643","1644","1645","1646","1647","1648","1649","1650","1651","1652","1653","1654","1655","1656","1657","1658","1659","1660","1661","1662","1663","1664","1665","1666","1667","1668","1669","1670","1671","1672","1673","1674","1675","1676","1677","1678","1679","1680","1681","1682","1683","1684","1685","1686","1687","1688","1689","1690","1691","1692","1693","1694","1695","1696","1697","1698","1699","1700","1701","1702","1703","1704","1705","1706","1707","1708","1709","1710","1711","1712","1713","1714","1715","1716","1717","1718","1719","1720","1721","1722","1723","1724","1725","1726","1727","1728","1729","1730","1731","1732","1733","1734","1735","1736","1737","1738","1739","1740","1741","1742","1743","1744","1745","1746","1747","1748","1749","1750","1751","1752","1753","1754","1755","1756","1757","1758","1759","1760","1761","1762","1763","1764","1765","1766","1767","1768","1769","1770","1771","1772","1773","1774","1775","1776","1777","1778","1779","1780","1781","1782","1783","1784","1785","1786","1787","1788","1789","1790","1791","1792","1793","1794","1795","1796","1797","1798","1799","1800","1801","1802","1803","1804","1805","1806","1807","1808","1809","1810","1811","1812","1813","1814","1815","1816","1817","1818","1819","1820","1821","1822","1823","1824","1825","1826","1827","1828","1829","1830","1831","1832","1833","1834","1835","1836","1837","1838","1839","1840","1841","1842","1843","1844","1845","1846","1847","1848","1849","1850","1851","1852","1853","1854","1855","1856","1857","1858","1859","1860","1861","1862","1863","1864","1865","1866","1867","1868","1869","1870","1871","1872","1873","1874","1875","1876","1877","1878","1879","1880","1881","1882","1883","1884","1885","1886","1887","1888","1889","1890","1891","1892","1893","1894","1895","1896","1897","1898","1899","1900","1901","1902","1903","1904","1905","1906","1907","1908","1909","1910","1911","1912","1913","1914","1915","1916","1917","1918","1919","1920","1921","1922","1923","1924","1925","1926","1927","1928","1929","1930","1931","1932","1933","1934","1935","1936","1937","1938","1939","1940","1941","1942","1943","1944","1945","1946","1947","1948","1949","1950","1951","1952","1953","1954","1955","1956","1957","1958","1959","1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037","2038","2039","2040","2041","2042","2043","2044","2045","2046","2047","2048","2049","2050","2051","2052","2053","2054","2055","2056","2057","2058","2059","2060","2061","2062","2063","2064","2065","2066","2067","2068","2069","2070","2071","2072","2073","2074","2075","2076","2077","2078","2079","2080","2081","2082","2083","2084","2085","2086","2087","2088","2089","2090","2091","2092","2093","2094","2095","2096","2097","2098","2099","2100","2101","2102","2103","2104","2105","2106","2107","2108","2109","2110","2111","2112","2113","2114","2115","2116","2117","2118","2119","2120","2121","2122","2123","2124","2125","2126","2127","2128","2129","2130","2131","2132","2133","2134","2135","2136","2137","2138","2139","2140","2141","2142","2143","2144","2145","2146","2147","2148","2149","2150","2151","2152","2153","2154","2155","2156","2157","2158","2159","2160","2161","2162","2163","2164","2165","2166","2167","2168","2169","2170","2171","2172","2173","2174","2175","2176","2177","2178","2179","2180","2181","2182","2183","2184","2185","2186","2187","2188","2189","2190","2191","2192","2193","2194","2195","2196","2197","2198","2199","2200","2201","2202","2203","2204","2205","2206","2207","2208","2209","2210","2211","2212","2213","2214","2215","2216","2217","2218","2219","2220","2221","2222","2223","2224","2225","2226","2227","2228","2229","2230","2231","2232","2233","2234","2235","2236","2237","2238","2239","2240","2241","2242","2243","2244","2245","2246","2247","2248","2249","2250","2251","2252","2253","2254","2255","2256","2257","2258","2259","2260","2261","2262","2263","2264","2265","2266","2267","2268","2269","2270","2271","2272","2273","2274","2275","2276","2277","2278","2279","2280","2281","2282","2283","2284","2285","2286","2287","2288","2289","2290","2291","2292","2293","2294","2295","2296","2297","2298","2299","2300","2301","2302","2303","2304","2305","2306","2307","2308","2309","2310","2311","2312","2313","2314","2315","2316","2317","2318","2319","2320","2321","2322","2323","2324","2325","2326","2327","2328","2329","2330","2331","2332","2333","2334","2335","2336","2337","2338","2339","2340","2341","2342","2343","2344","2345","2346","2347","2348","2349","2350","2351","2352","2353","2354","2355","2356","2357","2358","2359","2360","2361","2362","2363","2364","2365","2366","2367","2368","2369","2370","2371","2372","2373","2374","2375","2376","2377","2378","2379","2380","2381","2382","2383","2384","2385","2386","2387","2388","2389","2390","2391","2392","2393","2394","2395","2396","2397","2398","2399","2400","2401","2402","2403","2404","2405","2406","2407","2408","2409","2410","2411","2412","2413","2414","2415","2416","2417","2418","2419","2420","2421","2422","2423","2424","2425","2426","2427","2428","2429","2430","2431","2432","2433","2434","2435","2436","2437","2438","2439","2440","2441","2442","2443","2444","2445","2446","2447","2448","2449","2450","2451","2452","2453","2454","2455","2456","2457","2458","2459","2460","2461","2462","2463","2464","2465","2466","2467","2468","2469","2470","2471","2472","2473","2474","2475","2476","2477","2478","2479","2480","2481","2482","2483","2484","2485","2486","2487","2488","2489","2490","2491","2492","2493","2494","2495","2496","2497","2498","2499","2500","2501","2502","2503","2504","2505","2506","2507","2508","2509","2510","2511","2512","2513","2514","2515","2516","2517","2518","2519","2520","2521","2522","2523","2524","2525","2526","2527","2528","2529","2530","2531","2532","2533","2534","2535","2536","2537","2538","2539","2540","2541","2542","2543","2544","2545","2546","2547","2548","2549","2550","2551","2552","2553","2554","2555","2556","2557","2558","2559","2560","2561","2562","2563","2564","2565","2566","2567","2568","2569","2570","2571","2572","2573","2574","2575","2576","2577","2578","2579","2580","2581","2582","2583","2584","2585","2586","2587","2588","2589","2590","2591","2592","2593","2594","2595","2596","2597","2598","2599","2600","2601","2602","2603","2604","2605","2606","2607","2608","2609","2610","2611","2612","2613","2614","2615","2616","2617","2618","2619","2620","2621","2622","2623","2624","2625","2626","2627","2628","2629","2630","2631","2632","2633","2634","2635","2636","2637","2638","2639","2640","2641","2642","2643","2644","2645","2646","2647","2648","2649","2650","2651","2652","2653","2654","2655","2656","2657","2658","2659","2660","2661","2662","2663","2664","2665","2666","2667","2668","2669","2670","2671","2672","2673","2674","2675","2676","2677","2678","2679","2680","2681","2682","2683","2684","2685","2686","2687","2688","2689","2690","2691","2692","2693","2694","2695","2696","2697","2698","2699","2700","2701","2702","2703","2704","2705","2706","2707","2708","2709","2710","2711","2712","2713","2714","2715","2716","2717","2718","2719","2720","2721","2722","2723","2724","2725","2726","2727","2728","2729","2730","2731","2732","2733","2734","2735","2736","2737","2738","2739","2740","2741","2742","2743","2744","2745","2746","2747","2748","2749","2750","2751","2752","2753","2754","2755","2756","2757","2758","2759","2760","2761","2762","2763","2764","2765","2766","2767","2768","2769","2770","2771","2772","2773","2774","2775","2776","2777","2778","2779","2780","2781","2782","2783","2784","2785","2786","2787","2788","2789","2790","2791","2792","2793","2794","2795","2796","2797","2798","2799","2800","2801","2802","2803","2804","2805","2806","2807","2808","2809","2810","2811","2812","2813","2814","2815","2816","2817","2818","2819","2820","2821","2822","2823","2824","2825","2826","2827","2828","2829","2830","2831","2832","2833","2834","2835","2836","2837","2838","2839","2840","2841","2842","2843","2844","2845","2846","2847","2848","2849","2850","2851","2852","2853","2854","2855","2856","2857","2858","2859","2860","2861","2862","2863","2864","2865","2866","2867","2868","2869","2870","2871","2872","2873","2874","2875","2876","2877","2878","2879"],"C:\\Users\\Admin\\Desktop\\finap-api\\satyansh-api\\src\\face-api.js",["2880"],"(function(global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\r\n        typeof define === 'function' && define.amd ? define(['exports'], factory) :\r\n        (global = global || self, factory(global.faceapi = global.faceapi || {}));\r\n}(this, (function(exports) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @license\r\n     * Copyright 2020 Google LLC. All Rights Reserved.\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     * http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     * =============================================================================\r\n     */\r\n    var t = function(e, n) {\r\n        return (t = Object.setPrototypeOf || { __proto__: [] }\r\n            instanceof Array && function(t, e) { t.__proto__ = e; } || function(t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]); })(e, n)\r\n    };\r\n\r\n    function e(e, n) {\r\n        function r() { this.constructor = e; }\r\n        t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r);\r\n    }\r\n\r\n    function n(t, e, n, r) {\r\n        return new(n || (n = Promise))((function(o, a) {\r\n            function i(t) { try { u(r.next(t)); } catch (t) { a(t); } }\r\n\r\n            function s(t) { try { u(r.throw(t)); } catch (t) { a(t); } }\r\n\r\n            function u(t) { t.done ? o(t.value) : new n((function(e) { e(t.value); })).then(i, s); }\r\n            u((r = r.apply(t, e || [])).next());\r\n        }))\r\n    }\r\n\r\n    function r(t, e) {\r\n        var n, r, o, a, i = { label: 0, sent: function() { if (1 & o[0]) throw o[1]; return o[1] }, trys: [], ops: [] };\r\n        return a = { next: s(0), throw: s(1), return: s(2) }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function() { return this }), a;\r\n\r\n        function s(a) {\r\n            return function(s) {\r\n                return function(a) {\r\n                    if (n) throw new TypeError(\"Generator is already executing.\");\r\n                    for (; i;) try {\r\n                        if (n = 1, r && (o = 2 & a[0] ? r.return : a[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, a[1])).done) return o;\r\n                        switch (r = 0, o && (a = [2 & a[0], o.value]), a[0]) {\r\n                            case 0:\r\n                            case 1:\r\n                                o = a;\r\n                                break;\r\n                            case 4:\r\n                                return i.label++, { value: a[1], done: !1 };\r\n                            case 5:\r\n                                i.label++, r = a[1], a = [0];\r\n                                continue;\r\n                            case 7:\r\n                                a = i.ops.pop(), i.trys.pop();\r\n                                continue;\r\n                            default:\r\n                                if (!(o = (o = i.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) { i = 0; continue }\r\n                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) { i.label = a[1]; break }\r\n                                if (6 === a[0] && i.label < o[1]) { i.label = o[1], o = a; break }\r\n                                if (o && i.label < o[2]) { i.label = o[2], i.ops.push(a); break }\r\n                                o[2] && i.ops.pop(), i.trys.pop();\r\n                                continue\r\n                        }\r\n                        a = e.call(t, i);\r\n                    } catch (t) { a = [6, t], r = 0; } finally { n = o = 0; }\r\n                    if (5 & a[0]) throw a[1];\r\n                    return { value: a[0] ? a[1] : void 0, done: !0 }\r\n                }([a, s])\r\n            }\r\n        }\r\n    }\r\n    var o = function() {\r\n        function t(t) { this.global = t, this.flags = {}, this.flagRegistry = {}, this.urlFlags = {}, this.populateURLFlags(); }\r\n        return t.prototype.setPlatform = function(t, e) { null != this.platform && console.warn(\"Platform \" + this.platformName + \" has already been set. Overwriting the platform with \" + e + \".\"), this.platformName = t, this.platform = e; }, t.prototype.registerFlag = function(t, e, n) {\r\n            if (this.flagRegistry[t] = { evaluationFn: e, setHook: n }, null != this.urlFlags[t]) {\r\n                var r = this.urlFlags[t];\r\n                console.warn(\"Setting feature override from URL \" + t + \": \" + r + \".\"), this.set(t, r);\r\n            }\r\n        }, t.prototype.get = function(t) { return t in this.flags ? this.flags[t] : (this.flags[t] = this.evaluateFlag(t), this.flags[t]) }, t.prototype.getNumber = function(t) { return this.get(t) }, t.prototype.getBool = function(t) { return this.get(t) }, t.prototype.getFlags = function() { return this.flags }, Object.defineProperty(t.prototype, \"features\", { get: function() { return this.flags }, enumerable: !0, configurable: !0 }), t.prototype.set = function(t, e) {\r\n            if (null == this.flagRegistry[t]) throw new Error(\"Cannot set flag \" + t + \" as it has not been registered.\");\r\n            this.flags[t] = e, null != this.flagRegistry[t].setHook && this.flagRegistry[t].setHook(e);\r\n        }, t.prototype.evaluateFlag = function(t) { if (null == this.flagRegistry[t]) throw new Error(\"Cannot evaluate flag '\" + t + \"': no evaluation function found.\"); return this.flagRegistry[t].evaluationFn() }, t.prototype.setFlags = function(t) { this.flags = Object.assign({}, t); }, t.prototype.reset = function() { this.flags = {}, this.urlFlags = {}, this.populateURLFlags(); }, t.prototype.populateURLFlags = function() {\r\n            var t = this;\r\n            if (void 0 !== this.global && void 0 !== this.global.location && void 0 !== this.global.location.search) {\r\n                var e, n, r = (e = this.global.location.search, n = {}, e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g, (function(t) { for (var e = [], r = 1; r < arguments.length; r++) e[r - 1] = arguments[r]; return a(n, e[0], e[1]), e.join(\"=\") })), n);\r\n                if (\"tfjsflags\" in r) r.tfjsflags.split(\",\").forEach((function(e) {\r\n                    var n = e.split(\":\"),\r\n                        r = n[0],\r\n                        o = n[1];\r\n                    t.urlFlags[r] = function(t, e) { if (\"true\" === (e = e.toLowerCase()) || \"false\" === e) return \"true\" === e; if (\"\" + +e === e) return +e; throw new Error(\"Could not parse value flag value \" + e + \" for flag \" + t + \".\") }(r, o);\r\n                }));\r\n            }\r\n        }, t\r\n    }();\r\n\r\n    function a(t, e, n) { t[decodeURIComponent(e)] = decodeURIComponent(n || \"\"); }\r\n\r\n    function i() { return s }\r\n    var s = null;\r\n    var u = new Map,\r\n        c = new Map;\r\n\r\n    function l(t, e) { var n = g(t, e); return u.get(n) }\r\n\r\n    function h(t) { return c.get(t) }\r\n\r\n    function f(t) {\r\n        for (var e = u.entries(), n = [];;) {\r\n            var r = e.next(),\r\n                o = r.done,\r\n                a = r.value;\r\n            if (o) break;\r\n            var i = a[0],\r\n                s = a[1];\r\n            i.split(\"_\")[0] === t && n.push(s);\r\n        }\r\n        return n\r\n    }\r\n\r\n    function d(t) {\r\n        var e = t.kernelName,\r\n            n = t.backendName,\r\n            r = g(e, n);\r\n        if (u.has(r)) throw new Error(\"The kernel '\" + e + \"' for backend '\" + n + \"' is already registered\");\r\n        u.set(r, t);\r\n    }\r\n\r\n    function p(t) {\r\n        var e = t.kernelName;\r\n        c.has(e) && console.warn(\"Overriding the gradient for '\" + e + \"'\"), c.set(e, t);\r\n    }\r\n\r\n    function v(t, e) {\r\n        var n = g(t, e);\r\n        if (!u.has(n)) throw new Error(\"The kernel '\" + t + \"' for backend '\" + e + \"' is not registered\");\r\n        u.delete(n);\r\n    }\r\n\r\n    function m(t) {\r\n        if (!c.has(t)) throw new Error(\"The gradient '\" + t + \"' for backend is not registered\");\r\n        c.delete(t);\r\n    }\r\n\r\n    function g(t, e) { return e + \"_\" + t }\r\n\r\n    function y(t) { for (var e = t.length, n = 0, r = 0; e > 0;) r = Math.random() * e | 0, n = t[--e], t[e] = t[r], t[r] = n; }\r\n\r\n    function x(t, e, n) { return Math.max(t, Math.min(e, n)) }\r\n\r\n    function b(t) { return t % 2 == 0 ? t : t + 1 }\r\n\r\n    function w(t) { for (var e = 0, n = 0; n < t.length; n++) e += t[n]; return e }\r\n\r\n    function C(t, e) { if (!t) throw new Error(\"string\" == typeof e ? e : e()) }\r\n\r\n    function E(t, e, n) { void 0 === n && (n = \"\"), C(S(t, e), (function() { return n + \" Shapes \" + t + \" and \" + e + \" must match\" })); }\r\n\r\n    function R(t) { C(null != t, (function() { return \"The input to the tensor constructor must be a non-null value.\" })); }\r\n\r\n    function I(t, e, n) {\r\n        if (void 0 === e && (e = []), void 0 === n && (n = !1), null == e && (e = []), Array.isArray(t) || V(t) && !n)\r\n            for (var r = 0; r < t.length; ++r) I(t[r], e, n);\r\n        else e.push(t);\r\n        return e\r\n    }\r\n\r\n    function k(t) { if (0 === t.length) return 1; for (var e = t[0], n = 1; n < t.length; n++) e *= t[n]; return e }\r\n\r\n    function S(t, e) {\r\n        if (t === e) return !0;\r\n        if (null == t || null == e) return !1;\r\n        if (t.length !== e.length) return !1;\r\n        for (var n = 0; n < t.length; n++)\r\n            if (t[n] !== e[n]) return !1;\r\n        return !0\r\n    }\r\n\r\n    function A(t) { return t % 1 == 0 }\r\n\r\n    function D(t) { if (null != Math.tanh) return Math.tanh(t); if (t === 1 / 0) return 1; if (t === -1 / 0) return -1; var e = Math.exp(2 * t); return (e - 1) / (e + 1) }\r\n\r\n    function T(t) { var e = Math.ceil(Math.sqrt(t)); return [e, Math.ceil(t / e)] }\r\n\r\n    function N(t, e) { return e <= t.length ? t : t + \" \".repeat(e - t.length) }\r\n\r\n    function F(t, e, n) {\r\n        return void 0 === e && (e = function(t) { return 0 }), new Promise((function(r, o) {\r\n            var a = 0,\r\n                i = function() {\r\n                    if (t()) r();\r\n                    else {\r\n                        a++;\r\n                        var s = e(a);\r\n                        null != n && a >= n ? o() : setTimeout(i, s);\r\n                    }\r\n                };\r\n            i();\r\n        }))\r\n    }\r\n\r\n    function _(t, e) {\r\n        for (var n = 1, r = -1, o = 0; o < t.length; ++o)\r\n            if (t[o] >= 0) n *= t[o];\r\n            else if (-1 === t[o]) {\r\n            if (-1 !== r) throw Error(\"Shapes can only have 1 implicit size. Found -1 at dim \" + r + \" and dim \" + o);\r\n            r = o;\r\n        } else if (t[o] < 0) throw Error(\"Shapes can not be < 0. Found \" + t[o] + \" at dim \" + o);\r\n        if (-1 === r) { if (e > 0 && e !== n) throw Error(\"Size(\" + e + \") must match the product of shape \" + t); return t }\r\n        if (0 === n) throw Error(\"Cannot infer the missing size in [\" + t + \"] when there are 0 elements\");\r\n        if (e % n != 0) throw Error(\"The implicit shape can't be a fractional number. Got \" + e + \" / \" + n);\r\n        var a = t.slice();\r\n        return a[r] = e / n, a\r\n    }\r\n\r\n    function O(t, e) { var n = e.length; return C((t = null == t ? e.map((function(t, e) { return e })) : [].concat(t)).every((function(t) { return t >= -n && t < n })), (function() { return \"All values in axis param must be in range [-\" + n + \", \" + n + \") but got axis \" + t })), C(t.every((function(t) { return A(t) })), (function() { return \"All values in axis param must be integers but got axis \" + t })), t.map((function(t) { return t < 0 ? n + t : t })) }\r\n\r\n    function M(t, e) {\r\n        for (var n = [], r = [], o = null != e && Array.isArray(e) && 0 === e.length, a = null == e || o ? null : O(e, t).sort(), i = 0, s = 0; s < t.length; ++s) {\r\n            if (null != a) {\r\n                if (a[i] === s && 1 !== t[s]) throw new Error(\"Can't squeeze axis \" + s + \" since its dim '\" + t[s] + \"' is not 1\");\r\n                (null == a[i] || a[i] > s) && 1 === t[s] && (n.push(t[s]), r.push(s)), a[i] <= s && i++;\r\n            }\r\n            1 !== t[s] && (n.push(t[s]), r.push(s));\r\n        }\r\n        return { newShape: n, keptDims: r }\r\n    }\r\n\r\n    function B(t, e) {\r\n        var n = null;\r\n        if (null == t || \"float32\" === t) n = new Float32Array(e);\r\n        else if (\"int32\" === t) n = new Int32Array(e);\r\n        else {\r\n            if (\"bool\" !== t) throw new Error(\"Unknown data type \" + t);\r\n            n = new Uint8Array(e);\r\n        }\r\n        return n\r\n    }\r\n\r\n    function P(t, e) {\r\n        var n = null;\r\n        if (null == t || \"float32\" === t) n = new Float32Array(e);\r\n        else if (\"int32\" === t) n = new Int32Array(e);\r\n        else if (\"bool\" === t) n = new Uint8Array(e);\r\n        else {\r\n            if (\"string\" !== t) throw new Error(\"Unknown data type \" + t);\r\n            n = new Array(e);\r\n        }\r\n        return n\r\n    }\r\n\r\n    function L(t, e) { for (var n = 0; n < t.length; n++) { var r = t[n]; if (isNaN(r) || !isFinite(r)) throw Error(\"A tensor of type \" + e + \" being uploaded contains \" + r + \".\") } }\r\n\r\n    function W(t) { return \"bool\" === t || \"complex64\" === t || \"float32\" === t || \"int32\" === t || \"string\" === t }\r\n\r\n    function U(t, e) { return \"complex64\" !== e && ((\"float32\" !== e || \"complex64\" === t) && ((\"int32\" !== e || \"float32\" === t || \"complex64\" === t) && (\"bool\" !== e || \"bool\" !== t))) }\r\n\r\n    function V(t) { return t instanceof Float32Array || t instanceof Int32Array || t instanceof Uint8Array }\r\n\r\n    function z(t) { if (\"float32\" === t || \"int32\" === t) return 4; if (\"complex64\" === t) return 8; if (\"bool\" === t) return 1; throw new Error(\"Unknown dtype \" + t) }\r\n\r\n    function G(t) { if (null == t) return 0; var e = 0; return t.forEach((function(t) { return e += t.length })), e }\r\n\r\n    function H(t) { return \"string\" == typeof t || t instanceof String }\r\n\r\n    function q(t) { return \"boolean\" == typeof t }\r\n\r\n    function K(t) { return \"number\" == typeof t }\r\n\r\n    function j(t) { return Array.isArray(t) ? j(t[0]) : t instanceof Float32Array ? \"float32\" : t instanceof Int32Array || t instanceof Uint8Array ? \"int32\" : K(t) ? \"float32\" : H(t) ? \"string\" : q(t) ? \"bool\" : \"float32\" }\r\n\r\n    function X(t) { return !!(t && t.constructor && t.call && t.apply) }\r\n\r\n    function Y(t, e) {\r\n        for (var n = e; n < t; ++n)\r\n            if (t % n == 0) return n;\r\n        return t\r\n    }\r\n\r\n    function $(t) {\r\n        var e = t.length;\r\n        if (e < 2) return [];\r\n        var n = new Array(e - 1);\r\n        n[e - 2] = t[e - 1];\r\n        for (var r = e - 3; r >= 0; --r) n[r] = n[r + 1] * t[r + 1];\r\n        return n\r\n    }\r\n\r\n    function Q(t, e, n) { if (\"string\" === e) throw new Error(\"Cannot convert a string[] to a TypedArray\"); if (Array.isArray(t) && (t = I(t)), n && L(t, e), function(t, e) { return t instanceof Float32Array && \"float32\" === e || t instanceof Int32Array && \"int32\" === e || t instanceof Uint8Array && \"bool\" === e }(t, e)) return t; if (null == e || \"float32\" === e || \"complex64\" === e) return new Float32Array(t); if (\"int32\" === e) return new Int32Array(t); if (\"bool\" === e) { for (var r = new Uint8Array(t.length), o = 0; o < r.length; ++o) 0 !== Math.round(t[o]) && (r[o] = 1); return r } throw new Error(\"Unknown data type \" + e) }\r\n\r\n    function J(t, e) {\r\n        if (0 === t.length) return e[0];\r\n        var n = t.reduce((function(t, e) { return t * e }));\r\n        if (0 === n) return [];\r\n        if (n !== e.length) throw new Error(\"[\" + t + \"] does not match the input size.\");\r\n        return function t(e, n, r) {\r\n            var o = new Array;\r\n            if (1 === n.length)\r\n                for (var a = n[0], i = 0; i < a; i++) o[i] = r[e + i];\r\n            else {\r\n                a = n[0];\r\n                var s = n.slice(1),\r\n                    u = s.reduce((function(t, e) { return t * e }));\r\n                for (i = 0; i < a; i++) o[i] = t(e + i * u, s, r);\r\n            }\r\n            return o\r\n        }(0, t, e)\r\n    }\r\n\r\n    function Z(t, e) { for (var n = tt(t, e), r = 0; r < n.length; r++) n[r] = 1; return n }\r\n\r\n    function tt(t, e) { if (null == e || \"float32\" === e || \"complex64\" === e) return new Float32Array(t); if (\"int32\" === e) return new Int32Array(t); if (\"bool\" === e) return new Uint8Array(t); throw new Error(\"Unknown data type \" + e) }\r\n\r\n    function et() { return i().platform.now() }\r\n\r\n    function nt(t) { t.forEach((function(e) { C(Number.isInteger(e) && e >= 0, (function() { return \"Tensor must have a shape comprised of positive integers but got shape [\" + t + \"].\" })); })); }\r\n\r\n    function rt(t, e) { return void 0 === e && (e = \"utf-8\"), e = e || \"utf-8\", i().platform.encode(t, e) }\r\n\r\n    function ot(t, e) { return void 0 === e && (e = \"utf-8\"), e = e || \"utf-8\", i().platform.decode(t, e) }\r\n\r\n    function at(t, e, n) { if (0 === e) return 0; if (1 === e) return t[0]; for (var r = t[t.length - 1], o = 0; o < t.length - 1; ++o) r += n[o] * t[o]; return r }\r\n\r\n    function it(t, e, n) { if (0 === e) return []; if (1 === e) return [t]; for (var r = new Array(e), o = 0; o < r.length - 1; ++o) r[o] = Math.floor(t / n[o]), t -= r[o] * n[o]; return r[r.length - 1] = t, r }\r\n    var st = Object.freeze({\r\n            shuffle: y,\r\n            clamp: x,\r\n            nearestLargerEven: b,\r\n            sum: w,\r\n            randUniform: function(t, e) { var n = Math.random(); return e * n + (1 - n) * t },\r\n            distSquared: function(t, e) {\r\n                for (var n = 0, r = 0; r < t.length; r++) {\r\n                    var o = Number(t[r]) - Number(e[r]);\r\n                    n += o * o;\r\n                }\r\n                return n\r\n            },\r\n            assert: C,\r\n            assertShapesMatch: E,\r\n            assertNonNull: R,\r\n            flatten: I,\r\n            sizeFromShape: k,\r\n            isScalarShape: function(t) { return 0 === t.length },\r\n            arraysEqual: S,\r\n            isInt: A,\r\n            tanh: D,\r\n            sizeToSquarishShape: T,\r\n            createShuffledIndices: function(t) { for (var e = new Uint32Array(t), n = 0; n < t; ++n) e[n] = n; return y(e), e },\r\n            rightPad: N,\r\n            repeatedTry: F,\r\n            inferFromImplicitShape: _,\r\n            parseAxisParam: O,\r\n            squeezeShape: M,\r\n            getTypedArrayFromDType: B,\r\n            getArrayFromDType: P,\r\n            checkConversionForErrors: L,\r\n            isValidDtype: W,\r\n            hasEncodingLoss: U,\r\n            isTypedArray: V,\r\n            bytesPerElement: z,\r\n            bytesFromStringArray: G,\r\n            isString: H,\r\n            isBoolean: q,\r\n            isNumber: K,\r\n            inferDtype: j,\r\n            isFunction: X,\r\n            nearestDivisor: Y,\r\n            computeStrides: $,\r\n            toTypedArray: Q,\r\n            toNestedArray: J,\r\n            makeOnesTypedArray: Z,\r\n            makeZerosTypedArray: tt,\r\n            now: et,\r\n            assertNonNegativeIntegerDimensions: nt,\r\n            fetch: function(t, e) { return i().platform.fetch(t, e) },\r\n            encodeString: rt,\r\n            decodeString: ot,\r\n            locToIndex: at,\r\n            indexToLoc: it\r\n        }),\r\n        ut = function() {\r\n            function t(t, e) { this.backendTimer = t, this.logger = e, null == e && (this.logger = new ct); }\r\n            return t.prototype.profileKernel = function(t, e, n) {\r\n                var r, o = this,\r\n                    a = this.backendTimer.time((function() { r = n(); }));\r\n                return r.forEach((function(n) {\r\n                    n.data().then((function(r) {\r\n                        ! function(t, e, n) { if (\"float32\" !== e) return !1; for (var r = 0; r < t.length; r++) { var o = t[r]; if (isNaN(o) || !isFinite(o)) return console.warn(\"Found \" + o + \" in the result of '\" + n + \"'\"), !0 } }(r, n.dtype, t), a.then((function(a) {\r\n                            var i = \"\";\r\n                            null != a.getExtraProfileInfo && (i = a.getExtraProfileInfo()), o.logger.logKernelProfile(t, n, r, a.kernelMs, e, i);\r\n                        }));\r\n                    }));\r\n                })), r\r\n            }, t\r\n        }();\r\n    var ct = function() {\r\n        function t() {}\r\n        return t.prototype.logKernelProfile = function(t, e, n, r, o, a) {\r\n            var i = \"number\" == typeof r ? N(r + \"ms\", 9) : r.error,\r\n                s = N(t, 25),\r\n                u = e.rank,\r\n                c = e.size,\r\n                l = N(e.shape.toString(), 14),\r\n                h = \"\";\r\n            for (var f in o) {\r\n                var d = o[f].shape || e.shape,\r\n                    p = d.length;\r\n                h += f + \": \" + p + \"D \" + (p > 0 ? d : \"\") + \" \";\r\n            }\r\n            console.log(\"%c\" + s + \"\\t%c\" + i + \"\\t%c\" + u + \"D \" + l + \"\\t%c\" + c + \"\\t%c\" + h + \"\\t%c\" + a, \"font-weight:bold\", \"color:red\", \"color:blue\", \"color: orange\", \"color: green\", \"color: steelblue\");\r\n        }, t\r\n    }();\r\n    var lt = 20,\r\n        ht = 3,\r\n        ft = 7;\r\n\r\n    function dt(t, e, n, r) {\r\n        var o = $(e),\r\n            a = function(t, e, n, r) {\r\n                var o = k(e),\r\n                    a = r[r.length - 1],\r\n                    i = new Array(a).fill(0),\r\n                    s = e.length,\r\n                    u = \"complex64\" === n ? mt(t) : t;\r\n                if (s > 1)\r\n                    for (var c = 0; c < o / a; c++)\r\n                        for (var l = c * a, h = 0; h < a; h++) i[h] = Math.max(i[h], pt(u[l + h], 0, n).length);\r\n                return i\r\n            }(t, e, n, o),\r\n            i = e.length,\r\n            s = function t(e, n, r, o, a, i) {\r\n                void 0 === i && (i = !0);\r\n                var s = \"complex64\" === r ? 2 : 1,\r\n                    u = n[0],\r\n                    c = n.length;\r\n                if (0 === c) { return \"complex64\" === r ? [pt(mt(e)[0], 0, r)] : \"bool\" === r ? [vt(e[0])] : [e[0].toString()] }\r\n                if (1 === c) {\r\n                    if (u > lt) {\r\n                        var l = ht * s,\r\n                            h = Array.from(e.slice(0, l)),\r\n                            f = Array.from(e.slice((u - ht) * s, u * s));\r\n                        return \"complex64\" === r && (h = mt(h), f = mt(f)), [\"[\" + h.map((function(t, e) { return pt(t, a[e], r) })).join(\", \") + \", ..., \" + f.map((function(t, e) { return pt(t, a[u - ht + e], r) })).join(\", \") + \"]\"]\r\n                    }\r\n                    return [\"[\" + (\"complex64\" === r ? mt(e) : Array.from(e)).map((function(t, e) { return pt(t, a[e], r) })).join(\", \") + \"]\"]\r\n                }\r\n                var d = n.slice(1),\r\n                    p = o.slice(1),\r\n                    v = o[0] * s,\r\n                    m = [];\r\n                if (u > lt) {\r\n                    for (var g = 0; g < ht; g++) {\r\n                        var y = (x = g * v) + v;\r\n                        m.push.apply(m, t(e.slice(x, y), d, r, p, a, !1));\r\n                    }\r\n                    m.push(\"...\");\r\n                    for (g = u - ht; g < u; g++) {\r\n                        y = (x = g * v) + v;\r\n                        m.push.apply(m, t(e.slice(x, y), d, r, p, a, g === u - 1));\r\n                    }\r\n                } else\r\n                    for (g = 0; g < u; g++) {\r\n                        var x;\r\n                        y = (x = g * v) + v;\r\n                        m.push.apply(m, t(e.slice(x, y), d, r, p, a, g === u - 1));\r\n                    }\r\n                var b = 2 === c ? \",\" : \"\";\r\n                m[0] = \"[\" + m[0] + b;\r\n                for (g = 1; g < m.length - 1; g++) m[g] = \" \" + m[g] + b;\r\n                var w = \",\\n\";\r\n                for (g = 2; g < c; g++) w += \"\\n\";\r\n                return m[m.length - 1] = \" \" + m[m.length - 1] + \"]\" + (i ? \"\" : w), m\r\n            }(t, e, n, o, a),\r\n            u = [\"Tensor\"];\r\n        return r && (u.push(\"  dtype: \" + n), u.push(\"  rank: \" + i), u.push(\"  shape: [\" + e + \"]\"), u.push(\"  values:\")), u.push(s.map((function(t) { return \"    \" + t })).join(\"\\n\")), u.join(\"\\n\")\r\n    }\r\n\r\n    function pt(t, e, n) { return N(Array.isArray(t) ? parseFloat(t[0].toFixed(ft)) + \" + \" + parseFloat(t[1].toFixed(ft)) + \"j\" : H(t) ? \"'\" + t + \"'\" : \"bool\" === n ? vt(t) : parseFloat(t.toFixed(ft)).toString(), e) }\r\n\r\n    function vt(t) { return 0 === t ? \"false\" : \"true\" }\r\n\r\n    function mt(t) { for (var e = [], n = 0; n < t.length; n += 2) e.push([t[n], t[n + 1]]); return e }\r\n    var gt = function() {\r\n            function t(t, e, n) {\r\n                var r = this;\r\n                if (this.dtype = e, this.shape = t.slice(), this.size = k(t), null != n) {\r\n                    var o = n.length;\r\n                    C(o === this.size, (function() { return \"Length of values '\" + o + \"' does not match the size inferred by the shape '\" + r.size + \"'.\" }));\r\n                }\r\n                if (\"complex64\" === e) throw new Error(\"complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).\");\r\n                this.values = n || P(e, this.size), this.strides = $(t);\r\n            }\r\n            return t.prototype.set = function(t) {\r\n                for (var e = this, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\r\n                0 === n.length && (n = [0]), C(n.length === this.rank, (function() { return \"The number of provided coordinates (\" + n.length + \") must match the rank (\" + e.rank + \")\" }));\r\n                var o = this.locToIndex(n);\r\n                this.values[o] = t;\r\n            }, t.prototype.get = function() {\r\n                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\r\n                0 === t.length && (t = [0]);\r\n                for (var n = 0, r = 0, o = t; r < o.length; r++) {\r\n                    var a = o[r];\r\n                    if (a < 0 || a >= this.shape[n]) { var i = \"Requested out of range element at \" + t + \".   Buffer shape=\" + this.shape; throw new Error(i) }\r\n                    n++;\r\n                }\r\n                for (var s = t[t.length - 1], u = 0; u < t.length - 1; ++u) s += this.strides[u] * t[u];\r\n                return this.values[s]\r\n            }, t.prototype.locToIndex = function(t) { if (0 === this.rank) return 0; if (1 === this.rank) return t[0]; for (var e = t[t.length - 1], n = 0; n < t.length - 1; ++n) e += this.strides[n] * t[n]; return e }, t.prototype.indexToLoc = function(t) { if (0 === this.rank) return []; if (1 === this.rank) return [t]; for (var e = new Array(this.shape.length), n = 0; n < e.length - 1; ++n) e[n] = Math.floor(t / this.strides[n]), t -= e[n] * this.strides[n]; return e[e.length - 1] = t, e }, Object.defineProperty(t.prototype, \"rank\", { get: function() { return this.shape.length }, enumerable: !0, configurable: !0 }), t.prototype.toTensor = function() { return yt().makeTensor(this.values, this.shape, this.dtype) }, t\r\n        }(),\r\n        yt = null,\r\n        xt = null,\r\n        bt = null;\r\n    var wt = function() {\r\n        function t(t, e, n, r) { this.kept = !1, this.isDisposedInternal = !1, this.shape = t.slice(), this.dtype = e || \"float32\", this.size = k(t), this.strides = $(t), this.dataId = n, this.id = r, this.rankType = this.rank < 5 ? this.rank.toString() : \"higher\"; }\r\n        return t.prototype.flatten = function() { return this.throwIfDisposed(), this.as1D() }, t.prototype.asScalar = function() { return this.throwIfDisposed(), C(1 === this.size, (function() { return \"The array must have only 1 element.\" })), this.reshape([]) }, t.prototype.as1D = function() { return this.throwIfDisposed(), this.reshape([this.size]) }, t.prototype.as2D = function(t, e) { return this.throwIfDisposed(), this.reshape([t, e]) }, t.prototype.as3D = function(t, e, n) { return this.throwIfDisposed(), this.reshape([t, e, n]) }, t.prototype.as4D = function(t, e, n, r) { return this.throwIfDisposed(), this.reshape([t, e, n, r]) }, t.prototype.as5D = function(t, e, n, r, o) { return this.throwIfDisposed(), this.reshape([t, e, n, r, o]) }, t.prototype.asType = function(t) { return this.throwIfDisposed(), xt.cast(this, t) }, Object.defineProperty(t.prototype, \"rank\", { get: function() { return this.shape.length }, enumerable: !0, configurable: !0 }), t.prototype.buffer = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t;\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return [4, this.data()];\r\n                        case 1:\r\n                            return t = e.sent(), [2, xt.buffer(this.shape, this.dtype, t)]\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.prototype.bufferSync = function() { return xt.buffer(this.shape, this.dtype, this.dataSync()) }, t.prototype.array = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t;\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return [4, this.data()];\r\n                        case 1:\r\n                            return t = e.sent(), [2, J(this.shape, t)]\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.prototype.arraySync = function() { return J(this.shape, this.dataSync()) }, t.prototype.data = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t, e;\r\n                return r(this, (function(n) {\r\n                    switch (n.label) {\r\n                        case 0:\r\n                            return this.throwIfDisposed(), t = yt().read(this.dataId), \"string\" !== this.dtype ? [3, 2] : [4, t];\r\n                        case 1:\r\n                            e = n.sent();\r\n                            try { return [2, e.map((function(t) { return ot(t) }))] } catch (t) { throw new Error(\"Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().\") }\r\n                            n.label = 2;\r\n                        case 2:\r\n                            return [2, t]\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.prototype.dataSync = function() {\r\n            this.throwIfDisposed();\r\n            var t = yt().readSync(this.dataId);\r\n            if (\"string\" === this.dtype) try { return t.map((function(t) { return ot(t) })) } catch (t) { throw new Error(\"Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().\") }\r\n            return t\r\n        }, t.prototype.bytes = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t;\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return this.throwIfDisposed(), [4, yt().read(this.dataId)];\r\n                        case 1:\r\n                            return t = e.sent(), \"string\" === this.dtype ? [2, t] : [2, new Uint8Array(t.buffer)]\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.prototype.dispose = function() { this.isDisposed || (yt().disposeTensor(this), this.isDisposedInternal = !0); }, Object.defineProperty(t.prototype, \"isDisposed\", { get: function() { return this.isDisposedInternal }, enumerable: !0, configurable: !0 }), t.prototype.throwIfDisposed = function() { if (this.isDisposed) throw new Error(\"Tensor is disposed.\") }, t.prototype.toFloat = function() { return this.asType(\"float32\") }, t.prototype.toInt = function() { return this.asType(\"int32\") }, t.prototype.toBool = function() { return this.asType(\"bool\") }, t.prototype.print = function(t) { return void 0 === t && (t = !1), xt.print(this, t) }, t.prototype.reshape = function(t) { return this.throwIfDisposed(), xt.reshape(this, t) }, t.prototype.reshapeAs = function(t) { return this.throwIfDisposed(), this.reshape(t.shape) }, t.prototype.expandDims = function(t) { return void 0 === t && (t = 0), xt.expandDims(this, t) }, t.prototype.cumsum = function(t, e, n) { return void 0 === t && (t = 0), void 0 === e && (e = !1), void 0 === n && (n = !1), xt.cumsum(this, t, e, n) }, t.prototype.squeeze = function(t) { return this.throwIfDisposed(), xt.squeeze(this, t) }, t.prototype.clone = function() { return this.throwIfDisposed(), xt.clone(this) }, t.prototype.oneHot = function(t, e, n) { return this.throwIfDisposed(), xt.oneHot(this, t, e, n) }, t.prototype.toString = function(t) { return void 0 === t && (t = !1), dt(this.dataSync(), this.shape, this.dtype, t) }, t.prototype.tile = function(t) { return this.throwIfDisposed(), xt.tile(this, t) }, t.prototype.gather = function(t, e) { return void 0 === e && (e = 0), this.throwIfDisposed(), xt.gather(this, t, e) }, t.prototype.matMul = function(t, e, n) { return void 0 === e && (e = !1), void 0 === n && (n = !1), this.throwIfDisposed(), xt.matMul(this, t, e, n) }, t.prototype.dot = function(t) { return this.throwIfDisposed(), xt.dot(this, t) }, t.prototype.norm = function(t, e, n) { return void 0 === t && (t = \"euclidean\"), void 0 === e && (e = null), void 0 === n && (n = !1), this.throwIfDisposed(), xt.norm(this, t, e, n) }, t.prototype.slice = function(t, e) { return this.throwIfDisposed(), xt.slice(this, t, e) }, t.prototype.reverse = function(t) { return this.throwIfDisposed(), xt.reverse(this, t) }, t.prototype.concat = function(e, n) { return void 0 === n && (n = 0), this.throwIfDisposed(), e instanceof t && (e = [e]), xt.concat([this].concat(e), n) }, t.prototype.split = function(t, e) { return void 0 === e && (e = 0), this.throwIfDisposed(), xt.split(this, t, e) }, t.prototype.stack = function(t, e) { return void 0 === e && (e = 0), xt.stack([this, t], e) }, t.prototype.unstack = function(t) { return void 0 === t && (t = 0), xt.unstack(this, t) }, t.prototype.pad = function(t, e) { return void 0 === e && (e = 0), xt.pad(this, t, e) }, t.prototype.batchNormalization = function(t, e, n, r, o) { return void 0 === n && (n = .001), bt(\"tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon\"), this.batchNorm(t, e, o, r, n) }, t.prototype.batchNorm = function(t, e, n, r, o) { return void 0 === o && (o = .001), this.throwIfDisposed(), xt.batchNorm(this, t, e, n, r, o) }, t.prototype.all = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.all(this, t, e) }, t.prototype.any = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.any(this, t, e) }, t.prototype.logSumExp = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.logSumExp(this, t, e) }, t.prototype.sum = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.sum(this, t, e) }, t.prototype.prod = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.prod(this, t, e) }, t.prototype.mean = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.mean(this, t, e) }, t.prototype.min = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.min(this, t, e) }, t.prototype.max = function(t, e) { return void 0 === t && (t = null), void 0 === e && (e = !1), this.throwIfDisposed(), xt.max(this, t, e) }, t.prototype.argMin = function(t) { return void 0 === t && (t = null), this.throwIfDisposed(), xt.argMin(this, t) }, t.prototype.argMax = function(t) { return void 0 === t && (t = null), this.throwIfDisposed(), xt.argMax(this, t) }, t.prototype.cast = function(t) { return this.throwIfDisposed(), xt.cast(this, t) }, t.prototype.add = function(t) { return this.throwIfDisposed(), xt.add(this, t) }, t.prototype.addStrict = function(t) { return this.throwIfDisposed(), xt.addStrict(this, t) }, t.prototype.atan2 = function(t) { return this.throwIfDisposed(), xt.atan2(this, t) }, t.prototype.sub = function(t) { return this.throwIfDisposed(), xt.sub(this, t) }, t.prototype.subStrict = function(t) { return this.throwIfDisposed(), xt.subStrict(this, t) }, t.prototype.pow = function(t) { return this.throwIfDisposed(), xt.pow(this, t) }, t.prototype.powStrict = function(t) { return this.throwIfDisposed(), xt.powStrict(this, t) }, t.prototype.mul = function(t) { return this.throwIfDisposed(), xt.mul(this, t) }, t.prototype.mulStrict = function(t) { return this.throwIfDisposed(), xt.mulStrict(this, t) }, t.prototype.div = function(t) { return this.throwIfDisposed(), xt.div(this, t) }, t.prototype.divNoNan = function(t) { return this.throwIfDisposed(), xt.divNoNan(this, t) }, t.prototype.floorDiv = function(t) { return this.throwIfDisposed(), xt.floorDiv(this, t) }, t.prototype.divStrict = function(t) { return this.throwIfDisposed(), xt.divStrict(this, t) }, t.prototype.minimum = function(t) { return this.throwIfDisposed(), xt.minimum(this, t) }, t.prototype.minimumStrict = function(t) { return this.throwIfDisposed(), xt.minimumStrict(this, t) }, t.prototype.maximum = function(t) { return this.throwIfDisposed(), xt.maximum(this, t) }, t.prototype.maximumStrict = function(t) { return this.throwIfDisposed(), xt.maximumStrict(this, t) }, t.prototype.mod = function(t) { return this.throwIfDisposed(), xt.mod(this, t) }, t.prototype.modStrict = function(t) { return this.throwIfDisposed(), xt.modStrict(this, t) }, t.prototype.squaredDifferenceStrict = function(t) { return this.throwIfDisposed(), xt.squaredDifferenceStrict(this, t) }, t.prototype.transpose = function(t) { return this.throwIfDisposed(), xt.transpose(this, t) }, t.prototype.notEqual = function(t) { return this.throwIfDisposed(), xt.notEqual(this, t) }, t.prototype.notEqualStrict = function(t) { return this.throwIfDisposed(), xt.notEqualStrict(this, t) }, t.prototype.less = function(t) { return this.throwIfDisposed(), xt.less(this, t) }, t.prototype.lessStrict = function(t) { return this.throwIfDisposed(), xt.lessStrict(this, t) }, t.prototype.equal = function(t) { return this.throwIfDisposed(), xt.equal(this, t) }, t.prototype.equalStrict = function(t) { return this.throwIfDisposed(), xt.equalStrict(this, t) }, t.prototype.lessEqual = function(t) { return this.throwIfDisposed(), xt.lessEqual(this, t) }, t.prototype.lessEqualStrict = function(t) { return this.throwIfDisposed(), xt.lessEqualStrict(this, t) }, t.prototype.greater = function(t) { return this.throwIfDisposed(), xt.greater(this, t) }, t.prototype.greaterStrict = function(t) { return this.throwIfDisposed(), xt.greaterStrict(this, t) }, t.prototype.greaterEqual = function(t) { return this.throwIfDisposed(), xt.greaterEqual(this, t) }, t.prototype.greaterEqualStrict = function(t) { return this.throwIfDisposed(), xt.greaterEqualStrict(this, t) }, t.prototype.logicalAnd = function(t) { return this.throwIfDisposed(), xt.logicalAnd(this, t) }, t.prototype.logicalOr = function(t) { return this.throwIfDisposed(), xt.logicalOr(this, t) }, t.prototype.logicalNot = function() { return this.throwIfDisposed(), xt.logicalNot(this) }, t.prototype.logicalXor = function(t) { return this.throwIfDisposed(), xt.logicalXor(this, t) }, t.prototype.where = function(t, e) { return this.throwIfDisposed(), xt.where(t, this, e) }, t.prototype.neg = function() { return this.throwIfDisposed(), xt.neg(this) }, t.prototype.ceil = function() { return this.throwIfDisposed(), xt.ceil(this) }, t.prototype.floor = function() { return this.throwIfDisposed(), xt.floor(this) }, t.prototype.sign = function() { return this.throwIfDisposed(), xt.sign(this) }, t.prototype.isNaN = function() { return this.throwIfDisposed(), xt.isNaN(this) }, t.prototype.isInf = function() { return this.throwIfDisposed(), xt.isInf(this) }, t.prototype.isFinite = function() { return this.throwIfDisposed(), xt.isFinite(this) }, t.prototype.exp = function() { return this.throwIfDisposed(), xt.exp(this) }, t.prototype.expm1 = function() { return this.throwIfDisposed(), xt.expm1(this) }, t.prototype.log = function() { return this.throwIfDisposed(), xt.log(this) }, t.prototype.log1p = function() { return this.throwIfDisposed(), xt.log1p(this) }, t.prototype.sqrt = function() { return this.throwIfDisposed(), xt.sqrt(this) }, t.prototype.rsqrt = function() { return this.throwIfDisposed(), xt.rsqrt(this) }, t.prototype.square = function() { return this.throwIfDisposed(), xt.square(this) }, t.prototype.reciprocal = function() { return this.throwIfDisposed(), xt.reciprocal(this) }, t.prototype.abs = function() { return this.throwIfDisposed(), xt.abs(this) }, t.prototype.clipByValue = function(t, e) { return this.throwIfDisposed(), xt.clipByValue(this, t, e) }, t.prototype.relu = function() { return this.throwIfDisposed(), xt.relu(this) }, t.prototype.relu6 = function() { return this.throwIfDisposed(), xt.relu6(this) }, t.prototype.elu = function() { return this.throwIfDisposed(), xt.elu(this) }, t.prototype.selu = function() { return this.throwIfDisposed(), xt.selu(this) }, t.prototype.leakyRelu = function(t) { return void 0 === t && (t = .2), this.throwIfDisposed(), xt.leakyRelu(this, t) }, t.prototype.prelu = function(t) { return this.throwIfDisposed(), xt.prelu(this, t) }, t.prototype.sigmoid = function() { return this.throwIfDisposed(), xt.sigmoid(this) }, t.prototype.logSigmoid = function() { return this.throwIfDisposed(), xt.logSigmoid(this) }, t.prototype.softplus = function() { return this.throwIfDisposed(), xt.softplus(this) }, t.prototype.zerosLike = function() { return this.throwIfDisposed(), xt.zerosLike(this) }, t.prototype.onesLike = function() { return this.throwIfDisposed(), xt.onesLike(this) }, t.prototype.sin = function() { return this.throwIfDisposed(), xt.sin(this) }, t.prototype.cos = function() { return this.throwIfDisposed(), xt.cos(this) }, t.prototype.tan = function() { return this.throwIfDisposed(), xt.tan(this) }, t.prototype.asin = function() { return this.throwIfDisposed(), xt.asin(this) }, t.prototype.acos = function() { return this.throwIfDisposed(), xt.acos(this) }, t.prototype.atan = function() { return this.throwIfDisposed(), xt.atan(this) }, t.prototype.sinh = function() { return this.throwIfDisposed(), xt.sinh(this) }, t.prototype.cosh = function() { return this.throwIfDisposed(), xt.cosh(this) }, t.prototype.tanh = function() { return this.throwIfDisposed(), xt.tanh(this) }, t.prototype.asinh = function() { return this.throwIfDisposed(), xt.asinh(this) }, t.prototype.acosh = function() { return this.throwIfDisposed(), xt.acosh(this) }, t.prototype.atanh = function() { return this.throwIfDisposed(), xt.atanh(this) }, t.prototype.erf = function() { return this.throwIfDisposed(), xt.erf(this) }, t.prototype.round = function() { return this.throwIfDisposed(), xt.round(this) }, t.prototype.step = function(t) { return void 0 === t && (t = 0), this.throwIfDisposed(), xt.step(this, t) }, t.prototype.softmax = function(t) { return void 0 === t && (t = -1), this.throwIfDisposed(), xt.softmax(this, t) }, t.prototype.logSoftmax = function(t) { return void 0 === t && (t = -1), this.throwIfDisposed(), xt.logSoftmax(this, t) }, t.prototype.resizeBilinear = function(t, e) { return void 0 === e && (e = !1), this.throwIfDisposed(), xt.image.resizeBilinear(this, t, e) }, t.prototype.resizeNearestNeighbor = function(t, e) { return void 0 === e && (e = !1), this.throwIfDisposed(), xt.image.resizeNearestNeighbor(this, t, e) }, t.prototype.conv1d = function(t, e, n, r, o, a) { return void 0 === r && (r = \"NWC\"), void 0 === o && (o = 1), this.throwIfDisposed(), xt.conv1d(this, t, e, n, r, o, a) }, t.prototype.conv2d = function(t, e, n, r, o, a) { return void 0 === r && (r = \"NHWC\"), void 0 === o && (o = [1, 1]), this.throwIfDisposed(), xt.conv2d(this, t, e, n, r, o, a) }, t.prototype.conv2dTranspose = function(t, e, n, r, o) { return this.throwIfDisposed(), xt.conv2dTranspose(this, t, e, n, r, o) }, t.prototype.depthwiseConv2D = function(t, e, n, r, o, a) { return void 0 === r && (r = \"NHWC\"), void 0 === o && (o = [1, 1]), this.throwIfDisposed(), xt.depthwiseConv2d(this, t, e, n, r, o, a) }, t.prototype.separableConv2d = function(t, e, n, r, o, a) { return void 0 === o && (o = [1, 1]), void 0 === a && (a = \"NHWC\"), this.throwIfDisposed(), xt.separableConv2d(this, t, e, n, r, o, a) }, t.prototype.avgPool = function(t, e, n, r) { return this.throwIfDisposed(), xt.avgPool(this, t, e, n, r) }, t.prototype.maxPool = function(t, e, n, r) { return this.throwIfDisposed(), xt.maxPool(this, t, e, n, r) }, t.prototype.localResponseNormalization = function(t, e, n, r) { return void 0 === t && (t = 5), void 0 === e && (e = 1), void 0 === n && (n = 1), void 0 === r && (r = .5), xt.localResponseNormalization(this, t, e, n, r) }, t.prototype.pool = function(t, e, n, r, o) { return this.throwIfDisposed(), xt.pool(this, t, e, n, r, o) }, t.prototype.variable = function(t, e, n) { return void 0 === t && (t = !0), this.throwIfDisposed(), yt().makeVariable(this, t, e, n) }, t.prototype.unsortedSegmentSum = function(t, e) { return this.throwIfDisposed(), xt.unsortedSegmentSum(this, t, e) }, t.prototype.batchToSpaceND = function(t, e) { return this.throwIfDisposed(), xt.batchToSpaceND(this, t, e) }, t.prototype.spaceToBatchND = function(t, e) { return this.throwIfDisposed(), xt.spaceToBatchND(this, t, e) }, t.prototype.topk = function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = !0), this.throwIfDisposed(), xt.topk(this, t, e) }, t.prototype.stridedSlice = function(t, e, n, r, o, a, i, s) { return void 0 === r && (r = 0), void 0 === o && (o = 0), void 0 === a && (a = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), this.throwIfDisposed(), xt.stridedSlice(this, t, e, n, r, o, a, i, s) }, t.prototype.depthToSpace = function(t, e) { return this.throwIfDisposed(), xt.depthToSpace(this, t, e) }, t.prototype.fft = function() { return this.throwIfDisposed(), xt.spectral.fft(this) }, t.prototype.ifft = function() { return this.throwIfDisposed(), xt.spectral.ifft(this) }, t.prototype.rfft = function() { return this.throwIfDisposed(), xt.spectral.rfft(this) }, t.prototype.irfft = function() { return this.throwIfDisposed(), xt.spectral.irfft(this) }, t\r\n    }();\r\n    Object.defineProperty(wt, Symbol.hasInstance, { value: function(t) { return !!t && null != t.dataId && null != t.shape && null != t.dtype } });\r\n    var Ct, Et, Rt, It, kt, St = function(t) {\r\n        function n(e, n, r, o) { var a = t.call(this, e.shape, e.dtype, e.dataId, o) || this; return a.trainable = n, a.name = r, a }\r\n        return e(n, t), n.prototype.assign = function(t) {\r\n            if (t.dtype !== this.dtype) throw new Error(\"dtype of the new value (\" + t.dtype + \") and previous value (\" + this.dtype + \") must match\");\r\n            if (!S(t.shape, this.shape)) throw new Error(\"shape of the new value (\" + t.shape + \") and previous value (\" + this.shape + \") must match\");\r\n            yt().disposeTensor(this), this.dataId = t.dataId, yt().incRef(this, null);\r\n        }, n.prototype.dispose = function() { yt().disposeVariable(this), this.isDisposedInternal = !0; }, n\r\n    }(wt);\r\n    Object.defineProperty(St, Symbol.hasInstance, { value: function(t) { return t instanceof wt && null != t.assign && t.assign instanceof Function } }),\r\n        function(t) { t.R0 = \"R0\", t.R1 = \"R1\", t.R2 = \"R2\", t.R3 = \"R3\", t.R4 = \"R4\", t.R5 = \"R5\", t.R6 = \"R6\"; }(Ct || (Ct = {})),\r\n        function(t) { t.float32 = \"float32\", t.int32 = \"int32\", t.bool = \"int32\", t.complex64 = \"complex64\"; }(Et || (Et = {})),\r\n        function(t) { t.float32 = \"float32\", t.int32 = \"int32\", t.bool = \"bool\", t.complex64 = \"complex64\"; }(Rt || (Rt = {})),\r\n        function(t) { t.float32 = \"float32\", t.int32 = \"float32\", t.bool = \"float32\", t.complex64 = \"complex64\"; }(It || (It = {})),\r\n        function(t) { t.float32 = \"complex64\", t.int32 = \"complex64\", t.bool = \"complex64\", t.complex64 = \"complex64\"; }(kt || (kt = {}));\r\n    var At = { float32: It, int32: Et, bool: Rt, complex64: kt };\r\n\r\n    function Dt(t, e) { if (\"string\" === t || \"string\" === e) { if (\"string\" === t && \"string\" === e) return \"string\"; throw new Error(\"Can not upcast \" + t + \" with \" + e) } return At[t][e] }\r\n\r\n    function Tt(t) { return Dt(t, \"int32\") }\r\n\r\n    function Nt(t, e) { if (t.dtype === e.dtype) return [t, e]; var n = Dt(t.dtype, e.dtype); return [t.cast(n), e.cast(n)] }\r\n\r\n    function Ft(t, e) { C(t.dtype === e.dtype, (function() { return \"The dtypes of the first(\" + t.dtype + \") and second(\" + e.dtype + \") input must match\" })); }\r\n\r\n    function _t(t) {\r\n        var e = [];\r\n        return function t(e, n, r) {\r\n            if (null == e) return;\r\n            if (e instanceof wt) return void n.push(e);\r\n            if (o = e, !Array.isArray(o) && \"object\" != typeof o) return;\r\n            var o;\r\n            var a = e;\r\n            for (var i in a) {\r\n                var s = a[i];\r\n                r.has(s) || (r.add(s), t(s, n, r));\r\n            }\r\n        }(t, e, new Set), e\r\n    }\r\n    var Ot, Mt = Object.freeze({ makeTypesMatch: Nt, assertTypesMatch: Ft, isTensorInList: function(t, e) { return e.some((function(e) { return e.id === t.id })) }, getTensorsInContainer: _t }),\r\n        Bt = function() {\r\n            function t() { this.registeredVariables = {}, this.nextTapeNodeId = 0, this.numBytes = 0, this.numTensors = 0, this.numStringTensors = 0, this.numDataBuffers = 0, this.gradientDepth = 0, this.kernelDepth = 0, this.scopeStack = [], this.numDataMovesStack = [], this.nextScopeId = 0, this.tensorInfo = new WeakMap, this.profiling = !1, this.activeProfile = { newBytes: 0, newTensors: 0, peakBytes: 0, kernels: [], result: null }; }\r\n            return t.prototype.dispose = function() { for (var t in this.registeredVariables) this.registeredVariables[t].dispose(); }, t\r\n        }(),\r\n        Pt = function() {\r\n            function t(t) { this.ENV = t, this.registry = {}, this.registryFactory = {}, this.pendingBackendInitId = 0, this.state = new Bt; }\r\n            return t.prototype.ready = function() {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var t, e, n;\r\n                    return r(this, (function(r) {\r\n                        switch (r.label) {\r\n                            case 0:\r\n                                if (null != this.pendingBackendInit) return [2, this.pendingBackendInit.then((function() {}))];\r\n                                if (null != this.backendInstance) return [2];\r\n                                t = this.getSortedBackends(), e = 0, r.label = 1;\r\n                            case 1:\r\n                                return e < t.length ? (n = t[e], [4, this.initializeBackend(n).success]) : [3, 5];\r\n                            case 2:\r\n                                return r.sent() ? [4, this.setBackend(n)] : [3, 4];\r\n                            case 3:\r\n                                return r.sent(), [2];\r\n                            case 4:\r\n                                return e++, [3, 1];\r\n                            case 5:\r\n                                throw new Error(\"Could not initialize any backends, all backend initializations failed.\")\r\n                        }\r\n                    }))\r\n                }))\r\n            }, Object.defineProperty(t.prototype, \"backend\", {\r\n                get: function() {\r\n                    if (null != this.pendingBackendInit) throw new Error(\"Backend '\" + this.backendName + \"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods\");\r\n                    if (null == this.backendInstance) {\r\n                        var t = this.initializeBackendsAndReturnBest(),\r\n                            e = t.name;\r\n                        if (t.asyncInit) throw new Error(\"The highest priority backend '\" + e + \"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods\");\r\n                        this.setBackend(e);\r\n                    }\r\n                    return this.backendInstance\r\n                },\r\n                enumerable: !0,\r\n                configurable: !0\r\n            }), t.prototype.backendNames = function() { return Object.keys(this.registryFactory) }, t.prototype.findBackend = function(t) { if (!(t in this.registry)) { if (!(t in this.registryFactory)) return null; if (this.initializeBackend(t).asyncInit) return null } return this.registry[t] }, t.prototype.findBackendFactory = function(t) { return t in this.registryFactory ? this.registryFactory[t].factory : null }, t.prototype.registerBackend = function(t, e, n) { return void 0 === n && (n = 1), t in this.registryFactory ? (console.warn(t + \" backend was already registered. Reusing existing backend factory.\"), !1) : (this.registryFactory[t] = { factory: e, priority: n }, !0) }, t.prototype.setBackend = function(t) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var e, n, o;\r\n                    return r(this, (function(r) {\r\n                        switch (r.label) {\r\n                            case 0:\r\n                                if (null == this.registryFactory[t]) throw new Error(\"Backend name '\" + t + \"' not found in registry\");\r\n                                return this.backendName = t, null != this.registry[t] ? [3, 4] : (this.backendInstance = null, e = this.initializeBackend(t), n = e.success, e.asyncInit ? [4, n] : [3, 2]);\r\n                            case 1:\r\n                                return o = r.sent(), [3, 3];\r\n                            case 2:\r\n                                o = n, r.label = 3;\r\n                            case 3:\r\n                                if (!o) return [2, !1];\r\n                                r.label = 4;\r\n                            case 4:\r\n                                return this.backendInstance = this.registry[t], this.setupRegisteredKernels(), this.profiler = new ut(this.backendInstance), [2, !0]\r\n                        }\r\n                    }))\r\n                }))\r\n            }, t.prototype.setupRegisteredKernels = function() {\r\n                var t = this;\r\n                f(this.backendName).forEach((function(e) { null != e.setupFunc && e.setupFunc(t.backendInstance); }));\r\n            }, t.prototype.disposeRegisteredKernels = function(t) {\r\n                var e = this;\r\n                f(t).forEach((function(n) { null != n.disposeFunc && n.disposeFunc(e.registry[t]); }));\r\n            }, t.prototype.initializeBackend = function(t) {\r\n                var e = this,\r\n                    n = this.registryFactory[t];\r\n                if (null == n) throw new Error(\"Cannot initialize backend \" + t + \", no registration found.\");\r\n                try {\r\n                    var r = n.factory();\r\n                    if (Promise.resolve(r) === r) {\r\n                        var o = ++this.pendingBackendInitId,\r\n                            a = r.then((function(n) { return !(o < e.pendingBackendInitId) && (e.registry[t] = n, e.pendingBackendInit = null, !0) })).catch((function(n) { return !(o < e.pendingBackendInitId) && (e.pendingBackendInit = null, console.warn(\"Initialization of backend \" + t + \" failed\"), console.warn(n.stack || n.message), !1) }));\r\n                        return this.pendingBackendInit = a, { success: a, asyncInit: !0 }\r\n                    }\r\n                    return this.registry[t] = r, { success: !0, asyncInit: !1 }\r\n                } catch (e) { return console.warn(\"Initialization of backend \" + t + \" failed\"), console.warn(e.stack || e.message), { success: !1, asyncInit: !1 } }\r\n            }, t.prototype.removeBackend = function(t) {\r\n                if (!(t in this.registryFactory)) throw new Error(t + \" backend not found in registry\");\r\n                this.backendName === t && null != this.pendingBackendInit && this.pendingBackendInitId++, t in this.registry && (this.disposeRegisteredKernels(t), this.registry[t].dispose(), delete this.registry[t]), delete this.registryFactory[t], this.backendName === t && (this.pendingBackendInit = null, this.backendName = null, this.backendInstance = null);\r\n            }, t.prototype.getSortedBackends = function() { var t = this; if (0 === Object.keys(this.registryFactory).length) throw new Error(\"No backend found in registry.\"); return Object.keys(this.registryFactory).sort((function(e, n) { return t.registryFactory[n].priority - t.registryFactory[e].priority })) }, t.prototype.initializeBackendsAndReturnBest = function() {\r\n                for (var t = this.getSortedBackends(), e = 0; e < t.length; e++) {\r\n                    var n = t[e],\r\n                        r = this.initializeBackend(n),\r\n                        o = r.success,\r\n                        a = r.asyncInit;\r\n                    if (a || o) return { name: n, asyncInit: a }\r\n                }\r\n                throw new Error(\"Could not initialize any backends, all backend initializations failed.\")\r\n            }, t.prototype.moveData = function(t, e) {\r\n                var n = this.state.tensorInfo.get(e),\r\n                    r = n.backend,\r\n                    o = this.readSync(e);\r\n                r.disposeData(e), n.backend = t, t.move(e, o, n.shape, n.dtype), this.shouldCheckForMemLeaks() && this.state.numDataMovesStack[this.state.numDataMovesStack.length - 1]++;\r\n            }, t.prototype.tidy = function(t, e) {\r\n                var n, r = this,\r\n                    o = null;\r\n                if (null == e) {\r\n                    if (\"function\" != typeof t) throw new Error(\"Please provide a function to tidy()\");\r\n                    e = t;\r\n                } else {\r\n                    if (\"string\" != typeof t && !(t instanceof String)) throw new Error(\"When calling with two arguments, the first argument to tidy() must be a string\");\r\n                    if (\"function\" != typeof e) throw new Error(\"When calling with two arguments, the 2nd argument to tidy() must be a function\");\r\n                    o = t;\r\n                }\r\n                return this.scopedRun((function() { return r.startScope(o) }), (function() { return r.endScope(n) }), (function() { return (n = e()) instanceof Promise && console.error(\"Cannot return a Promise inside of tidy.\"), n }))\r\n            }, t.prototype.scopedRun = function(t, e, n) { t(); try { var r = n(); return e(), r } catch (t) { throw e(), t } }, t.prototype.nextTensorId = function() { return t.nextTensorId++ }, t.prototype.nextVariableId = function() { return t.nextVariableId++ }, t.prototype.clone = function(t) {\r\n                var e = this.makeTensorFromDataId(t.dataId, t.shape, t.dtype),\r\n                    n = { x: t };\r\n                return this.addTapeNode(this.state.activeScope.name, n, [e], (function(t) { return { x: function() { return t.toFloat() } } }), []), e\r\n            }, t.prototype.runKernel = function(t, e, n, r, o) { return this.runKernelFunc(null, e, null, t, n, r, o) }, t.prototype.shouldCheckForMemLeaks = function() { return this.ENV.getBool(\"IS_TEST\") }, t.prototype.checkKernelForMemLeak = function(t, e, n) {\r\n                var r = this.backend.numDataIds(),\r\n                    o = 0;\r\n                n.forEach((function(t) { o += \"complex64\" === t.dtype ? 3 : 1; }));\r\n                var a = this.state.numDataMovesStack[this.state.numDataMovesStack.length - 1],\r\n                    i = r - e - o - a;\r\n                if (i > 0) throw new Error(\"Backend '\" + this.backendName + \"' has an internal memory leak (\" + i + \" data ids) after running '\" + t + \"'\")\r\n            }, t.prototype.runKernelFunc = function(t, e, n, r, o, a, i) {\r\n                var s, u = this;\r\n                void 0 === a && (a = []), void 0 === i && (i = []);\r\n                var c = [],\r\n                    h = this.isTapeOn();\r\n                null == r && (r = null != this.state.activeScope ? this.state.activeScope.name : \"\");\r\n                var f, d = function(t) { h && (c = t.map((function(t) { return u.keep(u.clone(t)) }))); },\r\n                    p = this.state.numBytes,\r\n                    v = this.state.numTensors;\r\n                this.shouldCheckForMemLeaks() && this.state.numDataMovesStack.push(0);\r\n                var m, g = l(r, this.backendName);\r\n                return f = null != g ? function() {\r\n                    var t = u.backend.numDataIds();\r\n                    m = g.kernelFunc({ inputs: e, attrs: o, backend: u.backend });\r\n                    var n = Array.isArray(m) ? m : [m];\r\n                    u.shouldCheckForMemLeaks() && u.checkKernelForMemLeak(r, t, n);\r\n                    var s = n.map((function(t) {\r\n                            var e = t.dataId,\r\n                                n = t.shape,\r\n                                r = t.dtype;\r\n                            return u.makeTensorFromDataId(e, n, r)\r\n                        })),\r\n                        c = s.filter((function(t, e) { return i[e] }));\r\n                    return d((a || []).slice().concat(c)), s\r\n                } : function() {\r\n                    var e = u.backend.numDataIds();\r\n                    m = u.tidy((function() { return t(u.backend, d) }));\r\n                    var n = Array.isArray(m) ? m : [m];\r\n                    return u.shouldCheckForMemLeaks() && u.checkKernelForMemLeak(r, e, n), n\r\n                }, this.scopedRun((function() { return u.state.kernelDepth++ }), (function() { return u.state.kernelDepth-- }), (function() { s = u.ENV.getBool(\"DEBUG\") ? u.profiler.profileKernel(r, e, (function() { return f() })) : f(); })), h && this.addTapeNode(r, e, s, n, c), this.state.profiling && this.state.activeProfile.kernels.push({ name: r, bytesAdded: this.state.numBytes - p, totalBytesSnapshot: this.state.numBytes, tensorsAdded: this.state.numTensors - v, totalTensorsSnapshot: this.state.numTensors, inputShapes: Object.keys(e).map((function(t) { return e[t].shape })), outputShapes: s.map((function(t) { return t.shape })) }), Array.isArray(m) ? s : s[0]\r\n            }, t.prototype.makeTensor = function(t, e, n, r) {\r\n                if (null == t) throw new Error(\"Values passed to engine.makeTensor() are null\");\r\n                n = n || \"float32\", r = r || this.backend;\r\n                var o = t;\r\n                \"string\" === n && H(t[0]) && (o = t.map((function(t) { return rt(t) })));\r\n                var a = r.write(o, e, n),\r\n                    i = new wt(e, n, a, this.nextTensorId());\r\n                if (this.incRef(i, r), \"string\" === n) {\r\n                    var s = this.state.tensorInfo.get(a),\r\n                        u = G(o);\r\n                    this.state.numBytes += u - s.bytes, s.bytes = u;\r\n                }\r\n                return i\r\n            }, t.prototype.makeTensorFromDataId = function(t, e, n, r) { var o = new wt(e, n = n || \"float32\", t, this.nextTensorId()); return this.incRef(o, r), o }, t.prototype.makeVariable = function(t, e, n, r) { void 0 === e && (e = !0), n = n || this.nextVariableId().toString(), null != r && r !== t.dtype && (t = t.asType(r)); var o = new St(t, e, n, this.nextTensorId()); if (null != this.state.registeredVariables[o.name]) throw new Error(\"Variable with name \" + o.name + \" was already registered\"); return this.state.registeredVariables[o.name] = o, this.incRef(o, this.backend), o }, t.prototype.incRef = function(t, e) {\r\n                var n = this.state.tensorInfo.has(t.dataId) ? this.state.tensorInfo.get(t.dataId).refCount : 0;\r\n                if (this.state.numTensors++, \"string\" === t.dtype && this.state.numStringTensors++, 0 === n) { this.state.numDataBuffers++; var r = 0; \"complex64\" !== t.dtype && \"string\" !== t.dtype && (r = t.size * z(t.dtype)), this.state.tensorInfo.set(t.dataId, { backend: e || this.backend, dtype: t.dtype, shape: t.shape, bytes: r, refCount: 0 }), this.state.numBytes += r; }\r\n                this.state.tensorInfo.get(t.dataId).refCount++, t instanceof St || this.track(t);\r\n            }, t.prototype.disposeTensor = function(t) {\r\n                if (this.state.tensorInfo.has(t.dataId)) {\r\n                    this.state.numTensors--, \"string\" === t.dtype && this.state.numStringTensors--;\r\n                    var e = this.state.tensorInfo.get(t.dataId);\r\n                    e.refCount <= 1 ? (\"complex64\" !== t.dtype && (this.state.numBytes -= e.bytes), this.state.numDataBuffers--, e.backend.disposeData(t.dataId), this.state.tensorInfo.delete(t.dataId)) : this.state.tensorInfo.get(t.dataId).refCount--;\r\n                }\r\n            }, t.prototype.disposeVariables = function() {\r\n                for (var t in this.state.registeredVariables) {\r\n                    var e = this.state.registeredVariables[t];\r\n                    this.disposeVariable(e);\r\n                }\r\n            }, t.prototype.disposeVariable = function(t) { this.disposeTensor(t), null != this.state.registeredVariables[t.name] && delete this.state.registeredVariables[t.name]; }, t.prototype.memory = function() { var t = this.backend.memory(); return t.numTensors = this.state.numTensors, t.numDataBuffers = this.state.numDataBuffers, t.numBytes = this.state.numBytes, this.state.numStringTensors > 0 && (t.unreliable = !0, null == t.reasons && (t.reasons = []), t.reasons.push(\"Memory usage by string tensors is approximate (2 bytes per character)\")), t }, t.prototype.profile = function(t) { return n(this, void 0, void 0, (function() { var e, n; return r(this, (function(r) { return this.state.profiling = !0, e = this.state.numBytes, n = this.state.numTensors, this.state.activeProfile.kernels = [], this.state.activeProfile.result = t(), this.state.profiling = !1, this.state.activeProfile.peakBytes = Math.max.apply(Math, this.state.activeProfile.kernels.map((function(t) { return t.totalBytesSnapshot }))), this.state.activeProfile.newBytes = this.state.numBytes - e, this.state.activeProfile.newTensors = this.state.numTensors - n, [2, this.state.activeProfile] })) })) }, t.prototype.isTapeOn = function() { return this.state.gradientDepth > 0 && 0 === this.state.kernelDepth }, t.prototype.addTapeNode = function(t, e, n, r, o) {\r\n                var a = this,\r\n                    i = { id: this.state.nextTapeNodeId++, kernelName: t, inputs: e, outputs: n, saved: o },\r\n                    s = h(t);\r\n                null != s && (r = s.gradFunc), null != r && (i.gradient = function(t) {\r\n                    return t = t.map((function(t, e) {\r\n                        if (null == t) {\r\n                            var r = n[e],\r\n                                o = tt(r.size, r.dtype);\r\n                            return a.makeTensor(o, r.shape, r.dtype)\r\n                        }\r\n                        return t\r\n                    })), r(t.length > 1 ? t : t[0], o)\r\n                }), this.state.activeTape.push(i);\r\n            }, t.prototype.keep = function(t) { return t.kept = !0, t }, t.prototype.startTape = function() { 0 === this.state.gradientDepth && (this.state.activeTape = []), this.state.gradientDepth++; }, t.prototype.endTape = function() { this.state.gradientDepth--; }, t.prototype.startScope = function(t) {\r\n                var e = { track: [], name: \"unnamed scope\", id: this.state.nextScopeId++ };\r\n                t && (e.name = t), this.state.scopeStack.push(e), this.state.activeScope = e;\r\n            }, t.prototype.endScope = function(t) {\r\n                for (var e = this, n = _t(t), r = new Set(n.map((function(t) { return t.id }))), o = 0; o < this.state.activeScope.track.length; o++) {\r\n                    var a = this.state.activeScope.track[o];\r\n                    a.kept || r.has(a.id) || a.dispose();\r\n                }\r\n                var i = this.state.scopeStack.pop();\r\n                this.state.activeScope = 0 === this.state.scopeStack.length ? null : this.state.scopeStack[this.state.scopeStack.length - 1], n.forEach((function(t) { t.kept || t.scopeId !== i.id || e.track(t); }));\r\n            }, t.prototype.gradients = function(t, e, n, r) {\r\n                var o = this;\r\n                if (void 0 === r && (r = !1), C(e.length > 0, (function() { return \"gradients() received an empty list of xs.\" })), null != n && \"float32\" !== n.dtype) throw new Error(\"dy must have 'float32' dtype, but has '\" + n.dtype + \"'\");\r\n                var a = this.scopedRun((function() { return o.startTape() }), (function() { return o.endTape() }), (function() { return o.tidy(\"forward\", t) }));\r\n                C(a instanceof wt, (function() { return \"The result y returned by f() must be a tensor.\" }));\r\n                var i = function(t, e, n) {\r\n                    for (var r = {}, o = {}, a = 0; a < e.length; a++) r[e[a].id] = !0;\r\n                    for (a = 0; a < t.length; a++) {\r\n                        var i = (p = t[a]).inputs;\r\n                        for (var s in i) {\r\n                            for (var u = i[s], c = !1, l = 0; l < e.length; l++)\r\n                                if (r[u.id]) { p.outputs.forEach((function(t) { return r[t.id] = !0 })), c = !0, o[p.id] = !0; break }\r\n                            if (c) break\r\n                        }\r\n                    }\r\n                    var h = {};\r\n                    h[n.id] = !0;\r\n                    var f = {};\r\n                    for (a = t.length - 1; a >= 0; a--)\r\n                        for (i = (p = t[a]).inputs, l = 0; l < p.outputs.length; l++)\r\n                            if (h[p.outputs[l].id]) { for (var s in i) h[i[s].id] = !0, f[p.id] = !0; break }\r\n                    var d = [];\r\n                    for (a = 0; a < t.length; a++) {\r\n                        var p;\r\n                        if (o[(p = t[a]).id] && f[p.id]) {\r\n                            var v = {};\r\n                            for (var s in p.inputs) {\r\n                                var m = p.inputs[s];\r\n                                r[m.id] && (v[s] = m);\r\n                            }\r\n                            var g = Object.assign({}, p);\r\n                            g.inputs = v, g.outputs = p.outputs, d.push(g);\r\n                        }\r\n                    }\r\n                    return d\r\n                }(this.state.activeTape, e, a);\r\n                if (!r && 0 === i.length && e.length > 0) throw new Error(\"Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.\");\r\n                return this.tidy(\"backward\", (function() {\r\n                    var t, r, s = {};\r\n                    s[a.id] = null == n ? (t = a.shape, r = Z(k(t), \"float32\"), Lt.makeTensor(r, t, \"float32\")) : n,\r\n                        function(t, e, n) {\r\n                            for (var r = function(r) {\r\n                                    var o = e[r],\r\n                                        a = [];\r\n                                    if (o.outputs.forEach((function(e) {\r\n                                            var n = t[e.id];\r\n                                            null != n ? a.push(n) : a.push(null);\r\n                                        })), null == o.gradient) throw new Error(\"Cannot compute gradient: gradient function not found for \" + o.kernelName + \".\");\r\n                                    var i = o.gradient(a),\r\n                                        s = function(e) {\r\n                                            if (!(e in i)) throw new Error(\"Cannot backprop through input \" + e + \". Available gradients found: \" + Object.keys(i) + \".\");\r\n                                            var r = n((function() { return i[e]() }));\r\n                                            if (\"float32\" !== r.dtype) throw new Error(\"Error in gradient for op \" + o.kernelName + \". The gradient of input \" + e + \" must have 'float32' dtype, but has '\" + r.dtype + \"'\");\r\n                                            var a = o.inputs[e];\r\n                                            if (!S(r.shape, a.shape)) throw new Error(\"Error in gradient for op \" + o.kernelName + \". The gradient of input '\" + e + \"' has shape '\" + r.shape + \"', which does not match the shape of the input '\" + a.shape + \"'\");\r\n                                            if (null == t[a.id]) t[a.id] = r;\r\n                                            else {\r\n                                                var s = t[a.id];\r\n                                                t[a.id] = s.add(r), s.dispose();\r\n                                            }\r\n                                        };\r\n                                    for (var u in o.inputs) s(u);\r\n                                }, o = e.length - 1; o >= 0; o--) r(o);\r\n                        }(s, i, (function(t) { return o.tidy(t) }));\r\n                    var u = e.map((function(t) { return s[t.id] }));\r\n                    return 0 === o.state.gradientDepth && (o.state.activeTape.forEach((function(t) { for (var e = 0, n = t.saved; e < n.length; e++) { n[e].dispose(); } })), o.state.activeTape = null), { value: a, grads: u }\r\n                }))\r\n            }, t.prototype.customGrad = function(t) {\r\n                var e = this;\r\n                return C(X(t), (function() { return \"The f passed in customGrad(f) must be a function.\" })),\r\n                    function() {\r\n                        for (var n, r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];\r\n                        C(r.every((function(t) { return t instanceof wt })), (function() { return \"The args passed in customGrad(f)(x1, x2,...) must all be tensors\" }));\r\n                        var a = {};\r\n                        return r.forEach((function(t, e) { a[e] = t; })), e.runKernelFunc((function(e, o) { return C((n = t.apply(void 0, r.concat([o]))).value instanceof wt, (function() { return \"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor\" })), C(X(n.gradFunc), (function() { return \"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.\" })), n.value }), a, (function(t, e) {\r\n                            var o = n.gradFunc(t, e),\r\n                                a = Array.isArray(o) ? o : [o];\r\n                            C(a.length === r.length, (function() { return \"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).\" })), C(a.every((function(t) { return t instanceof wt })), (function() { return \"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.\" }));\r\n                            var i = {};\r\n                            return a.forEach((function(t, e) { i[e] = function() { return t }; })), i\r\n                        }))\r\n                    }\r\n            }, t.prototype.readSync = function(t) { return this.state.tensorInfo.get(t).backend.readSync(t) }, t.prototype.read = function(t) { return this.state.tensorInfo.get(t).backend.read(t) }, t.prototype.time = function(t) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var e, n;\r\n                    return r(this, (function(r) {\r\n                        switch (r.label) {\r\n                            case 0:\r\n                                return e = et(), [4, this.backend.time(t)];\r\n                            case 1:\r\n                                return (n = r.sent()).wallMs = et() - e, [2, n]\r\n                        }\r\n                    }))\r\n                }))\r\n            }, t.prototype.track = function(t) { return null != this.state.activeScope && (t.scopeId = this.state.activeScope.id, this.state.activeScope.track.push(t)), t }, Object.defineProperty(t.prototype, \"registeredVariables\", { get: function() { return this.state.registeredVariables }, enumerable: !0, configurable: !0 }), t.prototype.reset = function() {\r\n                for (var t in this.pendingBackendInitId++, this.state.dispose(), this.ENV.reset(), this.state = new Bt, this.registry) this.disposeRegisteredKernels(t), this.registry[t].dispose(), delete this.registry[t];\r\n                this.backendName = null, this.backendInstance = null, this.pendingBackendInit = null;\r\n            }, t.nextTensorId = 0, t.nextVariableId = 0, t\r\n        }();\r\n    var Lt = function() {\r\n        var t = function() {\r\n            if (null == Ot) {\r\n                var t = void 0;\r\n                if (\"undefined\" != typeof window) t = window;\r\n                else if (\"undefined\" != typeof global) t = global;\r\n                else if (\"undefined\" != typeof process) t = process;\r\n                else {\r\n                    if (\"undefined\" == typeof self) throw new Error(\"Could not find a global object\");\r\n                    t = self;\r\n                }\r\n                Ot = t;\r\n            }\r\n            return Ot\r\n        }();\r\n        if (null == t._tfengine) {\r\n            var e = new o(t);\r\n            t._tfengine = new Pt(e);\r\n        }\r\n        return function(t) { s = t; }(t._tfengine.ENV), yt = function() { return t._tfengine }, t._tfengine\r\n    }();\r\n\r\n    function Wt() { return \"undefined\" != typeof window && null != window.document || \"undefined\" != typeof WorkerGlobalScope }\r\n    var Ut = i();\r\n    Ut.registerFlag(\"DEBUG\", (function() { return !1 }), (function(t) { t && console.warn(\"Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.\"); })), Ut.registerFlag(\"IS_BROWSER\", (function() { return Wt() })), Ut.registerFlag(\"IS_NODE\", (function() { return \"undefined\" != typeof process && void 0 !== process.versions && void 0 !== process.versions.node })), Ut.registerFlag(\"IS_CHROME\", (function() { return \"undefined\" != typeof navigator && null != navigator && null != navigator.userAgent && /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor) })), Ut.registerFlag(\"PROD\", (function() { return !1 })), Ut.registerFlag(\"TENSORLIKE_CHECK_SHAPE_CONSISTENCY\", (function() { return Ut.getBool(\"DEBUG\") })), Ut.registerFlag(\"DEPRECATION_WARNINGS_ENABLED\", (function() { return !0 })), Ut.registerFlag(\"IS_TEST\", (function() { return !1 }));\r\n    var Vt, zt, Gt, Ht = {},\r\n        qt = { alpha: !1, antialias: !1, premultipliedAlpha: !1, preserveDrawingBuffer: !1, depth: !1, stencil: !1, failIfMajorPerformanceCaveat: !0 };\r\n\r\n    function Kt(t, e) { Ht[t] = e; }\r\n\r\n    function jt(t) { t in Ht || (Ht[t] = function(t) { if (1 !== t && 2 !== t) throw new Error(\"Cannot get WebGL rendering context, WebGL is disabled.\"); var e = function(t) { if (\"undefined\" != typeof OffscreenCanvas && 2 === t) return new OffscreenCanvas(300, 150); if (\"undefined\" != typeof document) return document.createElement(\"canvas\"); throw new Error(\"Cannot create a canvas in this context\") }(t); if (e.addEventListener(\"webglcontextlost\", (function(e) { e.preventDefault(), delete Ht[t]; }), !1), 1 === t) return e.getContext(\"webgl\", qt) || e.getContext(\"experimental-webgl\", qt); return e.getContext(\"webgl2\", qt) }(t)); var e = Ht[t]; return e.isContextLost() ? (delete Ht[t], jt(t)) : (e.disable(e.DEPTH_TEST), e.disable(e.STENCIL_TEST), e.disable(e.BLEND), e.disable(e.DITHER), e.disable(e.POLYGON_OFFSET_FILL), e.disable(e.SAMPLE_COVERAGE), e.enable(e.SCISSOR_TEST), e.enable(e.CULL_FACE), e.cullFace(e.BACK), Ht[t]) }\r\n\r\n    function Xt(t, e) { return [e, t] }\r\n\r\n    function Yt(t) { var e = k(t); return T(Math.ceil(e / 4)) }\r\n\r\n    function $t(t, e) { return [Math.max(1, Math.ceil(e / 2)), Math.max(1, Math.ceil(t / 2))] }\r\n\r\n    function Qt(t, e) { var n, r, o, a, s, u, c, l, h, f = t; return 2 === i().getNumber(\"WEBGL_VERSION\") ? (n = f.R32F, r = f.R16F, o = f.RGBA16F, a = f.RGBA32F, s = f.RED, u = 4, c = 1, l = f.HALF_FLOAT, h = f.FLOAT) : (n = t.RGBA, r = t.RGBA, o = t.RGBA, a = f.RGBA, s = t.RGBA, u = 4, c = 4, l = null != e ? e.HALF_FLOAT_OES : null, h = t.FLOAT), { internalFormatFloat: n, internalFormatHalfFloat: r, internalFormatPackedHalfFloat: o, internalFormatPackedFloat: a, textureFormatFloat: s, downloadTextureFormat: t.RGBA, downloadUnpackNumChannels: u, defaultNumChannels: c, textureTypeHalfFloat: l, textureTypeFloat: h } }\r\n\r\n    function Jt(t, e, n) { var r = n(); return e && function(t) { var e = t.getError(); if (e !== t.NO_ERROR) throw new Error(\"WebGL Error: \" + ne(t, e)) }(t), r }! function(t) { t[t.DENSE = 0] = \"DENSE\", t[t.SHARED_BATCH = 1] = \"SHARED_BATCH\"; }(Vt || (Vt = {})),\r\n    function(t) { t[t.RENDER = 0] = \"RENDER\", t[t.UPLOAD = 1] = \"UPLOAD\", t[t.PIXELS = 2] = \"PIXELS\", t[t.DOWNLOAD = 3] = \"DOWNLOAD\"; }(zt || (zt = {})),\r\n    function(t) { t[t.UNPACKED_FLOAT16 = 0] = \"UNPACKED_FLOAT16\", t[t.UNPACKED_FLOAT32 = 1] = \"UNPACKED_FLOAT32\", t[t.PACKED_4X1_UNSIGNED_BYTE = 2] = \"PACKED_4X1_UNSIGNED_BYTE\", t[t.PACKED_2X2_FLOAT32 = 3] = \"PACKED_2X2_FLOAT32\", t[t.PACKED_2X2_FLOAT16 = 4] = \"PACKED_2X2_FLOAT16\"; }(Gt || (Gt = {}));\r\n    var Zt = 5.96e-8,\r\n        te = 65504;\r\n\r\n    function ee(t) { return !!(i().getBool(\"WEBGL_RENDER_FLOAT32_ENABLED\") || 0 === t || Zt < Math.abs(t) && Math.abs(t) < te) }\r\n\r\n    function ne(t, e) {\r\n        switch (e) {\r\n            case t.NO_ERROR:\r\n                return \"NO_ERROR\";\r\n            case t.INVALID_ENUM:\r\n                return \"INVALID_ENUM\";\r\n            case t.INVALID_VALUE:\r\n                return \"INVALID_VALUE\";\r\n            case t.INVALID_OPERATION:\r\n                return \"INVALID_OPERATION\";\r\n            case t.INVALID_FRAMEBUFFER_OPERATION:\r\n                return \"INVALID_FRAMEBUFFER_OPERATION\";\r\n            case t.OUT_OF_MEMORY:\r\n                return \"OUT_OF_MEMORY\";\r\n            case t.CONTEXT_LOST_WEBGL:\r\n                return \"CONTEXT_LOST_WEBGL\";\r\n            default:\r\n                return \"Unknown error code \" + e\r\n        }\r\n    }\r\n\r\n    function re(t, e, n) { return ke(t, e, (function() { return t.getExtension(n) }), 'Extension \"' + n + '\" not supported on this browser.') }\r\n\r\n    function oe(t, e, n) { var r = ke(t, e, (function() { return t.createShader(t.VERTEX_SHADER) }), \"Unable to create vertex WebGLShader.\"); if (Jt(t, e, (function() { return t.shaderSource(r, n) })), Jt(t, e, (function() { return t.compileShader(r) })), !1 === t.getShaderParameter(r, t.COMPILE_STATUS)) throw console.log(t.getShaderInfoLog(r)), new Error(\"Failed to compile vertex shader.\"); return r }\r\n\r\n    function ae(t, e, n) {\r\n        var r = ke(t, e, (function() { return t.createShader(t.FRAGMENT_SHADER) }), \"Unable to create fragment WebGLShader.\");\r\n        if (Jt(t, e, (function() { return t.shaderSource(r, n) })), Jt(t, e, (function() { return t.compileShader(r) })), !1 === t.getShaderParameter(r, t.COMPILE_STATUS)) throw\r\n\r\n        function(t, e) {\r\n            var n = ue.exec(e);\r\n            if (null == n) return console.log(\"Couldn't parse line number in error: \" + e), void console.log(t);\r\n            for (var r = +n[1], o = t.split(\"\\n\"), a = o.length.toString().length + 2, i = o.map((function(t, e) { return N((e + 1).toString(), a) + t })), s = 0, u = 0; u < i.length; u++) s = Math.max(i[u].length, s);\r\n            var c = i.slice(0, r - 1),\r\n                l = i.slice(r - 1, r),\r\n                h = i.slice(r);\r\n            console.log(c.join(\"\\n\")), console.log(e.split(\"\\n\")[0]), console.log(\"%c \" + N(l[0], s), \"border:1px solid red; background-color:#e3d2d2; color:#a61717\"), console.log(h.join(\"\\n\"));\r\n        }(n, t.getShaderInfoLog(r)), new Error(\"Failed to compile fragment shader.\");\r\n        return r\r\n    }\r\n    var ie, se, ue = /ERROR: [0-9]+:([0-9]+):/g;\r\n\r\n    function ce(t, e) { return ke(t, e, (function() { return t.createProgram() }), \"Unable to create WebGLProgram.\") }\r\n\r\n    function le(t, e, n) { if (Jt(t, e, (function() { return t.linkProgram(n) })), !1 === t.getProgramParameter(n, t.LINK_STATUS)) throw console.log(t.getProgramInfoLog(n)), new Error(\"Failed to link vertex and fragment shaders.\") }\r\n\r\n    function he(t, e, n) { if (Jt(t, e, (function() { return t.validateProgram(n) })), !1 === t.getProgramParameter(n, t.VALIDATE_STATUS)) throw console.log(t.getProgramInfoLog(n)), new Error(\"Shader program validation failed.\") }\r\n\r\n    function fe(t, e, n) { var r = ke(t, e, (function() { return t.createBuffer() }), \"Unable to create WebGLBuffer\"); return Jt(t, e, (function() { return t.bindBuffer(t.ARRAY_BUFFER, r) })), Jt(t, e, (function() { return t.bufferData(t.ARRAY_BUFFER, n, t.STATIC_DRAW) })), r }\r\n\r\n    function de(t, e, n) { var r = ke(t, e, (function() { return t.createBuffer() }), \"Unable to create WebGLBuffer\"); return Jt(t, e, (function() { return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, r) })), Jt(t, e, (function() { return t.bufferData(t.ELEMENT_ARRAY_BUFFER, n, t.STATIC_DRAW) })), r }\r\n\r\n    function pe(t, e) { return ke(t, e, (function() { return t.createTexture() }), \"Unable to create WebGLTexture.\") }\r\n\r\n    function ve(t, e) { var n = i().getNumber(\"WEBGL_MAX_TEXTURE_SIZE\"); if (t <= 0 || e <= 0) { var r = \"[\" + t + \"x\" + e + \"]\"; throw new Error(\"Requested texture size \" + r + \" is invalid.\") } if (t > n || e > n) { r = \"[\" + t + \"x\" + e + \"]\"; throw new Error(\"Requested texture size \" + r + \" greater than WebGL maximum on this browser / GPU \" + (\"[\" + n + \"x\" + n + \"]\") + \".\") } }\r\n\r\n    function me(t, e) { return ke(t, e, (function() { return t.createFramebuffer() }), \"Unable to create WebGLFramebuffer.\") }\r\n\r\n    function ge(t, e, n, r, o, a, i, s) { var u = t.getAttribLocation(n, r); return -1 !== u && (Jt(t, e, (function() { return t.bindBuffer(t.ARRAY_BUFFER, o) })), Jt(t, e, (function() { return t.vertexAttribPointer(u, a, t.FLOAT, !1, i, s) })), Jt(t, e, (function() { return t.enableVertexAttribArray(u) })), !0) }\r\n\r\n    function ye(t, e, n, r) { Se(t, r), Jt(t, e, (function() { return t.activeTexture(t.TEXTURE0 + r) })), Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, n) })); }\r\n\r\n    function xe(t, e, n, r) { return ke(t, e, (function() { return t.getUniformLocation(n, r) }), 'uniform \"' + r + '\" not present in program.') }\r\n\r\n    function be(t, e, n) { return t.getUniformLocation(e, n) }\r\n\r\n    function we(t, e, n, r, o, a) { Jt(t, e, (function() { return ye(t, e, r, a) })), Jt(t, e, (function() { return t.uniform1i(o, a) })); }\r\n\r\n    function Ce(t, e, n, r) { Jt(t, e, (function() { return t.bindFramebuffer(t.FRAMEBUFFER, r) })), Jt(t, e, (function() { return t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, n, 0) })); }\r\n\r\n    function Ee(t, e, n) { Jt(t, e, (function() { return t.bindFramebuffer(t.FRAMEBUFFER, n) })), Jt(t, e, (function() { return t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, null, 0) })); }\r\n\r\n    function Re(t) { var e = t.checkFramebufferStatus(t.FRAMEBUFFER); if (e !== t.FRAMEBUFFER_COMPLETE) throw new Error(\"Error binding framebuffer: \" + Ie(t, e)) }\r\n\r\n    function Ie(t, e) {\r\n        switch (e) {\r\n            case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\r\n                return \"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\";\r\n            case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\r\n                return \"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\";\r\n            case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\r\n                return \"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\";\r\n            case t.FRAMEBUFFER_UNSUPPORTED:\r\n                return \"FRAMEBUFFER_UNSUPPORTED\";\r\n            default:\r\n                return \"unknown error \" + e\r\n        }\r\n    }\r\n\r\n    function ke(t, e, n, r) { var o = Jt(t, e, (function() { return n() })); if (null == o) throw new Error(r); return o }\r\n\r\n    function Se(t, e) {\r\n        var n = t.MAX_COMBINED_TEXTURE_IMAGE_UNITS - 1,\r\n            r = e + t.TEXTURE0;\r\n        if (r < t.TEXTURE0 || r > n) throw new Error(\"textureUnit must be in \" + (\"[gl.TEXTURE0, gl.TEXTURE\" + n + \"]\") + \".\")\r\n    }\r\n\r\n    function Ae(t, e) { return void 0 === e && (e = 2), k(t.slice(0, t.length - e)) }\r\n\r\n    function De(t) { if (0 === t.length) throw Error(\"Cannot get rows and columns of an empty shape array.\"); return [t.length > 1 ? t[t.length - 2] : 1, t[t.length - 1]] }\r\n\r\n    function Te(t) { var e = [1, 1, 1]; return 0 === t.length || 1 === t.length && 1 === t[0] || (e = [Ae(t)].concat(De(t))), e }\r\n\r\n    function Ne(t, e) {\r\n        var n;\r\n        void 0 === e && (e = !1);\r\n        var r = i().getNumber(\"WEBGL_MAX_TEXTURE_SIZE\");\r\n        if (e && (r *= 2, 1 === (t = t.map((function(e, n) { return n >= t.length - 2 ? b(t[n]) : t[n] }))).length && (t = [2, t[0]])), 2 !== t.length) {\r\n            var o = M(t);\r\n            t = o.newShape;\r\n        }\r\n        var a = k(t);\r\n        if (t.length <= 1 && a <= r) return [1, a];\r\n        if (2 === t.length && t[0] <= r && t[1] <= r) return t;\r\n        if (3 === t.length && t[0] * t[1] <= r && t[2] <= r) return [t[0] * t[1], t[2]];\r\n        if (3 === t.length && t[0] <= r && t[1] * t[2] <= r) return [t[0], t[1] * t[2]];\r\n        if (4 === t.length && t[0] * t[1] * t[2] <= r && t[3] <= r) return [t[0] * t[1] * t[2], t[3]];\r\n        if (4 === t.length && t[0] <= r && t[1] * t[2] * t[3] <= r) return [t[0], t[1] * t[2] * t[3]];\r\n        if (e) {\r\n            var s = Ae(t),\r\n                u = 2,\r\n                c = 2;\r\n            return t.length && (u = (n = De(t))[0], c = n[1]), T(a = s * (u / 2) * (c / 2)).map((function(t) { return 2 * t }))\r\n        }\r\n        return T(a)\r\n    }\r\n\r\n    function Fe(t) { return t % 2 == 0 }\r\n\r\n    function _e(t, e) {\r\n        if (S(t = t.slice(-2), e = e.slice(-2))) return !0;\r\n        if (!t.length || !e.length) return !0;\r\n        if (0 === t[0] || 0 === t[1] || 0 === e[0] || 0 === e[1]) return !0;\r\n        if (t.length !== e.length) {\r\n            var n = t.slice(-1)[0],\r\n                r = e.slice(-1)[0];\r\n            if (n === r) return !0;\r\n            if (Fe(n) && Fe(r) && (1 === t[0] || 1 === e[0])) return !0\r\n        }\r\n        return t[1] === e[1] && Fe(t[0]) && Fe(e[0])\r\n    }\r\n\r\n    function Oe(t) {\r\n        if (null == ie) {\r\n            var e = jt(t);\r\n            ie = e.getParameter(e.MAX_TEXTURE_SIZE);\r\n        }\r\n        return ie\r\n    }\r\n\r\n    function Me(t) {\r\n        if (null == se) {\r\n            var e = jt(t);\r\n            se = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);\r\n        }\r\n        return Math.min(16, se)\r\n    }\r\n\r\n    function Be(t) { if (0 === t) return 0; var e = jt(t); return Pe(e, \"EXT_disjoint_timer_query_webgl2\") && 2 === t ? 2 : Pe(e, \"EXT_disjoint_timer_query\") ? 1 : 0 }\r\n\r\n    function Pe(t, e) { return null != t.getExtension(e) }\r\n\r\n    function Le(t) { try { if (null != jt(t)) return !0 } catch (t) { return !1 } return !1 }\r\n\r\n    function We(t) { if (0 === t) return !1; var e = jt(t); if (1 === t) { if (!Pe(e, \"OES_texture_float\")) return !1 } else if (!Pe(e, \"EXT_color_buffer_float\")) return !1; return Ve(e) }\r\n\r\n    function Ue(t) {\r\n        if (0 === t) return !1;\r\n        var e = jt(t);\r\n        if (1 !== t) {\r\n            if (Pe(e, \"EXT_color_buffer_float\")) return Ve(e);\r\n            if (Pe(e, \"EXT_color_buffer_half_float\")) {\r\n                var n = e.getExtension(\"EXT_color_buffer_half_float\");\r\n                return function(t, e) {\r\n                    var n = Qt(t, e),\r\n                        r = t.createTexture();\r\n                    t.bindTexture(t.TEXTURE_2D, r);\r\n                    t.texImage2D(t.TEXTURE_2D, 0, n.internalFormatHalfFloat, 1, 1, 0, n.textureFormatFloat, n.textureTypeHalfFloat, null);\r\n                    var o = t.createFramebuffer();\r\n                    t.bindFramebuffer(t.FRAMEBUFFER, o), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, r, 0);\r\n                    var a = t.checkFramebufferStatus(t.FRAMEBUFFER) === t.FRAMEBUFFER_COMPLETE;\r\n                    return t.bindTexture(t.TEXTURE_2D, null), t.bindFramebuffer(t.FRAMEBUFFER, null), t.deleteTexture(r), t.deleteFramebuffer(o), a\r\n                }(e, n)\r\n            }\r\n            return !1\r\n        }\r\n        return !!Pe(e, \"OES_texture_float\") && (!!Pe(e, \"WEBGL_color_buffer_float\") && Ve(e))\r\n    }\r\n\r\n    function Ve(t) {\r\n        var e = Qt(t),\r\n            n = t.createTexture();\r\n        t.bindTexture(t.TEXTURE_2D, n);\r\n        t.texImage2D(t.TEXTURE_2D, 0, e.internalFormatFloat, 1, 1, 0, e.textureFormatFloat, e.textureTypeFloat, null);\r\n        var r = t.createFramebuffer();\r\n        t.bindFramebuffer(t.FRAMEBUFFER, r), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, n, 0);\r\n        var o = t.checkFramebufferStatus(t.FRAMEBUFFER) === t.FRAMEBUFFER_COMPLETE;\r\n        return t.bindTexture(t.TEXTURE_2D, null), t.bindFramebuffer(t.FRAMEBUFFER, null), t.deleteTexture(n), t.deleteFramebuffer(r), o\r\n    }\r\n\r\n    function ze(t) { return 2 === t && null != jt(t).fenceSync }\r\n    var Ge = Object.freeze({ callAndCheck: Jt, canBeRepresented: ee, getWebGLErrorMessage: ne, getExtensionOrThrow: re, createVertexShader: oe, createFragmentShader: ae, createProgram: ce, linkProgram: le, validateProgram: he, createStaticVertexBuffer: fe, createStaticIndexBuffer: de, getNumChannels: function() { return 2 === i().getNumber(\"WEBGL_VERSION\") ? 1 : 4 }, createTexture: pe, validateTextureSize: ve, createFramebuffer: me, bindVertexBufferToProgramAttribute: ge, bindTextureUnit: ye, unbindTextureUnit: function(t, e, n) { Se(t, n), Jt(t, e, (function() { return t.activeTexture(t.TEXTURE0 + n) })), Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, null) })); }, getProgramUniformLocationOrThrow: xe, getProgramUniformLocation: be, bindTextureToProgramUniformSampler: we, bindCanvasToFramebuffer: function(t, e) { Jt(t, e, (function() { return t.bindFramebuffer(t.FRAMEBUFFER, null) })), Jt(t, e, (function() { return t.viewport(0, 0, t.canvas.width, t.canvas.height) })), Jt(t, e, (function() { return t.scissor(0, 0, t.canvas.width, t.canvas.height) })); }, bindColorTextureToFramebuffer: Ce, unbindColorTextureFromFramebuffer: Ee, validateFramebuffer: Re, getFramebufferErrorMessage: Ie, getBatchDim: Ae, getRowsCols: De, getShapeAs3D: Te, getTextureShapeFromLogicalShape: Ne, isReshapeFree: _e, getWebGLMaxTextureSize: Oe, resetMaxTextureSize: function() { ie = null; }, resetMaxTexturesInShader: function() { se = null; }, getMaxTexturesInShader: Me, getWebGLDisjointQueryTimerVersion: Be, hasExtension: Pe, isWebGLVersionEnabled: Le, isCapableOfRenderingToFloatTexture: We, isDownloadFloatTextureEnabled: Ue, isWebGLFenceEnabled: ze }),\r\n        He = i();\r\n\r\n    function qe() { i().set(\"PROD\", !0); }\r\n\r\n    function Ke() { i().set(\"DEBUG\", !0); }\r\n\r\n    function je() { i().set(\"DEPRECATION_WARNINGS_ENABLED\", !1), console.warn(\"TensorFlow.js deprecation warnings have been disabled.\"); }\r\n\r\n    function Xe(t) { i().getBool(\"DEPRECATION_WARNINGS_ENABLED\") && console.warn(t + \" You can disable deprecation warnings with tf.disableDeprecationWarnings().\"); }\r\n\r\n    function Ye() { Lt.disposeVariables(); }\r\n\r\n    function $e() { return Lt }\r\n\r\n    function Qe() { return Lt.memory() }\r\n\r\n    function Je(t) { return Lt.profile(t) }\r\n\r\n    function Ze(t, e) { return Lt.tidy(t, e) }\r\n\r\n    function tn(t) { _t(t).forEach((function(t) { return t.dispose() })); }\r\n\r\n    function en(t) { return Lt.keep(t) }\r\n\r\n    function nn(t) { return Lt.time(t) }\r\n\r\n    function rn(t) { return Lt.setBackend(t) }\r\n\r\n    function on() { return Lt.ready() }\r\n\r\n    function an() { return Lt.backendName }\r\n\r\n    function sn(t) { Lt.removeBackend(t); }\r\n\r\n    function un(t) { return Lt.findBackend(t) }\r\n\r\n    function cn(t) { return Lt.findBackendFactory(t) }\r\n\r\n    function ln(t, e, n) { return void 0 === n && (n = 1), Lt.registerBackend(t, e, n) }\r\n\r\n    function hn() { return Lt.backend }\r\n\r\n    function fn(t, e) { i().setPlatform(t, e); }\r\n\r\n    function dn() {\r\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\r\n        i().getBool(\"IS_TEST\") || console.warn.apply(console, t);\r\n    }\r\n\r\n    function pn(t, e) {\r\n        var n = t;\r\n        if (V(t)) return \"string\" === e ? [] : [t.length];\r\n        if (!Array.isArray(t)) return [];\r\n        for (var r = []; Array.isArray(n) || V(n) && \"string\" !== e;) r.push(n.length), n = n[0];\r\n        return Array.isArray(t) && i().getBool(\"TENSORLIKE_CHECK_SHAPE_CONSISTENCY\") && function t(e, n, r) {\r\n            if (r = r || [], !Array.isArray(e) && !V(e)) return void C(0 === n.length, (function() { return \"Element arr[\" + r.join(\"][\") + \"] is a primitive, but should be an array/TypedArray of \" + n[0] + \" elements\" }));\r\n            C(n.length > 0, (function() { return \"Element arr[\" + r.join(\"][\") + \"] should be a primitive, but is an array of \" + e.length + \" elements\" })), C(e.length === n[0], (function() { return \"Element arr[\" + r.join(\"][\") + \"] should have \" + n[0] + \" elements, but has \" + e.length + \" elements\" }));\r\n            for (var o = n.slice(1), a = 0; a < e.length; ++a) t(e[a], o, r.concat(a));\r\n        }(t, r, []), r\r\n    }\r\n\r\n    function vn(t, e, n, r) { if (null != t && (\"numeric\" !== t && t !== e || \"numeric\" === t && \"string\" === e)) throw new Error(\"Argument '\" + n + \"' passed to '\" + r + \"' must be \" + t + \" tensor, but got \" + e + \" tensor\") }\r\n\r\n    function mn(t, e, n, r) {\r\n        if (void 0 === r && (r = \"numeric\"), t instanceof wt) return vn(r, t.dtype, e, n), t;\r\n        var o = j(t);\r\n        if (\"string\" !== o && [\"bool\", \"int32\", \"float32\"].indexOf(r) >= 0 && (o = r), vn(r, o, e, n), null == t || !V(t) && !Array.isArray(t) && \"number\" != typeof t && \"boolean\" != typeof t && \"string\" != typeof t) { var a = null == t ? \"null\" : t.constructor.name; throw new Error(\"Argument '\" + e + \"' passed to '\" + n + \"' must be a Tensor or TensorLike, but got '\" + a + \"'\") }\r\n        var s = pn(t, o);\r\n        V(t) || Array.isArray(t) || (t = [t]);\r\n        var u = \"string\" !== o ? Q(t, o, i().getBool(\"DEBUG\")) : I(t, [], !0);\r\n        return Lt.makeTensor(u, s, o)\r\n    }\r\n\r\n    function gn(t, e, n, r) { if (void 0 === r && (r = \"numeric\"), !Array.isArray(t)) throw new Error(\"Argument \" + e + \" passed to \" + n + \" must be a `Tensor[]` or `TensorLike[]`\"); return t.map((function(t, r) { return mn(t, e + \"[\" + r + \"]\", n) }), r) }\r\n\r\n    function yn(t, e) {\r\n        for (var n = 0; n < t.length; ++n)\r\n            if (t[t.length - n - 1] !== e - 1 - n) return !1;\r\n        return !0\r\n    }\r\n\r\n    function xn(t, e, n) { for (var r = t.length + e.length, o = [], a = 0, i = 0, s = 0; s < r; s++) - 1 === n.indexOf(s) ? o.push(t[a++]) : o.push(e[i++]); return o }\r\n\r\n    function bn(t, e) { for (var n = [], r = t.length, o = 0; o < r; o++) - 1 === e.indexOf(o) && n.push(t[o]); return [n, e.map((function(e) { return t[e] }))] }\r\n\r\n    function wn(t, e) { return xn(t, e.map((function(t) { return 1 })), e) }\r\n\r\n    function Cn(t, e, n) { C(yn(e, n), (function() { return t + \" supports only inner-most axes for now. Got axes \" + e + \" and rank-\" + n + \" input.\" })); }\r\n\r\n    function En(t, e) { if (yn(t, e)) return null; for (var n = [], r = 0; r < e; ++r) - 1 === t.indexOf(r) && n.push(r); return t.forEach((function(t) { return n.push(t) })), n }\r\n\r\n    function Rn(t) { return t.map((function(t, e) { return [e, t] })).sort((function(t, e) { return t[1] - e[1] })).map((function(t) { return t[0] })) }\r\n\r\n    function In(t, e) { for (var n = [], r = e - t; r < e; ++r) n.push(r); return n }\r\n\r\n    function kn(t, e) {\r\n        var n = t[0].length;\r\n        t.forEach((function(t, e) { C(t.length === n, (function() { return \"Error in concat\" + n + \"D: rank of tensors[\" + e + \"] must be the same as the rank of the rest (\" + n + \")\" })); })), C(e >= 0 && e < n, (function() { return \"Error in concat\" + n + \"D: axis must be between 0 and \" + (n - 1) + \".\" }));\r\n        var r = t[0];\r\n        t.forEach((function(t, o) { for (var a = 0; a < n; a++) C(a === e || t[a] === r[a], (function() { return \"Error in concat\" + n + \"D: Shape of tensors[\" + o + \"] (\" + t + \") does not match the shape of the rest (\" + r + \") along the non-concatenated axis \" + o + \".\" })); }));\r\n    }\r\n\r\n    function Sn(t, e) { for (var n = t[0].slice(), r = 1; r < t.length; r++) n[e] += t[r][e]; return n }\r\n\r\n    function An(t) {\r\n        var e = Object.keys(t);\r\n        if (1 !== e.length) throw new Error(\"Please provide an object with a single key (operation name) mapping to a function. Got an object with \" + e.length + \" keys.\");\r\n        var n = e[0],\r\n            r = t[n];\r\n        n.endsWith(\"_\") && (n = n.substring(0, n.length - 1));\r\n        var o = function() {\r\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\r\n            Lt.startScope(n);\r\n            try { var o = r.apply(void 0, t); return o instanceof Promise && console.error(\"Cannot return a Promise inside of tidy.\"), Lt.endScope(o), o } catch (t) { throw Lt.endScope(null), t }\r\n        };\r\n        return Object.defineProperty(o, \"name\", { value: n, configurable: !0 }), o\r\n    }\r\n    He.registerFlag(\"HAS_WEBGL\", (function() { return He.getNumber(\"WEBGL_VERSION\") > 0 })), He.registerFlag(\"WEBGL_VERSION\", (function() { return Le(2) ? 2 : Le(1) ? 1 : 0 })), He.registerFlag(\"WEBGL_BUFFER_SUPPORTED\", (function() { return 2 === He.get(\"WEBGL_VERSION\") })), He.registerFlag(\"WEBGL_CPU_FORWARD\", (function() { return !0 })), He.registerFlag(\"WEBGL_FORCE_F16_TEXTURES\", (function() { return !1 })), He.registerFlag(\"WEBGL_PACK\", (function() { return He.getBool(\"HAS_WEBGL\") })), He.registerFlag(\"WEBGL_PACK_NORMALIZATION\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_PACK_CLIP\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_PACK_DEPTHWISECONV\", (function() { return !1 })), He.registerFlag(\"WEBGL_PACK_BINARY_OPERATIONS\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_PACK_UNARY_OPERATIONS\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_PACK_ARRAY_OPERATIONS\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_PACK_IMAGE_OPERATIONS\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_PACK_REDUCE\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_LAZILY_UNPACK\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_CONV_IM2COL\", (function() { return He.getBool(\"WEBGL_PACK\") })), He.registerFlag(\"WEBGL_MAX_TEXTURE_SIZE\", (function() { return Oe(He.getNumber(\"WEBGL_VERSION\")) })), He.registerFlag(\"WEBGL_MAX_TEXTURES_IN_SHADER\", (function() { return Me(He.getNumber(\"WEBGL_VERSION\")) })), He.registerFlag(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\", (function() { var t = He.getNumber(\"WEBGL_VERSION\"); return 0 === t ? 0 : Be(t) })), He.registerFlag(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\", (function() { return He.getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\") > 0 && (t = navigator.userAgent || navigator.vendor || window.opera, !(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(t.substr(0, 4)))); var t; })), He.registerFlag(\"WEBGL_RENDER_FLOAT32_CAPABLE\", (function() { return We(He.getNumber(\"WEBGL_VERSION\")) })), He.registerFlag(\"WEBGL_RENDER_FLOAT32_ENABLED\", (function() { return !He.getBool(\"WEBGL_FORCE_F16_TEXTURES\") && He.getBool(\"WEBGL_RENDER_FLOAT32_CAPABLE\") })), He.registerFlag(\"WEBGL_DOWNLOAD_FLOAT_ENABLED\", (function() { return Ue(He.getNumber(\"WEBGL_VERSION\")) })), He.registerFlag(\"WEBGL_FENCE_API_ENABLED\", (function() { return ze(He.getNumber(\"WEBGL_VERSION\")) })), He.registerFlag(\"WEBGL_SIZE_UPLOAD_UNIFORM\", (function() { return He.getBool(\"WEBGL_RENDER_FLOAT32_ENABLED\") ? 4 : 0 })), bt = Xe;\r\n    var Dn = An({\r\n            complex_: function(t, e) {\r\n                var n = mn(t, \"real\", \"complex\"),\r\n                    r = mn(e, \"imag\", \"complex\");\r\n                return E(n.shape, r.shape, \"real and imag shapes, \" + n.shape + \" and \" + r.shape + \", must match in call to tf.complex().\"), Lt.runKernelFunc((function(t) { return t.complex(n, r) }), { $real: n, $imag: r })\r\n            }\r\n        }),\r\n        Tn = An({ real_: function(t) { var e = mn(t, \"input\", \"real\"); return Lt.runKernelFunc((function(t) { return t.real(e) }), { $input: e }) } }),\r\n        Nn = An({ imag_: function(t) { var e = mn(t, \"input\", \"imag\"); return Lt.runKernelFunc((function(t) { return t.imag(e) }), { $input: e }) } });\r\n\r\n    function Fn(t, e, n) { return _n(t, e, pn(t, n), n) }\r\n\r\n    function _n(t, e, n, r) {\r\n        if (null == r && (r = j(t)), \"complex64\" === r) throw new Error(\"Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).\");\r\n        if (!V(t) && !Array.isArray(t) && \"number\" != typeof t && \"boolean\" != typeof t && \"string\" != typeof t) throw new Error(\"values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray\");\r\n        if (null != e) {\r\n            nt(e);\r\n            var o = k(e),\r\n                a = k(n);\r\n            C(o === a, (function() { return \"Based on the provided shape, [\" + e + \"], the tensor should have \" + o + \" values but has \" + a }));\r\n            for (var s = 0; s < n.length; ++s) {\r\n                var u = n[s],\r\n                    c = s !== n.length - 1 || u !== k(e.slice(s));\r\n                C(n[s] === e[s] || !c, (function() { return \"Error creating a new Tensor. Inferred shape (\" + n + \") does not match the provided shape (\" + e + \"). \" }));\r\n            }\r\n        }\r\n        return V(t) || Array.isArray(t) || (t = [t]), e = e || n, t = \"string\" !== r ? Q(t, r, i().getBool(\"DEBUG\")) : I(t, [], !0), Lt.makeTensor(t, e, r)\r\n    }\r\n\r\n    function On(t, e) { if ((V(t) && \"string\" !== e || Array.isArray(t)) && \"complex64\" !== e) throw new Error(\"Error creating a new Scalar: value must be a primitive (number|boolean|string)\"); if (\"string\" === e && V(t) && !(t instanceof Uint8Array)) throw new Error(\"When making a scalar from encoded string, the value must be `Uint8Array`.\"); return _n(t, [], [], e) }\r\n\r\n    function Mn(t, e) { R(t); var n = pn(t, e); if (1 !== n.length) throw new Error(\"tensor1d() requires values to be a flat/TypedArray\"); return _n(t, null, n, e) }\r\n\r\n    function Bn(t, e, n) { if (R(t), null != e && 2 !== e.length) throw new Error(\"tensor2d() requires shape to have two numbers\"); var r = pn(t, n); if (2 !== r.length && 1 !== r.length) throw new Error(\"tensor2d() requires values to be number[][] or flat/TypedArray\"); if (1 === r.length && null == e) throw new Error(\"tensor2d() requires shape to be provided when `values` are a flat/TypedArray\"); return _n(t, e, r, n) }\r\n\r\n    function Pn(t, e, n) { if (R(t), null != e && 3 !== e.length) throw new Error(\"tensor3d() requires shape to have three numbers\"); var r = pn(t, n); if (3 !== r.length && 1 !== r.length) throw new Error(\"tensor3d() requires values to be number[][][] or flat/TypedArray\"); if (1 === r.length && null == e) throw new Error(\"tensor3d() requires shape to be provided when `values` are a flat array\"); return _n(t, e, r, n) }\r\n\r\n    function Ln(t, e, n) { if (R(t), null != e && 4 !== e.length) throw new Error(\"tensor4d() requires shape to have four numbers\"); var r = pn(t, n); if (4 !== r.length && 1 !== r.length) throw new Error(\"tensor4d() requires values to be number[][][][] or flat/TypedArray\"); if (1 === r.length && null == e) throw new Error(\"tensor4d() requires shape to be provided when `values` are a flat array\"); return _n(t, e, r, n) }\r\n\r\n    function Wn(t, e, n) { if (R(t), null != e && 5 !== e.length) throw new Error(\"tensor5d() requires shape to have five numbers\"); var r = pn(t, n); if (5 !== r.length && 1 !== r.length) throw new Error(\"tensor5d() requires values to be number[][][][][] or flat/TypedArray\"); if (1 === r.length && null == e) throw new Error(\"tensor5d() requires shape to be provided when `values` are a flat array\"); return _n(t, e, r, n) }\r\n\r\n    function Un(t, e, n) { if (R(t), null != e && 6 !== e.length) throw new Error(\"tensor6d() requires shape to have six numbers\"); var r = pn(t, n); if (6 !== r.length && 1 !== r.length) throw new Error(\"tensor6d() requires values to be number[][][][][][] or flat/TypedArray\"); if (1 === r.length && null == e) throw new Error(\"tensor6d() requires shape to be provided when `values` are a flat array\"); return _n(t, e = e || r, r, n) }\r\n\r\n    function Vn(t, e, n, r) { return void 0 === e && (e = !0), Lt.makeVariable(t, e, n, r) }\r\n\r\n    function zn(t, e) {\r\n        if (void 0 === e && (e = \"float32\"), \"complex64\" === e) {\r\n            var n = zn(t, \"float32\"),\r\n                r = Gn(t, \"float32\");\r\n            return Dn(n, r)\r\n        }\r\n        var o = Z(k(t), e);\r\n        return Lt.makeTensor(o, t, e)\r\n    }\r\n\r\n    function Gn(t, e) {\r\n        if (void 0 === e && (e = \"float32\"), \"complex64\" === e) {\r\n            var n = Gn(t, \"float32\"),\r\n                r = Gn(t, \"float32\");\r\n            return Dn(n, r)\r\n        }\r\n        var o = tt(k(t), e);\r\n        return Lt.makeTensor(o, t, e)\r\n    }\r\n\r\n    function Hn(t, e, n) { return Lt.runKernelFunc((function(r) { return r.fill(t, e, n) }), {}) }\r\n\r\n    function qn(t, e, n) { if (n <= 0) throw new Error(\"The number of values should be positive.\"); return Lt.runKernelFunc((function(r) { return r.linspace(t, e, n) }), {}) }\r\n\r\n    function Kn(t, e, n, r) {\r\n        if (void 0 === n && (n = 1), void 0 === r && (r = \"float32\"), 0 === n) throw new Error(\"Cannot have a step of zero\");\r\n        if (t === e || t < e && n < 0 || e < t && n > 1) return Gn([0], r);\r\n        var o = tt(Math.abs(Math.ceil((e - t) / n)), r);\r\n        e < t && 1 === n && (n = -1), o[0] = t;\r\n        for (var a = 1; a < o.length; a++) o[a] = o[a - 1] + n;\r\n        return Mn(o, r)\r\n    }\r\n    var jn = An({\r\n            onesLike_: function(t) {\r\n                var e = mn(t, \"x\", \"onesLike\");\r\n                if (\"complex64\" === e.dtype) {\r\n                    var n = jn(Tn(e)),\r\n                        r = Xn(Nn(e));\r\n                    return Dn(n, r)\r\n                }\r\n                return Lt.runKernelFunc((function(t) { return t.onesLike(e) }), { $x: e }, (function(t, e) { return { $x: function() { return Xn(t) } } }))\r\n            }\r\n        }),\r\n        Xn = An({ zerosLike_: function(t) { var e = mn(t, \"x\", \"zerosLike\"); return Lt.runKernelFunc((function(t) { return t.zerosLike(e) }), { $x: e }, (function(t, e) { return { $x: function() { return Xn(t) } } })) } });\r\n    var Yn = An({\r\n            concat_: function(t, e) {\r\n                void 0 === e && (e = 0), C(t.length >= 1, (function() { return \"Pass at least one tensor to concat\" }));\r\n                var n = gn(t, \"tensors\", \"concat\");\r\n                \"complex64\" === n[0].dtype && n.forEach((function(t) { if (\"complex64\" !== t.dtype) throw new Error(\"Cannot concatenate complex64 tensors with a tensor\\n          with dtype \" + t.dtype + \". \") })), e = O(e, n[0].shape)[0];\r\n                var r = Sn(n.map((function(t) { return t.shape })), e);\r\n                if (0 === k(r)) return Fn([], r);\r\n                if (1 === (n = n.filter((function(t) { return t.size > 0 }))).length) return n[0];\r\n                var o = n.map((function(t) { return t.shape }));\r\n                kn(o, e);\r\n                var a = n,\r\n                    i = { axis: e };\r\n                return Lt.runKernelFunc((function(t) { return t.concat(n, e) }), a, (function(t) { var n = o.map((function(t) { return t[e] })); return tr(t, n, e).map((function(t) { return function() { return t } })) }), \"Concat\", i)\r\n            }\r\n        }),\r\n        $n = An({ concat1d_: function(t) { return Yn(t, 0) } }),\r\n        Qn = An({ concat2d_: function(t, e) { return Yn(t, e) } }),\r\n        Jn = An({ concat3d_: function(t, e) { return Yn(t, e) } }),\r\n        Zn = An({ concat4d_: function(t, e) { return Yn(t, e) } }),\r\n        tr = An({ split_: function(t, e, n) { void 0 === n && (n = 0); var r, o = mn(t, \"x\", \"split\"); return n = O(n, o.shape)[0], \"number\" == typeof e ? (C(o.shape[n] % e == 0, (function() { return \"Number of splits must evenly divide the axis.\" })), r = new Array(e).fill(o.shape[n] / e)) : (C(o.shape[n] === e.reduce((function(t, e) { return t + e })), (function() { return \"The sum of sizes must match the size of the axis dimension.\" })), r = e), Lt.runKernelFunc((function(t) { return t.split(o, r, n) }), { $x: o }, (function(t) { return { $x: function() { return Yn(t, n) } } })) } });\r\n\r\n    function er(t, e) { return t(e = { exports: {} }, e.exports), e.exports }\r\n    var nr = er((function(t) {\r\n            ! function(t, e, n) {\r\n                function r(t) {\r\n                    var e, n = this,\r\n                        r = (e = 4022871197, function(t) {\r\n                            t = t.toString();\r\n                            for (var n = 0; n < t.length; n++) {\r\n                                var r = .02519603282416938 * (e += t.charCodeAt(n));\r\n                                r -= e = r >>> 0, e = (r *= e) >>> 0, e += 4294967296 * (r -= e);\r\n                            }\r\n                            return 2.3283064365386963e-10 * (e >>> 0)\r\n                        });\r\n                    n.next = function() { var t = 2091639 * n.s0 + 2.3283064365386963e-10 * n.c; return n.s0 = n.s1, n.s1 = n.s2, n.s2 = t - (n.c = 0 | t) }, n.c = 1, n.s0 = r(\" \"), n.s1 = r(\" \"), n.s2 = r(\" \"), n.s0 -= r(t), n.s0 < 0 && (n.s0 += 1), n.s1 -= r(t), n.s1 < 0 && (n.s1 += 1), n.s2 -= r(t), n.s2 < 0 && (n.s2 += 1), r = null;\r\n                }\r\n\r\n                function o(t, e) { return e.c = t.c, e.s0 = t.s0, e.s1 = t.s1, e.s2 = t.s2, e }\r\n\r\n                function a(t, e) {\r\n                    var n = new r(t),\r\n                        a = e && e.state,\r\n                        i = n.next;\r\n                    return i.int32 = function() { return 4294967296 * n.next() | 0 }, i.double = function() { return i() + 11102230246251565e-32 * (2097152 * i() | 0) }, i.quick = i, a && (\"object\" == typeof a && o(a, n), i.state = function() { return o(n, {}) }), i\r\n                }\r\n                e && e.exports ? e.exports = a : n && n.amd ? n((function() { return a })) : this.alea = a;\r\n            }(0, t, !1);\r\n        })),\r\n        rr = er((function(t) {\r\n            ! function(t, e, n) {\r\n                function r(t) {\r\n                    var e = this,\r\n                        n = \"\";\r\n                    e.x = 0, e.y = 0, e.z = 0, e.w = 0, e.next = function() { var t = e.x ^ e.x << 11; return e.x = e.y, e.y = e.z, e.z = e.w, e.w ^= e.w >>> 19 ^ t ^ t >>> 8 }, t === (0 | t) ? e.x = t : n += t;\r\n                    for (var r = 0; r < n.length + 64; r++) e.x ^= 0 | n.charCodeAt(r), e.next();\r\n                }\r\n\r\n                function o(t, e) { return e.x = t.x, e.y = t.y, e.z = t.z, e.w = t.w, e }\r\n\r\n                function a(t, e) {\r\n                    var n = new r(t),\r\n                        a = e && e.state,\r\n                        i = function() { return (n.next() >>> 0) / 4294967296 };\r\n                    return i.double = function() { do { var t = ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) / (1 << 21); } while (0 === t); return t }, i.int32 = n.next, i.quick = i, a && (\"object\" == typeof a && o(a, n), i.state = function() { return o(n, {}) }), i\r\n                }\r\n                e && e.exports ? e.exports = a : n && n.amd ? n((function() { return a })) : this.xor128 = a;\r\n            }(0, t, !1);\r\n        })),\r\n        or = er((function(t) {\r\n            ! function(t, e, n) {\r\n                function r(t) {\r\n                    var e = this,\r\n                        n = \"\";\r\n                    e.next = function() { var t = e.x ^ e.x >>> 2; return e.x = e.y, e.y = e.z, e.z = e.w, e.w = e.v, (e.d = e.d + 362437 | 0) + (e.v = e.v ^ e.v << 4 ^ t ^ t << 1) | 0 }, e.x = 0, e.y = 0, e.z = 0, e.w = 0, e.v = 0, t === (0 | t) ? e.x = t : n += t;\r\n                    for (var r = 0; r < n.length + 64; r++) e.x ^= 0 | n.charCodeAt(r), r == n.length && (e.d = e.x << 10 ^ e.x >>> 4), e.next();\r\n                }\r\n\r\n                function o(t, e) { return e.x = t.x, e.y = t.y, e.z = t.z, e.w = t.w, e.v = t.v, e.d = t.d, e }\r\n\r\n                function a(t, e) {\r\n                    var n = new r(t),\r\n                        a = e && e.state,\r\n                        i = function() { return (n.next() >>> 0) / 4294967296 };\r\n                    return i.double = function() { do { var t = ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) / (1 << 21); } while (0 === t); return t }, i.int32 = n.next, i.quick = i, a && (\"object\" == typeof a && o(a, n), i.state = function() { return o(n, {}) }), i\r\n                }\r\n                e && e.exports ? e.exports = a : n && n.amd ? n((function() { return a })) : this.xorwow = a;\r\n            }(0, t, !1);\r\n        })),\r\n        ar = er((function(t) {\r\n            ! function(t, e, n) {\r\n                function r(t) {\r\n                    var e = this;\r\n                    e.next = function() {\r\n                            var t, n, r = e.x,\r\n                                o = e.i;\r\n                            return t = r[o], n = (t ^= t >>> 7) ^ t << 24, n ^= (t = r[o + 1 & 7]) ^ t >>> 10, n ^= (t = r[o + 3 & 7]) ^ t >>> 3, n ^= (t = r[o + 4 & 7]) ^ t << 7, t = r[o + 7 & 7], n ^= (t ^= t << 13) ^ t << 9, r[o] = n, e.i = o + 1 & 7, n\r\n                        },\r\n                        function(t, e) {\r\n                            var n, r = [];\r\n                            if (e === (0 | e)) r[0] = e;\r\n                            else\r\n                                for (e = \"\" + e, n = 0; n < e.length; ++n) r[7 & n] = r[7 & n] << 15 ^ e.charCodeAt(n) + r[n + 1 & 7] << 13;\r\n                            for (; r.length < 8;) r.push(0);\r\n                            for (n = 0; n < 8 && 0 === r[n]; ++n);\r\n                            for (8 == n ? r[7] = -1 : r[n], t.x = r, t.i = 0, n = 256; n > 0; --n) t.next();\r\n                        }(e, t);\r\n                }\r\n\r\n                function o(t, e) { return e.x = t.x.slice(), e.i = t.i, e }\r\n\r\n                function a(t, e) {\r\n                    null == t && (t = +new Date);\r\n                    var n = new r(t),\r\n                        a = e && e.state,\r\n                        i = function() { return (n.next() >>> 0) / 4294967296 };\r\n                    return i.double = function() { do { var t = ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) / (1 << 21); } while (0 === t); return t }, i.int32 = n.next, i.quick = i, a && (a.x && o(a, n), i.state = function() { return o(n, {}) }), i\r\n                }\r\n                e && e.exports ? e.exports = a : n && n.amd ? n((function() { return a })) : this.xorshift7 = a;\r\n            }(0, t, !1);\r\n        })),\r\n        ir = er((function(t) {\r\n            ! function(t, e, n) {\r\n                function r(t) {\r\n                    var e = this;\r\n                    e.next = function() {\r\n                            var t, n, r = e.w,\r\n                                o = e.X,\r\n                                a = e.i;\r\n                            return e.w = r = r + 1640531527 | 0, n = o[a + 34 & 127], t = o[a = a + 1 & 127], n ^= n << 13, t ^= t << 17, n ^= n >>> 15, t ^= t >>> 12, n = o[a] = n ^ t, e.i = a, n + (r ^ r >>> 16) | 0\r\n                        },\r\n                        function(t, e) {\r\n                            var n, r, o, a, i, s = [],\r\n                                u = 128;\r\n                            for (e === (0 | e) ? (r = e, e = null) : (e += \"\\0\", r = 0, u = Math.max(u, e.length)), o = 0, a = -32; a < u; ++a) e && (r ^= e.charCodeAt((a + 32) % e.length)), 0 === a && (i = r), r ^= r << 10, r ^= r >>> 15, r ^= r << 4, r ^= r >>> 13, a >= 0 && (i = i + 1640531527 | 0, o = 0 == (n = s[127 & a] ^= r + i) ? o + 1 : 0);\r\n                            for (o >= 128 && (s[127 & (e && e.length || 0)] = -1), o = 127, a = 512; a > 0; --a) r = s[o + 34 & 127], n = s[o = o + 1 & 127], r ^= r << 13, n ^= n << 17, r ^= r >>> 15, n ^= n >>> 12, s[o] = r ^ n;\r\n                            t.w = i, t.X = s, t.i = o;\r\n                        }(e, t);\r\n                }\r\n\r\n                function o(t, e) { return e.i = t.i, e.w = t.w, e.X = t.X.slice(), e }\r\n\r\n                function a(t, e) {\r\n                    null == t && (t = +new Date);\r\n                    var n = new r(t),\r\n                        a = e && e.state,\r\n                        i = function() { return (n.next() >>> 0) / 4294967296 };\r\n                    return i.double = function() { do { var t = ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) / (1 << 21); } while (0 === t); return t }, i.int32 = n.next, i.quick = i, a && (a.X && o(a, n), i.state = function() { return o(n, {}) }), i\r\n                }\r\n                e && e.exports ? e.exports = a : n && n.amd ? n((function() { return a })) : this.xor4096 = a;\r\n            }(0, t, !1);\r\n        })),\r\n        sr = er((function(t) {\r\n            ! function(t, e, n) {\r\n                function r(t) {\r\n                    var e = this,\r\n                        n = \"\";\r\n                    e.next = function() {\r\n                        var t = e.b,\r\n                            n = e.c,\r\n                            r = e.d,\r\n                            o = e.a;\r\n                        return t = t << 25 ^ t >>> 7 ^ n, n = n - r | 0, r = r << 24 ^ r >>> 8 ^ o, o = o - t | 0, e.b = t = t << 20 ^ t >>> 12 ^ n, e.c = n = n - r | 0, e.d = r << 16 ^ n >>> 16 ^ o, e.a = o - t | 0\r\n                    }, e.a = 0, e.b = 0, e.c = -1640531527, e.d = 1367130551, t === Math.floor(t) ? (e.a = t / 4294967296 | 0, e.b = 0 | t) : n += t;\r\n                    for (var r = 0; r < n.length + 20; r++) e.b ^= 0 | n.charCodeAt(r), e.next();\r\n                }\r\n\r\n                function o(t, e) { return e.a = t.a, e.b = t.b, e.c = t.c, e.d = t.d, e }\r\n\r\n                function a(t, e) {\r\n                    var n = new r(t),\r\n                        a = e && e.state,\r\n                        i = function() { return (n.next() >>> 0) / 4294967296 };\r\n                    return i.double = function() { do { var t = ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) / (1 << 21); } while (0 === t); return t }, i.int32 = n.next, i.quick = i, a && (\"object\" == typeof a && o(a, n), i.state = function() { return o(n, {}) }), i\r\n                }\r\n                e && e.exports ? e.exports = a : n && n.amd ? n((function() { return a })) : this.tychei = a;\r\n            }(0, t, !1);\r\n        })),\r\n        ur = er((function(t) {\r\n            ! function(e, n) {\r\n                var r, o = this,\r\n                    a = 256,\r\n                    i = 6,\r\n                    s = \"random\",\r\n                    u = n.pow(a, i),\r\n                    c = n.pow(2, 52),\r\n                    l = 2 * c,\r\n                    h = a - 1;\r\n\r\n                function f(t, h, f) {\r\n                    var g = [],\r\n                        y = v(function t(e, n) {\r\n                            var r, o = [],\r\n                                a = typeof e;\r\n                            if (n && \"object\" == a)\r\n                                for (r in e) try { o.push(t(e[r], n - 1)); } catch (t) {}\r\n                            return o.length ? o : \"string\" == a ? e : e + \"\\0\"\r\n                        }((h = 1 == h ? { entropy: !0 } : h || {}).entropy ? [t, m(e)] : null == t ? function() {\r\n                            try { var t; return r && (t = r.randomBytes) ? t = t(a) : (t = new Uint8Array(a), (o.crypto || o.msCrypto).getRandomValues(t)), m(t) } catch (t) {\r\n                                var n = o.navigator,\r\n                                    i = n && n.plugins;\r\n                                return [+new Date, o, i, o.screen, m(e)]\r\n                            }\r\n                        }() : t, 3), g),\r\n                        x = new d(g),\r\n                        b = function() { for (var t = x.g(i), e = u, n = 0; t < c;) t = (t + n) * a, e *= a, n = x.g(1); for (; t >= l;) t /= 2, e /= 2, n >>>= 1; return (t + n) / e };\r\n                    return b.int32 = function() { return 0 | x.g(4) }, b.quick = function() { return x.g(4) / 4294967296 }, b.double = b, v(m(x.S), e), (h.pass || f || function(t, e, r, o) { return o && (o.S && p(o, x), t.state = function() { return p(x, {}) }), r ? (n[s] = t, e) : t })(b, y, \"global\" in h ? h.global : this == n, h.state)\r\n                }\r\n\r\n                function d(t) {\r\n                    var e, n = t.length,\r\n                        r = this,\r\n                        o = 0,\r\n                        i = r.i = r.j = 0,\r\n                        s = r.S = [];\r\n                    for (n || (t = [n++]); o < a;) s[o] = o++;\r\n                    for (o = 0; o < a; o++) s[o] = s[i = h & i + t[o % n] + (e = s[o])], s[i] = e;\r\n                    (r.g = function(t) { for (var e, n = 0, o = r.i, i = r.j, s = r.S; t--;) e = s[o = h & o + 1], n = n * a + s[h & (s[o] = s[i = h & i + e]) + (s[i] = e)]; return r.i = o, r.j = i, n })(a);\r\n                }\r\n\r\n                function p(t, e) { return e.i = t.i, e.j = t.j, e.S = t.S.slice(), e }\r\n\r\n                function v(t, e) { for (var n, r = t + \"\", o = 0; o < r.length;) e[h & o] = h & (n ^= 19 * e[h & o]) + r.charCodeAt(o++); return m(e) }\r\n\r\n                function m(t) { return String.fromCharCode.apply(0, t) }\r\n                if (n[\"seed\" + s] = f, v(n.random(), e), t.exports) { t.exports = f; try { r = require(\"crypto\"); } catch (t) {} }\r\n            }([], Math);\r\n        }));\r\n    ur.alea = nr, ur.xor128 = rr, ur.xorwow = or, ur.xorshift7 = ar, ur.xor4096 = ir, ur.tychei = sr;\r\n    var cr = ur.alea,\r\n        lr = function() {\r\n            function t(t, e, n, r, o) {\r\n                this.mean = t, this.stdDev = e, this.dtype = n, this.nextVal = NaN, this.truncated = r, this.truncated && (this.upper = this.mean + 2 * this.stdDev, this.lower = this.mean - 2 * this.stdDev);\r\n                var a = o || Math.random();\r\n                this.random = cr(a.toString());\r\n            }\r\n            return t.prototype.nextValue = function() {\r\n                if (!isNaN(this.nextVal)) { var t = this.nextVal; return this.nextVal = NaN, t }\r\n                for (var e, n, r = !1; !r;) {\r\n                    var o = void 0,\r\n                        a = void 0,\r\n                        i = void 0;\r\n                    do { i = (o = 2 * this.random() - 1) * o + (a = 2 * this.random() - 1) * a; } while (i >= 1 || 0 === i);\r\n                    var s = Math.sqrt(-2 * Math.log(i) / i);\r\n                    e = this.mean + this.stdDev * o * s, n = this.mean + this.stdDev * a * s, this.truncated && !this.isValidTruncated(e) || (r = !0);\r\n                }\r\n                return this.truncated && !this.isValidTruncated(n) || (this.nextVal = this.convertValue(n)), this.convertValue(e)\r\n            }, t.prototype.convertValue = function(t) { return null == this.dtype || \"float32\" === this.dtype ? t : Math.round(t) }, t.prototype.isValidTruncated = function(t) { return t <= this.upper && t >= this.lower }, t\r\n        }(),\r\n        hr = function() {\r\n            function t(t, e, n, r) {\r\n                this.alpha = t, this.beta = 1 / e, this.dtype = n;\r\n                var o = r || Math.random();\r\n                this.randu = cr(o.toString()), this.randn = new lr(0, 1, n, !1, this.randu()), this.d = t < 1 ? t + 2 / 3 : t - 1 / 3, this.c = 1 / Math.sqrt(9 * this.d);\r\n            }\r\n            return t.prototype.nextValue = function() { for (var t, e, n, r, o, a;;) { do { r = this.randn.nextValue(), a = 1 + this.c * r; } while (a <= 0); if (a *= a * a, e = 1 - .331 * (t = r * r) * t, n = .5 * t + this.d * (1 - a + Math.log(a)), (o = this.randu()) < e || Math.log(o) < n) break } return a = 1 / this.beta * this.d * a, this.alpha < 1 && (a *= Math.pow(this.randu(), 1 / this.alpha)), this.convertValue(a) }, t.prototype.convertValue = function(t) { return \"float32\" === this.dtype ? t : Math.round(t) }, t\r\n        }(),\r\n        fr = function() {\r\n            function t(t, e, n, r) {\r\n                var o = this;\r\n                if (void 0 === t && (t = 0), void 0 === e && (e = 1), this.canReturnFloat = function() { return null == o.dtype || \"float32\" === o.dtype }, this.min = t, this.range = e - t, this.dtype = n, null == r && (r = Math.random()), \"number\" == typeof r && (r = r.toString()), !this.canReturnFloat() && this.range <= 1) throw new Error(\"The difference between \" + t + \" - \" + e + \" <= 1 and dtype is not float\");\r\n                this.random = cr(r);\r\n            }\r\n            return t.prototype.convertValue = function(t) { return this.canReturnFloat() ? t : Math.round(t) }, t.prototype.nextValue = function() { return this.convertValue(this.min + this.range * this.random()) }, t\r\n        }();\r\n\r\n    function dr(t, e, n) { return void 0 === e && (e = \"float32\"), e = e || \"float32\", nt(t), new gt(t, e, n) }\r\n\r\n    function pr(t, e) { void 0 === e && (e = !1), console.log(t.toString(e)); }\r\n    var vr = An({\r\n            batchToSpaceND_: function(t, e, n) {\r\n                var r = mn(t, \"x\", \"batchToSpaceND\"),\r\n                    o = e.reduce((function(t, e) { return t * e }));\r\n                return C(r.rank >= 1 + e.length, (function() { return \"input rank is \" + r.rank + \" but should be > than blockShape.length \" + e.length })), C(n.length === e.length, (function() { return \"crops.length is \" + n.length + \" but should be equal to blockShape.length  \" + e.length })), C(r.shape[0] % o == 0, (function() { return \"input tensor batch is \" + r.shape[0] + \" but is not divisible by the product of the elements of blockShape \" + e.join(\" * \") + \" === \" + o })), Lt.runKernelFunc((function(t) { return t.batchToSpaceND(r, e, n) }), { $x: r }, (function(t) { return { $x: function() { return t.spaceToBatchND(e, n) } } }))\r\n            }\r\n        }),\r\n        mr = An({\r\n            broadcastTo_: function(t, e) {\r\n                var n = mn(t, \"broadcastTo\", \"x\"),\r\n                    r = n.shape;\r\n                if (e.some((function(t) { return !(t > 0) || t % 1 != 0 }))) throw new Error(\"broadcastTo(): Invalid broadcast shape [\" + e + \"].\");\r\n                if (e.length < n.rank) throw new Error(\"broadcastTo(): shape.length=\" + e.length + \" < input.rank=\" + n.rank + \".\");\r\n                if (e.length > n.rank) {\r\n                    for (var o = n.shape.slice(); o.length < e.length;) o.unshift(1);\r\n                    n = n.reshape(o);\r\n                }\r\n                for (var a = Array.from(e), i = e.length - 1; i >= 0; i--)\r\n                    if (n.shape[i] === e[i]) a[i] = 1;\r\n                    else if (1 !== n.shape[i]) throw new Error(\"broadcastTo(): [\" + r + \"] cannot be broadcast to [\" + e + \"].\");\r\n                var s = a.map((function(t, e) { return t > 1 ? e : -1 })).filter((function(t) { return t >= 0 }));\r\n                return 0 === s.length ? n.clone() : Lt.runKernelFunc((function(t) { return t.tile(n, a) }), { input: n }, (function(t) { return { input: function() { return t.sum(s, !0) } } }))\r\n            }\r\n        }),\r\n        gr = An({ cast_: function(t, e) { var n = mn(t, \"x\", \"cast\"); if (!W(e)) throw new Error(\"Failed to cast to unknown dtype \" + e); if (\"string\" === e && \"string\" !== n.dtype || \"string\" !== e && \"string\" === n.dtype) throw new Error(\"Only strings can be casted to strings\"); var r = { dtype: e }; return Lt.runKernelFunc((function(t) { return t.cast(n, e) }), { x: n }, (function(t) { return { x: function() { return t.clone() } } }), \"Cast\", r) } }),\r\n        yr = An({ clone_: function(t) { var e = mn(t, \"x\", \"clone\", null); return Lt.runKernelFunc((function() { return Lt.makeTensorFromDataId(e.dataId, e.shape, e.dtype) }), { $x: e }, (function(t) { return { $x: function() { return t.toFloat() } } })) } }),\r\n        xr = An({\r\n            cumsum_: function(t, e, n, r) {\r\n                void 0 === e && (e = 0), void 0 === n && (n = !1), void 0 === r && (r = !1);\r\n                var o = mn(t, \"x\", \"cumsum\"),\r\n                    a = En([e |= 0], o.rank),\r\n                    i = o;\r\n                null != a && (i = o.transpose(a));\r\n                var s = In(1, o.rank)[0],\r\n                    u = Lt.runKernelFunc((function(t) { return t.cumsum(i, s, n, r) }), { permutedX: i }, (function(t) { return { permutedX: function() { return t.cumsum(e, n, !r) } } }));\r\n                return null != a && (u = u.transpose(a)), u\r\n            }\r\n        }),\r\n        br = An({\r\n            depthToSpace_: function(t, e, n) {\r\n                void 0 === n && (n = \"NHWC\");\r\n                var r = mn(t, \"x\", \"depthToSpace\"),\r\n                    o = \"NHWC\" === n ? r.shape[1] : r.shape[2],\r\n                    a = \"NHWC\" === n ? r.shape[2] : r.shape[3],\r\n                    i = \"NHWC\" === n ? r.shape[3] : r.shape[1];\r\n                return C(o * e >= 0, (function() { return \"Negative dimension size caused by overflow when multiplying\\n      \" + o + \" and \" + e + \"  for depthToSpace with input shape\\n      \" + r.shape })), C(a * e >= 0, (function() { return \"Negative dimension size caused by overflow when multiplying\\n      \" + a + \" and \" + e + \" for depthToSpace with input shape\\n          \" + r.shape })), C(i % (e * e) == 0, (function() { return \"Dimension size must be evenly divisible by \" + e * e + \" but is \" + i + \" for depthToSpace with input shape \" + r.shape })), Lt.runKernelFunc((function(t) { return t.depthToSpace(r, e, n) }), { $x: r })\r\n            }\r\n        }),\r\n        wr = An({\r\n            expandDims_: function(t, e) {\r\n                void 0 === e && (e = 0);\r\n                var n = mn(t, \"x\", \"expandDims\", null);\r\n                C(e <= n.rank, (function() { return \"Axis must be <= rank of the tensor\" }));\r\n                var r = n.shape.slice();\r\n                return e < 0 && (C(-(n.rank + 1) <= e, (function() { return \"Axis must be in the interval [\" + -(n.rank + 1) + \", \" + n.rank + \"]\" })), e = n.rank + e + 1), r.splice(e, 0, 1), Or(n, r)\r\n            }\r\n        }),\r\n        Cr = An({ eye_: function(t, e, n, r) { void 0 === r && (r = \"float32\"), null == e && (e = t); for (var o = dr([t, e], r), a = t <= e ? t : e, i = 0; i < a; ++i) o.set(1, i, i); var s = o.toTensor().as2D(t, e); if (null == n) return s; if (1 === n.length) return Lr(wr(s, 0), [n[0], 1, 1]); if (2 === n.length) return Lr(wr(wr(s, 0), 0), [n[0], n[1], 1, 1]); if (3 === n.length) return Lr(wr(wr(wr(s, 0), 0), 0), [n[0], n[1], n[2], 1, 1]); throw new Error(\"eye() currently supports only 1D and 2D batchShapes, but received \" + n.length + \"D.\") } }),\r\n        Er = An({\r\n            multinomial_: function(t, e, n, r) {\r\n                void 0 === r && (r = !1);\r\n                var o = mn(t, \"logits\", \"multinomial\"),\r\n                    a = o.size,\r\n                    i = o.rank;\r\n                if (a < 2) throw new Error(\"Error in multinomial: you need at least 2 outcomes, but got \" + a + \".\");\r\n                if (i > 2) throw new Error(\"Rank of probabilities must be 1 or 2, but is \" + i);\r\n                n = n || Math.random();\r\n                var s = 1 === i ? o.as2D(1, -1) : o,\r\n                    u = Lt.runKernelFunc((function(t) { return t.multinomial(s, r, e, n) }), { logits2D: s });\r\n                return 1 === i ? u.as1D() : u\r\n            }\r\n        }),\r\n        Rr = An({\r\n            oneHot_: function(t, e, n, r) {\r\n                if (void 0 === n && (n = 1), void 0 === r && (r = 0), e < 2) throw new Error(\"Error in oneHot: depth must be >=2, but it is \" + e);\r\n                var o = mn(t, \"indices\", \"oneHot\", \"int32\"),\r\n                    a = o.shape.concat([e]);\r\n                return o = o.flatten(), Lt.runKernelFunc((function(t) { return t.oneHot(o, e, n, r) }), { $indices: o }, (function(t) { return { $indices: function() { return Gn(o.shape, \"float32\") } } })).reshape(a)\r\n            }\r\n        }),\r\n        Ir = An({ pad_: function(t, e, n) { void 0 === n && (n = 0); var r = mn(t, \"x\", \"pad\"); if (0 === r.rank) throw new Error(\"pad(scalar) is not defined. Pass non-scalar to pad\"); var o = { paddings: e, constantValue: n }; return Lt.runKernelFunc((function(t) { return t.pad(r, e, n) }), { x: r }, (function(t) { var n = e.map((function(t) { return t[0] })); return { x: function() { return t.slice(n, r.shape) } } }), \"PadV2\", o) } }),\r\n        kr = An({ pad1d_: function(t, e, n) { return void 0 === n && (n = 0), C(2 === e.length, (function() { return \"Invalid number of paddings. Must be length of 2.\" })), Ir(t, [e], n) } }),\r\n        Sr = An({ pad2d_: function(t, e, n) { return void 0 === n && (n = 0), C(2 === e.length && 2 === e[0].length && 2 === e[1].length, (function() { return \"Invalid number of paddings. Must be length of 2 each.\" })), Ir(t, e, n) } }),\r\n        Ar = An({ pad3d_: function(t, e, n) { return void 0 === n && (n = 0), C(3 === e.length && 2 === e[0].length && 2 === e[1].length && 2 === e[2].length, (function() { return \"Invalid number of paddings. Must be length of 2 each.\" })), Ir(t, e, n) } }),\r\n        Dr = An({ pad4d_: function(t, e, n) { return void 0 === n && (n = 0), C(4 === e.length && 2 === e[0].length && 2 === e[1].length && 2 === e[2].length && 2 === e[3].length, (function() { return \"Invalid number of paddings. Must be length of 2 each.\" })), Ir(t, e, n) } }),\r\n        Tr = An({\r\n            rand_: function(t, e, n) {\r\n                var r = k(t),\r\n                    o = null;\r\n                if (null == n || \"float32\" === n) o = new Float32Array(r);\r\n                else if (\"int32\" === n) o = new Int32Array(r);\r\n                else {\r\n                    if (\"bool\" !== n) throw new Error(\"Unknown data type \" + n);\r\n                    o = new Uint8Array(r);\r\n                }\r\n                for (var a = 0; a < r; a++) o[a] = e();\r\n                return Lt.makeTensor(o, t, n)\r\n            }\r\n        }),\r\n        Nr = An({ randomNormal_: function(t, e, n, r, o) { if (void 0 === e && (e = 0), void 0 === n && (n = 1), null != r && \"bool\" === r) throw new Error(\"Unsupported data type \" + r); for (var a = new lr(e, n, r, !1, o), i = dr(t, r), s = 0; s < i.values.length; s++) i.values[s] = a.nextValue(); return i.toTensor() } }),\r\n        Fr = An({ randomGamma_: function(t, e, n, r, o) { if (void 0 === n && (n = 1), void 0 === r && (r = \"float32\"), null == n && (n = 1), null == r && (r = \"float32\"), \"float32\" !== r && \"int32\" !== r) throw new Error(\"Unsupported data type \" + r); for (var a = new hr(e, n, r, o), i = dr(t, r), s = 0; s < i.values.length; s++) i.values[s] = a.nextValue(); return i.toTensor() } }),\r\n        _r = An({ randomUniform_: function(t, e, n, r, o) { void 0 === e && (e = 0), void 0 === n && (n = 1), void 0 === r && (r = \"float32\"); for (var a = dr(t, r), i = new fr(e, n, null, o), s = 0; s < a.values.length; s++) a.values[s] = i.nextValue(); return a.toTensor() } }),\r\n        Or = An({\r\n            reshape_: function(t, e) {\r\n                var n = mn(t, \"x\", \"reshape\", null);\r\n                e = _(e, n.size), C(n.size === k(e), (function() { return \"new shape and old shape must have the same number of elements.\" }));\r\n                var r = { shape: e };\r\n                return Lt.runKernelFunc((function(t) { return t.reshape(n, e) }), { x: n }, (function(t) { return { x: function() { return t.reshape(n.shape) } } }), \"Reshape\", r)\r\n            }\r\n        }),\r\n        Mr = An({ spaceToBatchND_: function(t, e, n) { var r = mn(t, \"x\", \"spaceToBatchND\"); return C(r.rank >= 1 + e.length, (function() { return \"input rank \" + r.rank + \" should be > than [blockShape] \" + e.length })), C(n.length === e.length, (function() { return \"paddings.shape[0] \" + n.length + \" must be equal to [blockShape] \" + e.length })), C(r.shape.reduce((function(t, r, o) { return o > 0 && o <= e.length ? t && (r + n[o - 1][0] + n[o - 1][1]) % e[o - 1] == 0 : t }), !0), (function() { return \"input spatial dimensions \" + r.shape.slice(1) + \" with paddings \" + n.toString() + \" must be divisible by blockShapes \" + e.toString() })), Lt.runKernelFunc((function(t) { return t.spaceToBatchND(r, e, n) }), { $x: r }, (function(t) { return { $x: function() { return t.batchToSpaceND(e, n) } } })) } }),\r\n        Br = An({ squeeze_: function(t, e) { var n = mn(t, \"x\", \"squeeze\"); return Or(n, M(n.shape, e).newShape) } }),\r\n        Pr = An({\r\n            stack_: function(t, e) {\r\n                void 0 === e && (e = 0);\r\n                var n = gn(t, \"tensors\", \"stack\");\r\n                if (C(n.length >= 1, (function() { return \"Pass at least one tensor to tf.stack\" })), 1 === n.length) return n[0].expandDims(e);\r\n                var r = n[0].rank,\r\n                    o = n[0].shape,\r\n                    a = n[0].dtype;\r\n                C(e <= r, (function() { return \"Axis must be <= rank of the tensor\" })), n.forEach((function(t) { E(o, t.shape, \"All tensors passed to stack must have matching shapes\"); })), n.forEach((function(t) { C(a === t.dtype, (function() { return \"All tensors passed to stack must have matching dtypes\" })); }));\r\n                var i = n.map((function(t) { return t.expandDims(e) }));\r\n                return Yn(i, e)\r\n            }\r\n        }),\r\n        Lr = An({\r\n            tile_: function(t, e) {\r\n                var n = mn(t, \"x\", \"tile\", null);\r\n                C(n.rank === e.length, (function() { return \"Error in transpose: rank of input \" + n.rank + \" must match length of reps \" + e + \".\" }));\r\n                var r = [n],\r\n                    o = { reps: e };\r\n                return Lt.runKernelFunc((function(t, r) { var o = t.tile(n, e); return r([n]), o }), { x: n }, (function(t, n) {\r\n                    var r = n[0];\r\n                    return {\r\n                        x: function() {\r\n                            var n = Xn(r);\r\n                            if (1 === r.rank)\r\n                                for (var o = 0; o < e[0]; ++o) n = n.add(t.slice([o * r.shape[0]], [r.shape[0]]));\r\n                            else if (2 === r.rank)\r\n                                for (o = 0; o < e[0]; ++o)\r\n                                    for (var a = 0; a < e[1]; ++a) n = n.add(t.slice([o * r.shape[0], a * r.shape[1]], [r.shape[0], r.shape[1]]));\r\n                            else if (3 === r.rank)\r\n                                for (o = 0; o < e[0]; ++o)\r\n                                    for (a = 0; a < e[1]; ++a)\r\n                                        for (var i = 0; i < e[2]; ++i) n = n.add(t.slice([o * r.shape[0], a * r.shape[1], i * r.shape[2]], [r.shape[0], r.shape[1], r.shape[2]]));\r\n                            else {\r\n                                if (4 !== r.rank) throw new Error(\"Gradient for tile operation is not implemented for rank-\" + r.rank + \" tensors yet.\");\r\n                                for (o = 0; o < e[0]; ++o)\r\n                                    for (a = 0; a < e[1]; ++a)\r\n                                        for (i = 0; i < e[2]; ++i)\r\n                                            for (var s = 0; s < e[3]; ++s) n = n.add(t.slice([o * r.shape[0], a * r.shape[1], i * r.shape[2], s * r.shape[3]], [r.shape[0], r.shape[1], r.shape[2], r.shape[3]]));\r\n                            }\r\n                            return n\r\n                        }\r\n                    }\r\n                }), \"Tile\", o, r)\r\n            }\r\n        }),\r\n        Wr = An({ truncatedNormal_: function(t, e, n, r, o) { if (void 0 === e && (e = 0), void 0 === n && (n = 1), null != r && \"bool\" === r) throw new Error(\"Unsupported data type \" + r); for (var a = new lr(e, n, r, !0, o), i = dr(t, r), s = 0; s < i.values.length; s++) i.values[s] = a.nextValue(); return i.toTensor() } }),\r\n        Ur = An({\r\n            unstack_: function(t, e) {\r\n                void 0 === e && (e = 0), e = e || 0;\r\n                var n = mn(t, \"x\", \"unstack\");\r\n                C(e >= -n.shape.length && e < n.shape.length, (function() { return \"Axis = \" + e + \" is not in [-\" + n.shape.length + \", \" + n.shape.length + \")\" })), e < 0 && (e += n.shape.length);\r\n                var r = { axis: e };\r\n                return Lt.runKernelFunc((function(t) { return t.unstack(n, e) }), { x: n }, (function(t) { return { x: function() { return Pr(t, e) } } }), \"Unpack\", r)\r\n            }\r\n        }),\r\n        Vr = function(t, e) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var n, o, a, i, s, u, c, l, h, f;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return n = mn(t, \"x\", \"setdiff1d\"), o = mn(e, \"y\", \"setdiff1d\"), C(n.dtype === o.dtype, (function() { return \"x and y should have the same dtype, but got x (\" + n.dtype + \") and y (\" + o.dtype + \").\" })), C(1 === n.rank, (function() { return \"x should be 1D tensor, but got x (\" + n.shape + \").\" })), C(1 === o.rank, (function() { return \"y should be 1D tensor, but got y (\" + o.shape + \").\" })), [4, n.data()];\r\n                        case 1:\r\n                            return a = r.sent(), [4, o.data()];\r\n                        case 2:\r\n                            for (i = r.sent(), s = new Set(i), u = 0, h = 0; h < a.length; h++) s.has(a[h]) || u++;\r\n                            for (c = new gt([u], n.dtype), l = new gt([u], \"int32\"), h = 0, f = 0; h < a.length; h++) s.has(a[h]) || (c.values[f] = a[h], l.values[f] = h, f++);\r\n                            return [2, [c.toTensor(), l.toTensor()]]\r\n                    }\r\n                }))\r\n            }))\r\n        };\r\n\r\n    function zr(t, e, n, r) {\r\n        void 0 === r && (r = !0);\r\n        var o = [];\r\n        if (r)(o = o.concat(e.slice(0))).push(t[0] / n), o = o.concat(t.slice(1));\r\n        else {\r\n            o = o.concat(t[0]);\r\n            for (var a = e.length, i = 0; i < a; ++i) o = o.concat([t[i + 1] / e[i], e[i]]);\r\n            o = o.concat(t.slice(a + 1));\r\n        }\r\n        return o\r\n    }\r\n\r\n    function Gr(t, e, n) {\r\n        void 0 === n && (n = !0);\r\n        var r = [];\r\n        if (n) { r.push(e); for (var o = e + 1; o < t; ++o) o <= 2 * e ? (r.push(o), r.push(o - (e + 1))) : r.push(o); } else {\r\n            var a = [],\r\n                i = [];\r\n            for (o = 1; o < t; ++o) o >= 2 * e + 1 || o % 2 == 1 ? i.push(o) : a.push(o);\r\n            r.push.apply(r, a), r.push(0), r.push.apply(r, i);\r\n        }\r\n        return r\r\n    }\r\n\r\n    function Hr(t, e, n, r) {\r\n        void 0 === r && (r = !0);\r\n        var o = [];\r\n        r ? o.push(t[0] / n) : o.push(t[0] * n);\r\n        for (var a = 1; a < t.length; ++a) a <= e.length ? r ? o.push(e[a - 1] * t[a]) : o.push(t[a] / e[a - 1]) : o.push(t[a]);\r\n        return o\r\n    }\r\n\r\n    function qr(t, e) { for (var n = [0], r = 0; r < e; ++r) n.push(t[r][0]); return n }\r\n\r\n    function Kr(t, e, n) { for (var r = t.slice(0, 1), o = 0; o < n; ++o) r.push(t[o + 1] - e[o][0] - e[o][1]); return r }\r\n\r\n    function jr(t, e) {\r\n        if (t.rank < 1) throw new Error(\"tf.gatherND() expects the input to be rank 1 or higher, but the rank was \" + t.rank + \".\");\r\n        if (e.rank < 1) throw new Error(\"tf.gatherND() expects the indices to be rank 1 or higher, but the rank was \" + e.rank + \".\");\r\n        if (\"int32\" !== e.dtype) throw new Error(\"tf.gatherND() expects the indices to be int32 type, but the dtype was \" + e.dtype + \".\");\r\n        if (e.shape[e.rank - 1] > t.rank) throw new Error(\"index innermost dimension length must be <= tensor rank; saw: \" + e.shape[e.rank - 1] + \" vs. \" + t.rank);\r\n        if (0 === t.size) throw new Error(\"Requested more than 0 entries, but input is empty. Input shape: \" + t.shape + \".\");\r\n        for (var n = e.shape, r = n[n.length - 1], o = 1, a = 0; a < n.length - 1; ++a) o *= n[a];\r\n        var i = t.shape,\r\n            s = n.slice();\r\n        s.pop();\r\n        var u = 1;\r\n        for (a = r; a < t.rank; ++a) u *= i[a], s.push(i[a]);\r\n        var c = $(t.shape).map((function(t) { return t / u })).concat([1]).slice(0, r);\r\n        return [s, o, u, c]\r\n    }\r\n    var Xr = Object.freeze({ prepareAndValidate: jr }),\r\n        Yr = 30;\r\n\r\n    function $r(t) { return t <= Yr ? t : Y(t, Math.floor(Math.sqrt(t))) }\r\n\r\n    function Qr(t, e, n) {\r\n        var r = e.rank > 1 ? e.shape[e.rank - 1] : 1,\r\n            o = e.rank > 1 ? e.rank - 1 : 1,\r\n            a = \"Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: \" + n.shape + \", indices.shape: \" + e.shape + \", shape: \" + t + \", sliceDim: \" + r + \", and batchDim: \" + o + \".\";\r\n        if (n.rank < o) throw new Error(a + \" update.rank < \" + o + \". \");\r\n        if (t.length < r + (n.rank - o)) throw new Error(a + \" Output shape length < \" + (r + (n.rank - o)));\r\n        if (n.rank !== o + t.length - r) throw new Error(a + \" update.rank != \" + (o + t.length - r));\r\n        for (var i = 0; i < o; ++i)\r\n            if (n.shape[i] !== e.shape[i]) throw new Error(a + \" updates.shape[\" + i + \"] (\" + n.shape[i] + \") != indices.shape[\" + i + \"] (\" + e.shape[i] + \").\");\r\n        for (i = 0; i < n.rank - o; ++i)\r\n            if (n.shape[i + o] !== t[i + r]) throw new Error(a + \" updates.shape[\" + (i + o) + \"] (\" + n.shape[i + o] + \") != shape[\" + (i + o) + \"] (\" + t[i + o] + \")\")\r\n    }\r\n\r\n    function Jr(t, e, n) {\r\n        if (e.rank < 1) throw new Error(\"tf.scatterND() expects the indices to be rank 1 or higher, but the rank was \" + e.rank + \".\");\r\n        if (t.rank < 1) throw new Error(\"tf.scatterND() expects the updates to be rank 1 or higher, but the rank was \" + t.rank + \".\");\r\n        if (\"int32\" !== e.dtype) throw new Error(\"The dtype of 'indices' should be int32, but got dtype: \" + e.dtype);\r\n        if (n.length < 1) throw new Error(\"Output rank must be greater or equal to 1, but got shape: \" + n);\r\n        if (0 === n.length) { if (0 === e.size) throw new Error(\"Indices specified for empty output. indices shape: \" + e.shape); if (0 === t.size) throw new Error(\"Updates specified for empty output. updates shape: \" + t.shape) }\r\n        Qr(n, e, t);\r\n    }\r\n\r\n    function Zr(t, e, n) { for (var r = e.shape.length, o = r > 1 ? e.shape[r - 1] : 1, a = n.length, i = 1, s = o; s < a; ++s) i *= n[s]; var u = o < 1 ? 1 : o; return { sliceRank: o, numUpdates: k(e.shape) / u, sliceSize: i, strides: $(n.slice(0, o)).concat([1]), outputSize: k(n) } }\r\n    var to = Object.freeze({ validateUpdateShape: Qr, validateInput: Jr, calculateShapes: Zr });\r\n\r\n    function eo(t, e, n) { C(t.rank === e.length, (function() { return \"Error in slice\" + t.rank + \"D: Length of begin \" + e + \" must match the rank of the array (\" + t.rank + \").\" })), C(t.rank === n.length, (function() { return \"Error in slice\" + t.rank + \"D: Length of size \" + n + \" must match the rank of the array (\" + t.rank + \").\" })); for (var r = function(r) { C(e[r] + n[r] <= t.shape[r], (function() { return \"Error in slice\" + t.rank + \"D: begin[\" + r + \"] + size[\" + r + \"] (\" + (e[r] + n[r]) + \") would overflow input.shape[\" + r + \"] (\" + t.shape[r] + \")\" })); }, o = 0; o < t.rank; ++o) r(o); }\r\n\r\n    function no(t) { for (var e = [], n = 0; t > 0;) 1 & t && e.push(n), t /= 2, n++; return e }\r\n\r\n    function ro(t, e, n) { for (var r = [], o = 0; o < t.length; o++) r[o] = Math.ceil((e[o] - t[o]) / n[o]); return r }\r\n\r\n    function oo(t, e, n, r, o) {\r\n        var a = e[o],\r\n            i = n[o] || 1;\r\n        (t & 1 << o || null == a) && (a = i > 0 ? Number.MIN_SAFE_INTEGER : Number.MAX_SAFE_INTEGER);\r\n        var s = r[o];\r\n        return a < 0 && (a += s), a = x(0, a, s - 1)\r\n    }\r\n\r\n    function ao(t, e, n, r, o) {\r\n        var a = e[o],\r\n            i = n[o] || 1;\r\n        (t & 1 << o || null == a) && (a = i > 0 ? Number.MAX_SAFE_INTEGER : Number.MIN_SAFE_INTEGER);\r\n        var s = r[o];\r\n        return a < 0 && (a += s), a = i > 0 ? x(0, a, s) : x(-1, a, s - 1)\r\n    }\r\n\r\n    function io(t, e, n) {\r\n        for (var r = n.length, o = 0; o < n.length; o++)\r\n            if (n[o] > 1) { r = o; break }\r\n        for (o = r + 1; o < n.length; o++)\r\n            if (e[o] > 0 || n[o] !== t[o]) return !1;\r\n        return !0\r\n    }\r\n\r\n    function so(t, e) { for (var n = t.length > 0 ? t[t.length - 1] : 1, r = 0; r < t.length - 1; r++) n += t[r] * e[r]; return n }\r\n    var uo = Object.freeze({ assertParamsValid: eo, maskToAxes: no, computeOutShape: ro, startForAxis: oo, stopForAxis: ao, isSliceContinous: io, computeFlatOffset: so });\r\n\r\n    function co(t) {\r\n        return C(X(t), (function() { return \"The f passed in grad(f) must be a function\" })),\r\n            function(e, n) {\r\n                var r = mn(e, \"x\", \"tf.grad\", null),\r\n                    o = null != n ? mn(n, \"dy\", \"tf.grad\") : null;\r\n                return Lt.tidy((function() {\r\n                    var e = Lt.gradients((function() { return t(r) }), [r], o),\r\n                        n = e.value,\r\n                        a = e.grads;\r\n                    return null != o && E(n.shape, o.shape, \"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)\"), mo(a), a[0]\r\n                }))\r\n            }\r\n    }\r\n\r\n    function lo(t) {\r\n        return C(X(t), (function() { return \"The f passed in grads(f) must be a function\" })),\r\n            function(e, n) {\r\n                C(Array.isArray(e), (function() { return \"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s\" }));\r\n                var r = gn(e, \"args\", \"tf.grads\", null),\r\n                    o = null != n ? mn(n, \"dy\", \"tf.grads\") : null;\r\n                return Lt.tidy((function() {\r\n                    var e = Lt.gradients((function() { return t.apply(void 0, r) }), r, o),\r\n                        n = e.value,\r\n                        a = e.grads;\r\n                    return null != o && E(n.shape, o.shape, \"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])\"), mo(a), a\r\n                }))\r\n            }\r\n    }\r\n\r\n    function ho(t) {\r\n        return C(X(t), (function() { return \"The f passed in valueAndGrad(f) must be a function\" })),\r\n            function(e, n) {\r\n                C(e instanceof wt, (function() { return \"The x passed in valueAndGrad(f)(x) must be a tensor\" })), C(null == n || n instanceof wt, (function() { return \"The dy passed in valueAndGrad(f)(x, dy) must be a tensor\" }));\r\n                var r = Lt.gradients((function() { return t(e) }), [e], n),\r\n                    o = r.grads,\r\n                    a = r.value;\r\n                return mo(o), { grad: o[0], value: a }\r\n            }\r\n    }\r\n\r\n    function fo(t) {\r\n        return C(X(t), (function() { return \"The f passed in valueAndGrads(f) must be a function\" })),\r\n            function(e, n) { C(Array.isArray(e) && e.every((function(t) { return t instanceof wt })), (function() { return \"The args passed in valueAndGrads(f)(args) must be array of tensors\" })), C(null == n || n instanceof wt, (function() { return \"The dy passed in valueAndGrads(f)(args, dy) must be a tensor\" })); var r = Lt.gradients((function() { return t.apply(void 0, e) }), e, n); return null != n && E(r.value.shape, n.shape, \"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])\"), mo(r.grads), r }\r\n    }\r\n\r\n    function po(t, e) {\r\n        C(X(t), (function() { return \"The f passed in variableGrads(f) must be a function\" })), C(null == e || Array.isArray(e) && e.every((function(t) { return t instanceof St })), (function() { return \"The varList passed in variableGrads(f, varList) must be an array of variables\" }));\r\n        var n = null != e;\r\n        if (!n)\r\n            for (var r in e = [], Lt.registeredVariables) e.push(Lt.registeredVariables[r]);\r\n        var o = n ? e.filter((function(t) { return !t.trainable })) : null,\r\n            a = e.length;\r\n        C((e = e.filter((function(t) { return t.trainable }))).length > 0, (function() { return \"variableGrads() expects at least one of the input variables to be trainable, but none of the \" + a + \" variables is trainable.\" }));\r\n        var i = Lt.gradients(t, e, null, !0),\r\n            s = i.value,\r\n            u = i.grads;\r\n        C(u.some((function(t) { return null != t })), (function() { return \"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().\" })), C(0 === s.rank, (function() { return \"The f passed in variableGrads(f) must return a scalar, but it returned a rank-\" + s.rank + \" tensor\" }));\r\n        var c = {};\r\n        return e.forEach((function(t, e) { null != u[e] && (c[t.name] = u[e]); })), null != o && o.forEach((function(t) { return c[t.name] = null })), { value: s, grads: c }\r\n    }\r\n\r\n    function vo(t) { return Lt.customGrad(t) }\r\n\r\n    function mo(t) { if (t.filter((function(t) { return null == t })).length > 0) throw new Error(\"Cannot compute gradient of y=f(x) with respect to x. Make sure that\\n    the f you passed encloses all operations that lead from x to y.\") }\r\n    var go = An({\r\n            softmax_: function(t, e) {\r\n                void 0 === e && (e = -1);\r\n                var n = mn(t, \"logits\", \"softmax\", \"float32\");\r\n                if (-1 === e && (e = n.rank - 1), e !== n.rank - 1) throw Error(\"Softmax along a non-last dimension is not yet supported. Logits was rank \" + n.rank + \" and dim was \" + e);\r\n                return Lt.runKernelFunc((function(t, r) { var o = t.softmax(n, e); return r([o]), o }), { logits: n }, (function(t, n) {\r\n                    var r = n[0],\r\n                        o = t.mul(r);\r\n                    return { logits: function() { return o.sub(o.sum([e], !0).mul(r)) } }\r\n                }), \"Softmax\", { dim: e }, [], [!0])\r\n            }\r\n        }),\r\n        yo = An({\r\n            logSoftmax_: function(t, e) {\r\n                void 0 === e && (e = -1);\r\n                var n = mn(t, \"logits\", \"logSoftmax\");\r\n                if (-1 === e && (e = n.rank - 1), e !== n.rank - 1) throw Error(\"Log Softmax along a non-last dimension is not yet supported. Logits was rank \" + n.rank + \" and axis was \" + e);\r\n                return vo((function(t, n) {\r\n                    var r = t.max(e, !0),\r\n                        o = t.sub(r),\r\n                        a = o.toFloat().sub(o.exp().sum(e, !0).log());\r\n                    n([a]);\r\n                    return { value: a, gradFunc: function(t, n) { var r = n[0].exp(); return t.sub(t.sum(e, !0).mul(r)) } }\r\n                }))(n)\r\n            }\r\n        }),\r\n        xo = function() {\r\n            function t(t, e) { this.backend = t, this.dataMover = e, this.data = new WeakMap, this.dataIdsCount = 0; }\r\n            return t.prototype.get = function(t) { return this.data.has(t) || this.dataMover.moveData(this.backend, t), this.data.get(t) }, t.prototype.set = function(t, e) { this.dataIdsCount++, this.data.set(t, e); }, t.prototype.has = function(t) { return this.data.has(t) }, t.prototype.delete = function(t) { return this.dataIdsCount--, this.data.delete(t) }, t.prototype.numDataIds = function() { return this.dataIdsCount }, t\r\n        }(),\r\n        bo = function() {\r\n            function t() {}\r\n            return t.prototype.time = function(t) { return wo(\"time\") }, t.prototype.read = function(t) { return wo(\"read\") }, t.prototype.readSync = function(t) { return wo(\"readSync\") }, t.prototype.numDataIds = function() { return wo(\"numDataIds\") }, t.prototype.disposeData = function(t) { return wo(\"disposeData\") }, t.prototype.write = function(t, e, n) { return wo(\"write\") }, t.prototype.move = function(t, e, n, r) { return wo(\"move\") }, t.prototype.memory = function() { return wo(\"memory\") }, t.prototype.floatPrecision = function() { return wo(\"floatPrecision\") }, t.prototype.epsilon = function() { return 32 === this.floatPrecision() ? 1e-7 : 1e-4 }, t.prototype.batchMatMul = function(t, e, n, r) { return wo(\"batchMatMul\") }, t.prototype.fusedBatchMatMul = function(t) { t.a, t.b, t.transposeA, t.transposeB, t.bias, t.activation, t.preluActivationWeights; return wo(\"fusedBatchMatMul\") }, t.prototype.slice = function(t, e, n) { return wo(\"slice\") }, t.prototype.stridedSlice = function(t, e, n, r) { return wo(\"stridedSlice\") }, t.prototype.unstack = function(t, e) { return wo(\"unstack\") }, t.prototype.reverse = function(t, e) { return wo(\"reverse\") }, t.prototype.concat = function(t, e) { return wo(\"concat\") }, t.prototype.neg = function(t) { return wo(\"neg\") }, t.prototype.add = function(t, e) { return wo(\"add\") }, t.prototype.addN = function(t) { return wo(\"addN\") }, t.prototype.subtract = function(t, e) { return wo(\"subtract\") }, t.prototype.multiply = function(t, e) { return wo(\"multiply\") }, t.prototype.realDivide = function(t, e) { return wo(\"realDivide\") }, t.prototype.floorDiv = function(t, e) { return wo(\"floorDiv\") }, t.prototype.sum = function(t, e) { return wo(\"sum\") }, t.prototype.prod = function(t, e) { return wo(\"prod\") }, t.prototype.unsortedSegmentSum = function(t, e, n) { return wo(\"unsortedSegmentSum\") }, t.prototype.argMin = function(t, e) { return wo(\"argMin\") }, t.prototype.argMax = function(t, e) { return wo(\"argMax\") }, t.prototype.equal = function(t, e) { return wo(\"equal\") }, t.prototype.notEqual = function(t, e) { return wo(\"notEqual\") }, t.prototype.less = function(t, e) { return wo(\"less\") }, t.prototype.lessEqual = function(t, e) { return wo(\"lessEqual\") }, t.prototype.greater = function(t, e) { return wo(\"greater\") }, t.prototype.greaterEqual = function(t, e) { return wo(\"greaterEqual\") }, t.prototype.logicalNot = function(t) { return wo(\"logicalNot\") }, t.prototype.logicalAnd = function(t, e) { return wo(\"logicalAnd\") }, t.prototype.logicalOr = function(t, e) { return wo(\"logicalOr\") }, t.prototype.where = function(t) { return wo(\"where\") }, t.prototype.select = function(t, e, n) { return wo(\"select\") }, t.prototype.topk = function(t, e, n) { return wo(\"topk\") }, t.prototype.min = function(t, e) { return wo(\"min\") }, t.prototype.minimum = function(t, e) { return wo(\"minimum\") }, t.prototype.mod = function(t, e) { return wo(\"mod\") }, t.prototype.max = function(t, e) { return wo(\"max\") }, t.prototype.maximum = function(t, e) { return wo(\"maximum\") }, t.prototype.all = function(t, e) { return wo(\"all\") }, t.prototype.any = function(t, e) { return wo(\"any\") }, t.prototype.squaredDifference = function(t, e) { return wo(\"squaredDifference\") }, t.prototype.ceil = function(t) { return wo(\"ceil\") }, t.prototype.floor = function(t) { return wo(\"floor\") }, t.prototype.round = function(t) { return wo(\"round\") }, t.prototype.sign = function(t) { return wo(\"sign\") }, t.prototype.isNaN = function(t) { return wo(\"isNaN\") }, t.prototype.isInf = function(t) { return wo(\"isInf\") }, t.prototype.isFinite = function(t) { return wo(\"isFinite\") }, t.prototype.pow = function(t, e) { return wo(\"pow\") }, t.prototype.exp = function(t) { return wo(\"exp\") }, t.prototype.expm1 = function(t) { return wo(\"expm1\") }, t.prototype.softmax = function(t, e) { return wo(\"softmax\") }, t.prototype.log = function(t) { return wo(\"log\") }, t.prototype.log1p = function(t) { return wo(\"log1p\") }, t.prototype.sqrt = function(t) { return wo(\"sqrt\") }, t.prototype.rsqrt = function(t) { return wo(\"rsqrt\") }, t.prototype.square = function(t) { return wo(\"square\") }, t.prototype.reciprocal = function(t) { return wo(\"reciprocal\") }, t.prototype.relu = function(t) { return wo(\"relu\") }, t.prototype.relu6 = function(t) { return wo(\"relu6\") }, t.prototype.prelu = function(t, e) { return wo(\"prelu\") }, t.prototype.elu = function(t) { return wo(\"elu\") }, t.prototype.eluDer = function(t, e) { return wo(\"eluDer\") }, t.prototype.selu = function(t) { return wo(\"selu\") }, t.prototype.int = function(t) { return wo(\"int\") }, t.prototype.clip = function(t, e, n) { return wo(\"clip\") }, t.prototype.abs = function(t) { return wo(\"abs\") }, t.prototype.complexAbs = function(t) { return wo(\"complexAbs\") }, t.prototype.sigmoid = function(t) { return wo(\"sigmoid\") }, t.prototype.softplus = function(t) { return wo(\"softplus\") }, t.prototype.sin = function(t) { return wo(\"sin\") }, t.prototype.cos = function(t) { return wo(\"cos\") }, t.prototype.tan = function(t) { return wo(\"tan\") }, t.prototype.asin = function(t) { return wo(\"asin\") }, t.prototype.acos = function(t) { return wo(\"acos\") }, t.prototype.atan = function(t) { return wo(\"atan\") }, t.prototype.atan2 = function(t, e) { return wo(\"atan2\") }, t.prototype.sinh = function(t) { return wo(\"sinh\") }, t.prototype.cosh = function(t) { return wo(\"cosh\") }, t.prototype.tanh = function(t) { return wo(\"tanh\") }, t.prototype.asinh = function(t) { return wo(\"asinh\") }, t.prototype.acosh = function(t) { return wo(\"acosh\") }, t.prototype.atanh = function(t) { return wo(\"atanh\") }, t.prototype.erf = function(t) { return wo(\"erf\") }, t.prototype.step = function(t, e) { return wo(\"step\") }, t.prototype.fusedConv2d = function(t) { t.input, t.filter, t.convInfo, t.bias, t.activation, t.preluActivationWeights; return wo(\"fusedConv2d\") }, t.prototype.conv2d = function(t, e, n) { return wo(\"conv2d\") }, t.prototype.conv2dDerInput = function(t, e, n) { return wo(\"conv2dDerInput\") }, t.prototype.conv2dDerFilter = function(t, e, n) { return wo(\"conv2dDerFilter\") }, t.prototype.fusedDepthwiseConv2D = function(t) { t.input, t.filter, t.convInfo, t.bias, t.activation, t.preluActivationWeights; return wo(\"fusedDepthwiseConv2D\") }, t.prototype.depthwiseConv2D = function(t, e, n) { return wo(\"depthwiseConv2D\") }, t.prototype.depthwiseConv2DDerInput = function(t, e, n) { return wo(\"depthwiseConv2DDerInput\") }, t.prototype.depthwiseConv2DDerFilter = function(t, e, n) { return wo(\"depthwiseConv2DDerFilter\") }, t.prototype.conv3d = function(t, e, n) { return wo(\"conv3d\") }, t.prototype.conv3dDerInput = function(t, e, n) { return wo(\"conv3dDerInput\") }, t.prototype.conv3dDerFilter = function(t, e, n) { return wo(\"conv3dDerFilter\") }, t.prototype.maxPool = function(t, e) { return wo(\"maxPool\") }, t.prototype.maxPoolBackprop = function(t, e, n, r) { return wo(\"maxPoolBackprop\") }, t.prototype.avgPool = function(t, e) { return wo(\"avgPool\") }, t.prototype.avgPoolBackprop = function(t, e, n) { return wo(\"avgPoolBackprop\") }, t.prototype.avgPool3d = function(t, e) { return wo(\"avgPool3d\") }, t.prototype.avgPool3dBackprop = function(t, e, n) { return wo(\"avgPool3dBackprop\") }, t.prototype.maxPool3d = function(t, e) { return wo(\"maxPool3d\") }, t.prototype.maxPool3dBackprop = function(t, e, n, r) { return wo(\"maxPool3dBackprop\") }, t.prototype.reshape = function(t, e) { return wo(\"reshape\") }, t.prototype.cast = function(t, e) { return wo(\"cast\") }, t.prototype.tile = function(t, e) { return wo(\"tile\") }, t.prototype.pad = function(t, e, n) { return wo(\"pad\") }, t.prototype.transpose = function(t, e) { return wo(\"transpose\") }, t.prototype.gather = function(t, e, n) { return wo(\"gather\") }, t.prototype.gatherND = function(t, e) { return wo(\"gatherND\") }, t.prototype.scatterND = function(t, e, n) { return wo(\"scatterND\") }, t.prototype.batchToSpaceND = function(t, e, n) { return wo(\"batchToSpaceND\") }, t.prototype.spaceToBatchND = function(t, e, n) { return wo(\"spaceToBatchND\") }, t.prototype.resizeBilinear = function(t, e, n, r) { return wo(\"resizeBilinear\") }, t.prototype.resizeBilinearBackprop = function(t, e, n) { return wo(\"resizeBilinearBackprop\") }, t.prototype.resizeNearestNeighbor = function(t, e, n, r) { return wo(\"resizeNearestNeighbor\") }, t.prototype.resizeNearestNeighborBackprop = function(t, e, n) { return wo(\"resizeNearestNeighborBackprop\") }, t.prototype.batchNormalization = function(t, e, n, r, o, a) { return wo(\"batchNormalization\") }, t.prototype.localResponseNormalization4D = function(t, e, n, r, o) { return wo(\"localResponseNormalization4D\") }, t.prototype.LRNGrad = function(t, e, n, r, o, a, i) { return wo(\"LRNGrad\") }, t.prototype.multinomial = function(t, e, n, r) { return wo(\"multinomial\") }, t.prototype.oneHot = function(t, e, n, r) { return wo(\"oneHot\") }, t.prototype.cumsum = function(t, e, n, r) { return wo(\"cumsum\") }, t.prototype.nonMaxSuppression = function(t, e, n, r, o) { return wo(\"nonMaxSuppression\") }, t.prototype.fft = function(t) { return wo(\"fft\") }, t.prototype.ifft = function(t) { return wo(\"ifft\") }, t.prototype.complex = function(t, e) { return wo(\"complex\") }, t.prototype.real = function(t) { return wo(\"real\") }, t.prototype.imag = function(t) { return wo(\"imag\") }, t.prototype.cropAndResize = function(t, e, n, r, o, a) { return wo(\"cropAndResize\") }, t.prototype.depthToSpace = function(t, e, n) { return wo(\"depthToSpace\") }, t.prototype.split = function(t, e, n) { return wo(\"split\") }, t.prototype.sparseToDense = function(t, e, n, r) { return wo(\"sparseToDense\") }, t.prototype.diag = function(t) { return wo(\"diag\") }, t.prototype.fill = function(t, e, n) { return wo(\"fill\") }, t.prototype.onesLike = function(t) { return wo(\"onesLike\") }, t.prototype.zerosLike = function(t) { return wo(\"zerosLike\") }, t.prototype.linspace = function(t, e, n) { return wo(\"linspace\") }, t.prototype.dispose = function() { return wo(\"dispose\") }, t\r\n        }();\r\n\r\n    function wo(t) { throw new Error(\"'\" + t + \"' not yet implemented or not found in the registry. Did you forget to import the kernel?\") }\r\n\r\n    function Co(t, e) {\r\n        for (var n = t.length, r = [], o = 0; o < n; o++) {\r\n            var a = n - 1 - o,\r\n                i = t[a] || 1;\r\n            (e[e.length - 1 - o] || 1) > 1 && 1 === i && r.unshift(a);\r\n        }\r\n        return r\r\n    }\r\n\r\n    function Eo(t, e) {\r\n        for (var n = [], r = 0; r < e.length; r++) {\r\n            var o = t[t.length - r - 1],\r\n                a = e.length - r - 1,\r\n                i = e[a];\r\n            (null == o || 1 === o && i > 1) && n.unshift(a);\r\n        }\r\n        return n\r\n    }\r\n\r\n    function Ro(t, e) {\r\n        for (var n = [], r = Math.max(t.length, e.length), o = 0; o < r; o++) {\r\n            var a = t[t.length - o - 1];\r\n            null == a && (a = 1);\r\n            var i = e[e.length - o - 1];\r\n            if (null == i && (i = 1), 1 === a) n.unshift(i);\r\n            else if (1 === i) n.unshift(a);\r\n            else {\r\n                if (a !== i) throw Error(\"Operands could not be broadcast together with shapes \" + t + \" and \" + e + \".\");\r\n                n.unshift(a);\r\n            }\r\n        }\r\n        return n\r\n    }\r\n\r\n    function Io(t, e, n, r, o, a, i) {\r\n        void 0 === i && (i = \"channelsLast\");\r\n        var s, u = To(e),\r\n            c = u[0],\r\n            l = u[1];\r\n        if (\"channelsLast\" === i) s = [c, l, t[3], t[3]];\r\n        else {\r\n            if (\"channelsFirst\" !== i) throw new Error(\"Unknown dataFormat \" + i);\r\n            s = [c, l, t[1], t[1]];\r\n        }\r\n        return So(t, s, n, r, o, a, !1, i)\r\n    }\r\n\r\n    function ko(t, e, n, r, o, a, i) {\r\n        void 0 === i && (i = \"NDHWC\");\r\n        var s, u, c = No(e),\r\n            l = c[0],\r\n            h = c[1],\r\n            f = c[2];\r\n        if (\"NDHWC\" === i) u = \"channelsLast\", s = [l, h, f, t[4], t[4]];\r\n        else {\r\n            if (\"NCDHW\" !== i) throw new Error(\"Unknown dataFormat \" + i);\r\n            u = \"channelsFirst\", s = [l, h, f, t[1], t[1]];\r\n        }\r\n        return Ao(t, s, n, r, o, !1, u, a)\r\n    }\r\n\r\n    function So(t, e, n, r, o, a, i, s) {\r\n        void 0 === i && (i = !1), void 0 === s && (s = \"channelsLast\");\r\n        var u = [-1, -1, -1, -1],\r\n            c = u[0],\r\n            l = u[1],\r\n            h = u[2],\r\n            f = u[3];\r\n        if (\"channelsLast\" === s) c = t[0], l = t[1], h = t[2], f = t[3];\r\n        else {\r\n            if (\"channelsFirst\" !== s) throw new Error(\"Unknown dataFormat \" + s);\r\n            c = t[0], f = t[1], l = t[2], h = t[3];\r\n        }\r\n        var d, p = e[0],\r\n            v = e[1],\r\n            m = e[3],\r\n            g = To(n),\r\n            y = g[0],\r\n            x = g[1],\r\n            b = To(r),\r\n            w = b[0],\r\n            E = b[1],\r\n            R = Fo(p, w),\r\n            I = Fo(v, E),\r\n            k = function(t, e, n, r, o, a, i, s) {\r\n                var u, c, l;\r\n                if (\"number\" == typeof t) {\r\n                    u = { top: t, bottom: t, left: t, right: t, type: 0 === t ? \"VALID\" : \"NUMBER\" };\r\n                    var h = function(t, e, n, r, o) {\r\n                        null == r && (r = Do(t, e, n));\r\n                        var a = t[0],\r\n                            i = t[1],\r\n                            s = _o((a - e + 2 * r) / n + 1, o);\r\n                        C(A(s), (function() { return \"The output # of rows (\" + s + \") must be an integer. Change the stride and/or zero pad parameters\" }));\r\n                        var u = _o((i - e + 2 * r) / n + 1, o);\r\n                        return C(A(u), (function() { return \"The output # of columns (\" + u + \") must be an integer. Change the stride and/or zero pad parameters\" })), [s, u]\r\n                    }([e, n], a, r, t, s);\r\n                    c = h[0], l = h[1];\r\n                } else if (\"same\" === t) {\r\n                    c = Math.ceil(e / r), l = Math.ceil(n / o);\r\n                    var f = Math.max(0, (c - 1) * r + a - e),\r\n                        d = Math.max(0, (l - 1) * o + i - n),\r\n                        p = Math.floor(f / 2),\r\n                        v = f - p,\r\n                        m = Math.floor(d / 2);\r\n                    u = { top: p, bottom: v, left: m, right: d - m, type: \"SAME\" };\r\n                } else {\r\n                    if (\"valid\" !== t) throw Error(\"Unknown padding parameter: \" + t);\r\n                    u = { top: 0, bottom: 0, left: 0, right: 0, type: \"VALID\" }, c = Math.ceil((e - a + 1) / r), l = Math.ceil((n - i + 1) / o);\r\n                }\r\n                return { padInfo: u, outHeight: c, outWidth: l }\r\n            }(o, l, h, y, x, R, I, a),\r\n            S = k.padInfo,\r\n            D = k.outHeight,\r\n            T = k.outWidth,\r\n            N = i ? m * f : m;\r\n        return \"channelsFirst\" === s ? d = [c, N, D, T] : \"channelsLast\" === s && (d = [c, D, T, N]), { batchSize: c, dataFormat: s, inHeight: l, inWidth: h, inChannels: f, outHeight: D, outWidth: T, outChannels: N, padInfo: S, strideHeight: y, strideWidth: x, filterHeight: p, filterWidth: v, effectiveFilterHeight: R, effectiveFilterWidth: I, dilationHeight: w, dilationWidth: E, inShape: t, outShape: d, filterShape: e }\r\n    }\r\n\r\n    function Ao(t, e, n, r, o, a, i, s) {\r\n        void 0 === a && (a = !1), void 0 === i && (i = \"channelsLast\");\r\n        var u = [-1, -1, -1, -1, -1],\r\n            c = u[0],\r\n            l = u[1],\r\n            h = u[2],\r\n            f = u[3],\r\n            d = u[4];\r\n        if (\"channelsLast\" === i) c = t[0], l = t[1], h = t[2], f = t[3], d = t[4];\r\n        else {\r\n            if (\"channelsFirst\" !== i) throw new Error(\"Unknown dataFormat \" + i);\r\n            c = t[0], d = t[1], l = t[2], h = t[3], f = t[4];\r\n        }\r\n        var p, v = e[0],\r\n            m = e[1],\r\n            g = e[2],\r\n            y = e[4],\r\n            x = No(n),\r\n            b = x[0],\r\n            w = x[1],\r\n            E = x[2],\r\n            R = No(r),\r\n            I = R[0],\r\n            k = R[1],\r\n            S = R[2],\r\n            D = Fo(v, I),\r\n            T = Fo(m, k),\r\n            N = Fo(g, S),\r\n            F = function(t, e, n, r, o, a, i, s, u, c, l) {\r\n                var h, f, d, p;\r\n                if (\"number\" == typeof t) {\r\n                    h = { top: t, bottom: t, left: t, right: t, front: t, back: t, type: 0 === t ? \"VALID\" : \"NUMBER\" };\r\n                    var v = function(t, e, n, r, o, a) {\r\n                        null == o && (o = Do(t, e, r));\r\n                        var i = t[0],\r\n                            s = t[1],\r\n                            u = t[2],\r\n                            c = _o((i - e + 2 * o) / r + 1, a);\r\n                        C(A(c), (function() { return \"The output # of depths (\" + c + \") must be an integer. Change the stride and/or zero pad parameters\" }));\r\n                        var l = _o((s - e + 2 * o) / r + 1, a);\r\n                        C(A(l), (function() { return \"The output # of rows (\" + l + \") must be an integer. Change the stride and/or zero pad parameters\" }));\r\n                        var h = _o((u - e + 2 * o) / r + 1, a);\r\n                        return C(A(h), (function() { return \"The output # of columns (\" + h + \") must be an integer. Change the stride and/or zero pad parameters\" })), [c, l, h, n]\r\n                    }([e, n, r, 1], s, 1, o, t, l);\r\n                    f = v[0], d = v[1], p = v[2];\r\n                } else if (\"same\" === t) {\r\n                    f = Math.ceil(e / o), d = Math.ceil(n / a), p = Math.ceil(r / i);\r\n                    var m = (f - 1) * o + s - e,\r\n                        g = (d - 1) * a + u - n,\r\n                        y = (p - 1) * i + c - r,\r\n                        x = Math.floor(m / 2),\r\n                        b = m - x,\r\n                        w = Math.floor(g / 2),\r\n                        E = g - w,\r\n                        R = Math.floor(y / 2);\r\n                    h = { top: w, bottom: E, left: R, right: y - R, front: x, back: b, type: \"SAME\" };\r\n                } else {\r\n                    if (\"valid\" !== t) throw Error(\"Unknown padding parameter: \" + t);\r\n                    h = { top: 0, bottom: 0, left: 0, right: 0, front: 0, back: 0, type: \"VALID\" }, f = Math.ceil((e - s + 1) / o), d = Math.ceil((n - u + 1) / a), p = Math.ceil((r - c + 1) / i);\r\n                }\r\n                return { padInfo: h, outDepth: f, outHeight: d, outWidth: p }\r\n            }(o, l, h, f, b, w, E, D, T, N, s),\r\n            _ = F.padInfo,\r\n            O = F.outDepth,\r\n            M = F.outHeight,\r\n            B = F.outWidth,\r\n            P = a ? y * d : y;\r\n        return \"channelsFirst\" === i ? p = [c, P, O, M, B] : \"channelsLast\" === i && (p = [c, O, M, B, P]), { batchSize: c, dataFormat: i, inDepth: l, inHeight: h, inWidth: f, inChannels: d, outDepth: O, outHeight: M, outWidth: B, outChannels: P, padInfo: _, strideDepth: b, strideHeight: w, strideWidth: E, filterDepth: v, filterHeight: m, filterWidth: g, effectiveFilterDepth: D, effectiveFilterHeight: T, effectiveFilterWidth: N, dilationDepth: I, dilationHeight: k, dilationWidth: S, inShape: t, outShape: p, filterShape: e }\r\n    }\r\n\r\n    function Do(t, e, n, r) { void 0 === r && (r = 1); var o = Fo(e, r); return Math.floor((t[0] * (n - 1) - n + o) / 2) }\r\n\r\n    function To(t) { return \"number\" == typeof t ? [t, t, t] : 2 === t.length ? [t[0], t[1], 1] : t }\r\n\r\n    function No(t) { return \"number\" == typeof t ? [t, t, t] : t }\r\n\r\n    function Fo(t, e) { return e <= 1 ? t : t + (t - 1) * (e - 1) }\r\n\r\n    function _o(t, e) {\r\n        if (!e) return t;\r\n        switch (e) {\r\n            case \"round\":\r\n                return Math.round(t);\r\n            case \"ceil\":\r\n                return Math.ceil(t);\r\n            case \"floor\":\r\n                return Math.floor(t);\r\n            default:\r\n                throw new Error(\"Unknown roundingMode \" + e)\r\n        }\r\n    }\r\n\r\n    function Oo(t) {\r\n        var e = To(t),\r\n            n = e[0],\r\n            r = e[1],\r\n            o = e[2];\r\n        return 1 === n && 1 === r && 1 === o\r\n    }\r\n\r\n    function Mo(t, e) { return Oo(t) || Oo(e) }\r\n\r\n    function Bo(t) { if (\"NHWC\" === t) return \"channelsLast\"; if (\"NCHW\" === t) return \"channelsFirst\"; throw new Error(\"Unknown dataFormat \" + t) }\r\n\r\n    function Po(t, e, n) {\r\n        if (\"complex64\" === e) {\r\n            if (\"complex64\" === t.dtype) return t.clone();\r\n            var r = Gn(t.shape),\r\n                o = t.toFloat(),\r\n                a = n.complex(o, r);\r\n            return r.dispose(), o.dispose(), a\r\n        }\r\n        if (!U(t.dtype, e)) return Lt.makeTensorFromDataId(t.dataId, t.shape, e);\r\n        if (\"complex64\" === t.dtype) {\r\n            var i = n.real(t);\r\n            a = i.cast(e);\r\n            return i.dispose(), a\r\n        }\r\n        if (\"int32\" === e) return n.int(t);\r\n        if (\"bool\" === e) {\r\n            var s = On(0, t.dtype);\r\n            a = n.notEqual(t, s);\r\n            return s.dispose(), a\r\n        }\r\n        throw new Error(\"Error in Cast: failed to cast \" + t.dtype + \" to \" + e)\r\n    }\r\n\r\n    function Lo(t, e) { return Lt.makeTensorFromDataId(t.dataId, e, t.dtype) }\r\n\r\n    function Wo(t, e, n) {\r\n        var r = (e - t) / (n - 1),\r\n            o = tt(n, \"float32\");\r\n        o[0] = t;\r\n        for (var a = 1; a < o.length; a++) o[a] = o[a - 1] + r;\r\n        return Mn(o, \"float32\")\r\n    }\r\n    var Uo = Object.freeze({ castTensor: Po, reshapeTensor: Lo, linspaceImpl: Wo, upcastType: Dt, axesAreInnerMostDims: yn, combineLocations: xn, computeOutAndReduceShapes: bn, expandShapeToKeepDim: wn, assertAxesAreInnerMostDims: Cn, getAxesPermutation: En, getUndoAxesPermutation: Rn, getInnerMostAxes: In, getBroadcastDims: Co, getReductionAxes: Eo, assertAndGetBroadcastShape: Ro, assertParamsConsistent: kn, computeOutShape: Sn, computePool2DInfo: Io, computePool3DInfo: ko, computeConv2DInfo: So, computeConv3DInfo: Ao, computeDefaultPad: Do, tupleValuesAreOne: Oo, eitherStridesOrDilationsAreOne: Mo, convertConv2DDataFormat: Bo, PARALLELIZE_THRESHOLD: Yr, computeOptimalWindowSize: $r });\r\n\r\n    function Vo(t, e) { if (t.length !== e.length) throw new Error(\"Cannot merge real and imag arrays of different lengths. real:\" + t.length + \", imag: \" + e.length + \".\"); for (var n = new Float32Array(2 * t.length), r = 0; r < n.length; r += 2) n[r] = t[r / 2], n[r + 1] = e[r / 2]; return n }\r\n\r\n    function zo(t, e) { return { real: t[2 * e], imag: t[2 * e + 1] } }\r\n\r\n    function Go(t, e, n, r) { t[2 * r] = e, t[2 * r + 1] = n; }\r\n\r\n    function Ho(t, e, n) { var r = (n ? 2 : -2) * Math.PI * (t / e); return { real: Math.cos(r), imag: Math.sin(r) } }\r\n\r\n    function qo(t, e, n) {\r\n        var r = function(t, e, n) {\r\n                return function(t, e, n) {\r\n                    var r = 0,\r\n                        o = t.length,\r\n                        a = 0,\r\n                        i = !1;\r\n                    for (; r < o;) {\r\n                        var s = n(e, t[a = r + (o - r >>> 1)]);\r\n                        s > 0 ? r = a + 1 : (o = a, i = !s);\r\n                    }\r\n                    return i ? r : -r - 1\r\n                }(t, e, n || Ko)\r\n            }(t, e, n),\r\n            o = r < 0 ? -(r + 1) : r;\r\n        t.splice(o, 0, e);\r\n    }\r\n\r\n    function Ko(t, e) { return t > e ? 1 : t < e ? -1 : 0 }\r\n\r\n    function jo(t, e, n, r, o) { return Yo(t, e, n, r, o, 0).selectedIndices }\r\n\r\n    function Xo(t, e, n, r, o, a) { var i = Yo(t, e, n, r, o, a); return i.numValidOutputs.dispose(), { selectedIndices: i.selectedIndices, selectedScores: i.selectedScores } }\r\n\r\n    function Yo(t, e, n, r, o, a, i, s) {\r\n        void 0 === s && (s = !1);\r\n        for (var u = Array.from(e).map((function(t, e) { return { score: t, boxIndex: e, suppressBeginIndex: 0 } })).filter((function(t) { return t.score > o })).sort(Jo), c = a > 0 ? -.5 / a : 0, l = [], h = []; l.length < n && u.length > 0;) {\r\n            var f = u.pop(),\r\n                d = f.score,\r\n                p = f.boxIndex,\r\n                v = f.suppressBeginIndex;\r\n            if (d < o) break;\r\n            for (var m = !1, g = l.length - 1; g >= v; --g) { var y = $o(t, p, l[g]); if (y >= r) { m = !0; break } if (f.score = f.score * Qo(r, c, y), f.score <= o) break }\r\n            f.suppressBeginIndex = l.length, m || (f.score === d ? (l.push(p), h.push(f.score)) : f.score > o && qo(u, f, Jo));\r\n        }\r\n        var x = l.length;\r\n        return s && (l.fill(0, x), h.fill(0, x)), { selectedIndices: Mn(l, \"int32\"), selectedScores: Mn(h, \"float32\"), numValidOutputs: On(x, \"int32\") }\r\n    }\r\n\r\n    function $o(t, e, n) {\r\n        var r = t.subarray(4 * e, 4 * e + 4),\r\n            o = t.subarray(4 * n, 4 * n + 4),\r\n            a = Math.min(r[0], r[2]),\r\n            i = Math.min(r[1], r[3]),\r\n            s = Math.max(r[0], r[2]),\r\n            u = Math.max(r[1], r[3]),\r\n            c = Math.min(o[0], o[2]),\r\n            l = Math.min(o[1], o[3]),\r\n            h = Math.max(o[0], o[2]),\r\n            f = Math.max(o[1], o[3]),\r\n            d = (s - a) * (u - i),\r\n            p = (h - c) * (f - l);\r\n        if (d <= 0 || p <= 0) return 0;\r\n        var v = Math.max(a, c),\r\n            m = Math.max(i, l),\r\n            g = Math.min(s, h),\r\n            y = Math.min(u, f),\r\n            x = Math.max(g - v, 0) * Math.max(y - m, 0);\r\n        return x / (d + p - x)\r\n    }\r\n\r\n    function Qo(t, e, n) { var r = Math.exp(e * n * n); return n <= t ? r : 0 }\r\n\r\n    function Jo(t, e) { return t.score - e.score || t.score === e.score && e.boxIndex - t.boxIndex }\r\n\r\n    function Zo(t, e, n) {\r\n        var r = new Array(t.rank).fill(0),\r\n            o = t.shape.slice();\r\n        return e.map((function(e) { o[n] = e; var a = t.slice(r, o); return r[n] += e, a }))\r\n    }\r\n\r\n    function ta(t, e) {\r\n        for (var n = new Array(t.rank), r = 0; r < n.length; r++) n[r] = t.shape[r] * e[r];\r\n        var o = dr(n, t.dtype);\r\n        for (r = 0; r < o.values.length; ++r) {\r\n            for (var a = o.indexToLoc(r), i = new Array(t.rank), s = 0; s < i.length; s++) i[s] = a[s] % t.shape[s];\r\n            var u = t.locToIndex(i);\r\n            o.values[r] = t.values[u];\r\n        }\r\n        return o.toTensor()\r\n    }\r\n\r\n    function ea(t, e, n, r, o) {\r\n        for (var a = e[e.length - 1], i = [t.length / a, a], s = i[0], u = i[1], c = B(n, s * r), l = B(\"int32\", s * r), h = 0; h < s; h++) {\r\n            for (var f = h * u, d = t.subarray(f, f + u), p = [], v = 0; v < d.length; v++) p.push({ value: d[v], index: v });\r\n            p.sort((function(t, e) { return e.value - t.value }));\r\n            var m = h * r,\r\n                g = c.subarray(m, m + r),\r\n                y = l.subarray(m, m + r);\r\n            for (v = 0; v < r; v++) g[v] = p[v].value, y[v] = p[v].index;\r\n        }\r\n        var x = e.slice();\r\n        return x[x.length - 1] = r, [Fn(c, x, n), Fn(l, x, \"int32\")]\r\n    }\r\n\r\n    function na(t, e) {\r\n        for (var n = [], r = 0; r < e.length; r++) e[r] && n.push(r);\r\n        var o = dr(t, \"int32\"),\r\n            a = dr([n.length, t.length], \"int32\");\r\n        for (r = 0; r < n.length; r++) {\r\n            var i = o.indexToLoc(n[r]),\r\n                s = r * t.length;\r\n            a.values.set(i, s);\r\n        }\r\n        return a.toTensor()\r\n    }\r\n    var ra = function(t, e) {\r\n            this.outputShape = [], this.outputShape = t, this.variableNames = e.map((function(t, e) { return \"T\" + e }));\r\n            var n = [];\r\n            this.variableNames.forEach((function(t) { n.push(\"float v\" + t + \" = get\" + t + \"AtOutCoords();\"); }));\r\n            var r = this.variableNames.map((function(t) { return \"v\" + t })).join(\" + \");\r\n            this.userCode = \"\\n      void main() {\\n        \" + n.join(\"\\n        \") + \"\\n\\n        float result = \" + r + \";\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        oa = function(t, e) {\r\n            this.outputShape = [], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t, this.variableNames = e.map((function(t, e) { return \"T\" + e }));\r\n            var n = [];\r\n            this.variableNames.forEach((function(t) { n.push(\"vec4 v\" + t + \" = get\" + t + \"AtOutCoords();\"); }));\r\n            var r = this.variableNames.map((function(t) { return \"v\" + t })).join(\" + \");\r\n            this.userCode = \"\\n      void main() {\\n        \" + n.join(\"\\n        \") + \"\\n\\n        vec4 result = \" + r + \";\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        aa = function(t, e, n) {\r\n            this.variableNames = [\"A\"];\r\n            var r = t.windowSize,\r\n                o = t.batchSize,\r\n                a = t.inSize,\r\n                i = Math.ceil(a / r);\r\n            n || this.variableNames.push(\"bestIndicesA\"), this.outputShape = [o, i];\r\n            var s = \"max\" === e ? \">\" : \"<\",\r\n                u = n ? \"inOffset + i;\" : \"round(getBestIndicesA(batch, inOffset + i));\";\r\n            this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \" + r + \";\\n\\n        int bestIndex = inOffset;\\n        float bestValue = getA(batch, bestIndex);\\n\\n        for (int i = 0; i < \" + r + \"; i++) {\\n          int inIdx = \" + u + \";\\n          float candidate = getA(batch, inIdx);\\n          if (candidate \" + s + \" bestValue) {\\n            bestValue = candidate;\\n            bestIndex = inIdx;\\n          }\\n        }\\n        setOutput(float(bestIndex));\\n      }\\n    \";\r\n        };\r\n\r\n    function ia(t, e) { return [\"x\", \"y\", \"z\", \"w\", \"u\", \"v\"].slice(0, e).map((function(e) { return t + \".\" + e })) }\r\n\r\n    function sa(t, e) { return 1 === e ? [t] : ia(t, e) }\r\n\r\n    function ua() { var t, e, n, r, o, a, s, u, c, l; return 2 === i().getNumber(\"WEBGL_VERSION\") ? (t = \"#version 300 es\", e = \"in\", n = \"out\", r = \"in\", o = \"texture\", a = \"outputColor\", s = \"out vec4 outputColor;\", u = \"\\n      bool isnan_custom(float val) {\\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\\n      }\\n\\n      bvec4 isnan_custom(vec4 val) {\\n        return bvec4(isnan_custom(val.x),\\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\\n      }\\n\\n      #define isnan(value) isnan_custom(value)\\n    \", c = \"\", l = \"\\n      #define round(value) newRound(value)\\n      int newRound(float value) {\\n        return int(floor(value + 0.5));\\n      }\\n\\n      ivec4 newRound(vec4 value) {\\n        return ivec4(floor(value + vec4(0.5)));\\n      }\\n    \") : (t = \"\", e = \"attribute\", n = \"varying\", r = \"varying\", o = \"texture2D\", a = \"gl_FragColor\", s = \"\", u = \"\\n      #define isnan(value) isnan_custom(value)\\n      bool isnan_custom(float val) {\\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\\n      }\\n      bvec4 isnan_custom(vec4 val) {\\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\\n      }\\n    \", c = \"\\n      uniform float INFINITY;\\n\\n      bool isinf(float val) {\\n        return abs(val) == INFINITY;\\n      }\\n      bvec4 isinf(vec4 val) {\\n        return equal(abs(val), vec4(INFINITY));\\n      }\\n    \", l = \"\\n      int round(float value) {\\n        return int(floor(value + 0.5));\\n      }\\n\\n      ivec4 round(vec4 value) {\\n        return ivec4(floor(value + vec4(0.5)));\\n      }\\n    \"), { version: t, attribute: e, varyingVs: n, varyingFs: r, texture2D: o, output: a, defineOutput: s, defineSpecialNaN: u, defineSpecialInf: c, defineRound: l } }\r\n\r\n    function ca(t, e, n) { void 0 === n && (n = \"index\"); var r = $(e); return r.map((function(e, o) { return \"int \" + t[o] + \" = \" + n + \" / \" + e + \"; \" + (o === r.length - 1 ? \"int \" + t[o + 1] + \" = \" + n + \" - \" + t[o] + \" * \" + e : \"index -= \" + t[o] + \" * \" + e) + \";\" })).join(\"\") }\r\n\r\n    function la(t) { var e = $(t).map((function(t) { return t.toString() })); return \"\\n  int getFlatIndex(ivec3 coords) {\\n    return coords.x * \" + e[0] + \" + coords.y * \" + e[1] + \" + coords.z;\\n  }\\n\" }\r\n    var ha = \"\\n  const float FLOAT_MAX = 1.70141184e38;\\n  const float FLOAT_MIN = 1.17549435e-38;\\n\\n  lowp vec4 encode_float(highp float v) {\\n    if (isnan(v)) {\\n      return vec4(255, 255, 255, 255);\\n    }\\n\\n    highp float av = abs(v);\\n\\n    if(av < FLOAT_MIN) {\\n      return vec4(0.0, 0.0, 0.0, 0.0);\\n    } else if(v > FLOAT_MAX) {\\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\\n    } else if(v < -FLOAT_MAX) {\\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\\n    }\\n\\n    highp vec4 c = vec4(0,0,0,0);\\n\\n    highp float e = floor(log2(av));\\n    highp float m = exp2(fract(log2(av))) - 1.0;\\n\\n    c[2] = floor(128.0 * m);\\n    m -= c[2] / 128.0;\\n    c[1] = floor(32768.0 * m);\\n    m -= c[1] / 32768.0;\\n    c[0] = floor(8388608.0 * m);\\n\\n    highp float ebias = e + 127.0;\\n    c[3] = floor(ebias / 2.0);\\n    ebias -= c[3] * 2.0;\\n    c[2] += floor(ebias) * 128.0;\\n\\n    c[3] += 128.0 * step(0.0, -v);\\n\\n    return c / 255.0;\\n  }\\n\";\r\n\r\n    function fa(t, e, n, r) {\r\n        var o = [];\r\n        t.forEach((function(t) {\r\n            var e = k(t.shapeInfo.logicalShape);\r\n            t.shapeInfo.isUniform ? o.push(\"uniform float \" + t.name + (e > 1 ? \"[\" + e + \"]\" : \"\") + \";\") : (o.push(\"uniform sampler2D \" + t.name + \";\"), o.push(\"uniform int offset\" + t.name + \";\"));\r\n        }));\r\n        var a, i, s = o.join(\"\\n\"),\r\n            u = t.map((function(t) {\r\n                return function(t, e, n) {\r\n                    void 0 === n && (n = !1);\r\n                    var r = \"\";\r\n                    r += n ? pa(t) : da(t);\r\n                    var o = t.shapeInfo.logicalShape,\r\n                        a = e.logicalShape;\r\n                    o.length <= a.length && (r += n ? function(t, e) {\r\n                        var n, r = t.name,\r\n                            o = r.charAt(0).toUpperCase() + r.slice(1),\r\n                            a = \"get\" + o + \"AtOutCoords\",\r\n                            i = t.shapeInfo.logicalShape.length,\r\n                            s = e.logicalShape.length,\r\n                            u = Co(t.shapeInfo.logicalShape, e.logicalShape),\r\n                            c = wa(s),\r\n                            l = s - i,\r\n                            h = [\"x\", \"y\", \"z\", \"w\", \"u\", \"v\"];\r\n                        n = 0 === i ? \"\" : s < 2 && u.length >= 1 ? \"coords = 0;\" : u.map((function(t) { return \"coords.\" + h[t + l] + \" = 0;\" })).join(\"\\n\");\r\n                        var f = \"\";\r\n                        f = s < 2 && i > 0 ? \"coords\" : t.shapeInfo.logicalShape.map((function(t, e) { return \"coords.\" + h[e + l] })).join(\", \");\r\n                        var d = \"return outputValue;\",\r\n                            p = 1 === k(t.shapeInfo.logicalShape),\r\n                            v = 1 === k(e.logicalShape);\r\n                        if (1 !== i || p || v) {\r\n                            if (p && !v) d = 1 === s ? \"\\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\\n      \" : \"\\n        return vec4(outputValue.x);\\n      \";\r\n                            else if (u.length) {\r\n                                var m = i - 2,\r\n                                    g = i - 1;\r\n                                u.indexOf(m) > -1 && u.indexOf(g) > -1 ? d = \"return vec4(outputValue.x);\" : u.indexOf(m) > -1 ? d = \"return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);\" : u.indexOf(g) > -1 && (d = \"return vec4(outputValue.xx, outputValue.zz);\");\r\n                            }\r\n                        } else d = \"\\n      return vec4(outputValue.xy, outputValue.xy);\\n    \";\r\n                        return \"\\n    vec4 \" + a + \"() {\\n      \" + c + \" coords = getOutputCoords();\\n      \" + n + \"\\n      vec4 outputValue = get\" + o + \"(\" + f + \");\\n      \" + d + \"\\n    }\\n  \"\r\n                    }(t, e) : function(t, e) {\r\n                        var n = t.name,\r\n                            r = n.charAt(0).toUpperCase() + n.slice(1),\r\n                            o = \"get\" + r + \"AtOutCoords\",\r\n                            a = e.texShape,\r\n                            i = t.shapeInfo.texShape,\r\n                            s = t.shapeInfo.logicalShape.length,\r\n                            u = e.logicalShape.length;\r\n                        if (!t.shapeInfo.isUniform && s === u && null == t.shapeInfo.flatOffset && S(i, a)) return \"\\n      float \" + o + \"() {\\n        return sampleTexture(\" + n + \", resultUV);\\n      }\\n    \";\r\n                        var c, l = wa(u),\r\n                            h = Co(t.shapeInfo.logicalShape, e.logicalShape),\r\n                            f = u - s,\r\n                            d = [\"x\", \"y\", \"z\", \"w\", \"u\", \"v\"];\r\n                        c = 0 === s ? \"\" : u < 2 && h.length >= 1 ? \"coords = 0;\" : h.map((function(t) { return \"coords.\" + d[t + f] + \" = 0;\" })).join(\"\\n\");\r\n                        var p = \"\";\r\n                        p = u < 2 && s > 0 ? \"coords\" : t.shapeInfo.logicalShape.map((function(t, e) { return \"coords.\" + d[e + f] })).join(\", \");\r\n                        return \"\\n    float \" + o + \"() {\\n      \" + l + \" coords = getOutputCoords();\\n      \" + c + \"\\n      return get\" + r + \"(\" + p + \");\\n    }\\n  \"\r\n                    }(t, e));\r\n                    return r\r\n                }(t, e, r)\r\n            })).join(\"\\n\"),\r\n            c = e.texShape,\r\n            l = ua(),\r\n            h = function(t) { return \"\\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\\n      return \" + t.texture2D + \"(textureSampler, uv).r;\\n    }\\n  \" }(l),\r\n            f = function(t) { return t.version + \"\\n    precision highp float;\\n    precision highp int;\\n    precision highp sampler2D;\\n    \" + t.varyingFs + \" vec2 resultUV;\\n    \" + t.defineOutput + \"\\n    const vec2 halfCR = vec2(0.5, 0.5);\\n\\n    struct ivec5\\n    {\\n      int x;\\n      int y;\\n      int z;\\n      int w;\\n      int u;\\n    };\\n\\n    struct ivec6\\n    {\\n      int x;\\n      int y;\\n      int z;\\n      int w;\\n      int u;\\n      int v;\\n    };\\n\\n    uniform float NAN;\\n    \" + t.defineSpecialNaN + \"\\n    \" + t.defineSpecialInf + \"\\n    \" + t.defineRound + \"\\n\\n    int imod(int x, int y) {\\n      return x - y * (x / y);\\n    }\\n\\n    int idiv(int a, int b, float sign) {\\n      int res = a / b;\\n      int mod = imod(a, b);\\n      if (sign < 0. && mod != 0) {\\n        res -= 1;\\n      }\\n      return res;\\n    }\\n\\n    //Based on the work of Dave Hoskins\\n    //https://www.shadertoy.com/view/4djSRW\\n    #define HASHSCALE1 443.8975\\n    float random(float seed){\\n      vec2 p = resultUV * seed;\\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\\n      p3 += dot(p3, p3.yzx + 19.19);\\n      return fract((p3.x + p3.y) * p3.z);\\n    }\\n\\n    \" + va + \"\\n    \" + ma + \"\\n    \" + ga + \"\\n  \" }(l);\r\n        return e.isPacked ? (a = function(t, e) {\r\n            switch (t.length) {\r\n                case 0:\r\n                    return \"\\n    int getOutputCoords() {\\n      return 0;\\n    }\\n  \";\r\n                case 1:\r\n                    return function(t, e) { var n = [Math.ceil(e[0] / 2), Math.ceil(e[1] / 2)]; if (1 === n[0]) return \"\\n      int getOutputCoords() {\\n        return 2 * int(resultUV.x * \" + n[1] + \".0);\\n      }\\n    \"; if (1 === n[1]) return \"\\n      int getOutputCoords() {\\n        return 2 * int(resultUV.y * \" + n[0] + \".0);\\n      }\\n    \"; return \"\\n    int getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + n[0] + \", \" + n[1] + \"));\\n      return 2 * (resTexRC.x * \" + n[1] + \" + resTexRC.y);\\n    }\\n  \" }(0, e);\r\n                case 2:\r\n                    return function(t, e) { var n = [Math.ceil(e[0] / 2), Math.ceil(e[1] / 2)]; if (S(t, e)) return \"\\n      ivec2 getOutputCoords() {\\n        return 2 * ivec2(resultUV.yx * vec2(\" + n[0] + \", \" + n[1] + \"));\\n      }\\n    \"; var r = Math.ceil(t[1] / 2); return \"\\n    ivec2 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + n[0] + \", \" + n[1] + \"));\\n\\n      int index = resTexRC.x * \" + n[1] + \" + resTexRC.y;\\n      int r = 2 * (index / \" + r + \");\\n      int c = imod(index, \" + r + \") * 2;\\n\\n      return ivec2(r, c);\\n    }\\n  \" }(t, e);\r\n                case 3:\r\n                    return n = t, r = e, o = [Math.ceil(r[0] / 2), Math.ceil(r[1] / 2)], a = Math.ceil(n[2] / 2), i = a * Math.ceil(n[1] / 2), \"\\n    ivec3 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + o[0] + \", \" + o[1] + \"));\\n      int index = resTexRC.x * \" + o[1] + \" + resTexRC.y;\\n\\n      int b = index / \" + i + \";\\n      index -= b * \" + i + \";\\n\\n      int r = 2 * (index / \" + a + \");\\n      int c = imod(index, \" + a + \") * 2;\\n\\n      return ivec3(b, r, c);\\n    }\\n  \";\r\n                default:\r\n                    return function(t, e) { for (var n = [Math.ceil(e[0] / 2), Math.ceil(e[1] / 2)], r = Math.ceil(t[t.length - 1] / 2), o = r * Math.ceil(t[t.length - 2] / 2), a = o, i = \"\", s = \"b, r, c\", u = 2; u < t.length - 1; u++) a *= t[t.length - u - 1], i = \"\\n      int b\" + u + \" = index / \" + a + \";\\n      index -= b\" + u + \" * \" + a + \";\\n    \" + i, s = \"b\" + u + \", \" + s; return \"\\n    ivec\" + t.length + \" getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + n[0] + \", \" + n[1] + \"));\\n      int index = resTexRC.x * \" + n[1] + \" + resTexRC.y;\\n\\n      \" + i + \"\\n\\n      int b = index / \" + o + \";\\n      index -= b * \" + o + \";\\n\\n      int r = 2 * (index / \" + r + \");\\n      int c = imod(index, \" + r + \") * 2;\\n\\n      return ivec\" + t.length + \"(\" + s + \");\\n    }\\n  \" }(t, e)\r\n            }\r\n            var n, r, o, a, i;\r\n        }(e.logicalShape, c), i = function(t) { return \"\\n    void setOutput(vec4 val) {\\n      \" + t.output + \" = val;\\n    }\\n  \" }(l)) : (a = function(t, e) {\r\n            switch (t.length) {\r\n                case 0:\r\n                    return \"\\n    int getOutputCoords() {\\n      return 0;\\n    }\\n  \";\r\n                case 1:\r\n                    return function(t, e) { if (1 === e[0]) return \"\\n      int getOutputCoords() {\\n        return int(resultUV.x * \" + e[1] + \".0);\\n      }\\n    \"; if (1 === e[1]) return \"\\n      int getOutputCoords() {\\n        return int(resultUV.y * \" + e[0] + \".0);\\n      }\\n    \"; return \"\\n    int getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + e[0] + \", \" + e[1] + \"));\\n      return resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n    }\\n  \" }(0, e);\r\n                case 2:\r\n                    return function(t, e) { if (S(t, e)) return \"\\n      ivec2 getOutputCoords() {\\n        return ivec2(resultUV.yx * vec2(\" + e[0] + \", \" + e[1] + \"));\\n      }\\n    \"; if (1 === t[1]) return \"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\" + e[0] + \", \" + e[1] + \"));\\n        int index = resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n        return ivec2(index, 0);\\n      }\\n    \"; if (1 === t[0]) return \"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\" + e[0] + \", \" + e[1] + \"));\\n        int index = resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n        return ivec2(0, index);\\n      }\\n    \"; return \"\\n    ivec2 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + e[0] + \", \" + e[1] + \"));\\n      int index = resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n      int r = index / \" + t[1] + \";\\n      int c = index - r * \" + t[1] + \";\\n      return ivec2(r, c);\\n    }\\n  \" }(t, e);\r\n                case 3:\r\n                    return n = e, r = ca([\"r\", \"c\", \"d\"], t), \"\\n    ivec3 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + n[0] + \", \" + n[1] + \"));\\n      int index = resTexRC.x * \" + n[1] + \" + resTexRC.y;\\n      \" + r + \"\\n      return ivec3(r, c, d);\\n    }\\n  \";\r\n                case 4:\r\n                    return function(t, e) { var n = ca([\"r\", \"c\", \"d\", \"d2\"], t); return \"\\n    ivec4 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n        vec2(\" + e[0] + \", \" + e[1] + \"));\\n      int index = resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n      \" + n + \"\\n      return ivec4(r, c, d, d2);\\n    }\\n  \" }(t, e);\r\n                case 5:\r\n                    return function(t, e) { var n = ca([\"r\", \"c\", \"d\", \"d2\", \"d3\"], t); return \"\\n    ivec5 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(\" + e[0] + \",\\n                             \" + e[1] + \"));\\n\\n      int index = resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n\\n      \" + n + \"\\n\\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\\n      return outShape;\\n    }\\n  \" }(t, e);\r\n                case 6:\r\n                    return function(t, e) { var n = ca([\"r\", \"c\", \"d\", \"d2\", \"d3\", \"d4\"], t); return \"\\n    ivec6 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n        vec2(\" + e[0] + \", \" + e[1] + \"));\\n      int index = resTexRC.x * \" + e[1] + \" + resTexRC.y;\\n\\n      \" + n + \"\\n\\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\\n      return result;\\n    }\\n  \" }(t, e);\r\n                default:\r\n                    throw new Error(t.length + \"-D output sampling is not yet supported\")\r\n            }\r\n            var n, r;\r\n        }(e.logicalShape, c), i = function(t) { return \"\\n    void setOutput(float val) {\\n      \" + t.output + \" = vec4(val, 0, 0, 0);\\n    }\\n  \" }(l)), r && (f += ya), [f, h, i, s, a, u, n].join(\"\\n\")\r\n    }\r\n\r\n    function da(t) {\r\n        var e = t.shapeInfo.logicalShape;\r\n        switch (e.length) {\r\n            case 0:\r\n                return function(t) {\r\n                    var e = t.name,\r\n                        n = \"get\" + e.charAt(0).toUpperCase() + e.slice(1);\r\n                    if (t.shapeInfo.isUniform) return \"float \" + n + \"() {return \" + e + \";}\";\r\n                    var r = t.shapeInfo.texShape,\r\n                        o = r[0],\r\n                        a = r[1];\r\n                    if (1 === o && 1 === a) return \"\\n      float \" + n + \"() {\\n        return sampleTexture(\" + e + \", halfCR);\\n      }\\n    \";\r\n                    var i = t.shapeInfo.texShape,\r\n                        s = i[0],\r\n                        u = i[1],\r\n                        c = xa(e);\r\n                    return \"\\n    float \" + n + \"() {\\n      vec2 uv = uvFromFlat(\" + s + \", \" + u + \", \" + c + \");\\n      return sampleTexture(\" + e + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            case 1:\r\n                return function(t) {\r\n                    var e = t.name,\r\n                        n = \"get\" + e.charAt(0).toUpperCase() + e.slice(1);\r\n                    if (t.shapeInfo.isUniform) return \"\\n      float \" + n + \"(int index) {\\n        \" + ba(t) + \"\\n      }\\n    \";\r\n                    var r = t.shapeInfo.texShape,\r\n                        o = r[0],\r\n                        a = r[1];\r\n                    if (1 === a && 1 === o) return \"\\n      float \" + n + \"(int index) {\\n        return sampleTexture(\" + e + \", halfCR);\\n      }\\n    \";\r\n                    var i = xa(e);\r\n                    if (1 === a) return \"\\n      float \" + n + \"(int index) {\\n        vec2 uv = vec2(0.5, (float(index + \" + i + \") + 0.5) / \" + o + \".0);\\n        return sampleTexture(\" + e + \", uv);\\n      }\\n    \";\r\n                    if (1 === o) return \"\\n      float \" + n + \"(int index) {\\n        vec2 uv = vec2((float(index + \" + i + \") + 0.5) / \" + a + \".0, 0.5);\\n        return sampleTexture(\" + e + \", uv);\\n      }\\n    \";\r\n                    return \"\\n    float \" + n + \"(int index) {\\n      vec2 uv = uvFromFlat(\" + o + \", \" + a + \", index + \" + i + \");\\n      return sampleTexture(\" + e + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            case 2:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = t.shapeInfo.texShape;\r\n                    if (null != o && S(e, o)) {\r\n                        var a = o[0],\r\n                            i = o[1];\r\n                        return \"\\n    float \" + r + \"(int row, int col) {\\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(\" + i + \".0, \" + a + \".0);\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \"\r\n                    }\r\n                    var s = M(e),\r\n                        u = s.newShape,\r\n                        c = s.keptDims,\r\n                        l = u;\r\n                    if (l.length < e.length) { var h = Ca(t, l); return \"\\n      \" + da(h) + \"\\n      float \" + r + \"(int row, int col) {\\n        return \" + r + \"(\" + Ea([\"row\", \"col\"], c) + \");\\n      }\\n    \" }\r\n                    if (t.shapeInfo.isUniform) return \"\\n      float \" + r + \"(int row, int col) {\\n        int index = round(dot(vec2(row, col), vec2(\" + e[1] + \", 1)));\\n        \" + ba(t) + \"\\n      }\\n    \";\r\n                    var f = o[0],\r\n                        d = o[1],\r\n                        p = xa(n);\r\n                    if (1 === d) return \"\\n    float \" + r + \"(int row, int col) {\\n      float index = dot(vec3(row, col, \" + p + \"), vec3(\" + e[1] + \", 1, 1));\\n      vec2 uv = vec2(0.5, (index + 0.5) / \" + f + \".0);\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \";\r\n                    if (1 === f) return \"\\n    float \" + r + \"(int row, int col) {\\n      float index = dot(vec3(row, col, \" + p + \"), vec3(\" + e[1] + \", 1, 1));\\n      vec2 uv = vec2((index + 0.5) / \" + d + \".0, 0.5);\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \";\r\n                    return \"\\n  float \" + r + \"(int row, int col) {\\n    // Explicitly use integer operations as dot() only works on floats.\\n    int index = row * \" + e[1] + \" + col + \" + p + \";\\n    vec2 uv = uvFromFlat(\" + f + \", \" + d + \", index);\\n    return sampleTexture(\" + n + \", uv);\\n  }\\n\"\r\n                }(t);\r\n            case 3:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = e[1] * e[2],\r\n                        a = e[2],\r\n                        i = M(e),\r\n                        s = i.newShape,\r\n                        u = i.keptDims,\r\n                        c = s;\r\n                    if (c.length < e.length) { var l = Ca(t, c); return \"\\n        \" + da(l) + \"\\n        float \" + r + \"(int row, int col, int depth) {\\n          return \" + r + \"(\" + Ea([\"row\", \"col\", \"depth\"], u) + \");\\n        }\\n      \" }\r\n                    if (t.shapeInfo.isUniform) return \"\\n      float \" + r + \"(int row, int col, int depth) {\\n        int index = round(dot(vec3(row, col, depth),\\n                          vec3(\" + o + \", \" + a + \", 1)));\\n        \" + ba(t) + \"\\n      }\\n    \";\r\n                    var h = t.shapeInfo.texShape,\r\n                        f = h[0],\r\n                        d = h[1],\r\n                        p = t.shapeInfo.flatOffset;\r\n                    if (d === o && null == p) return \"\\n        float \" + r + \"(int row, int col, int depth) {\\n          float texR = float(row);\\n          float texC = dot(vec2(col, depth), vec2(\" + a + \", 1));\\n          vec2 uv = (vec2(texC, texR) + halfCR) /\\n                     vec2(\" + d + \".0, \" + f + \".0);\\n          return sampleTexture(\" + n + \", uv);\\n        }\\n      \";\r\n                    if (d === a && null == p) return \"\\n    float \" + r + \"(int row, int col, int depth) {\\n      float texR = dot(vec2(row, col), vec2(\" + e[1] + \", 1));\\n      float texC = float(depth);\\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\" + d + \".0, \" + f + \".0);\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \";\r\n                    var v = xa(n);\r\n                    return \"\\n      float \" + r + \"(int row, int col, int depth) {\\n        // Explicitly use integer operations as dot() only works on floats.\\n        int index = row * \" + o + \" + col * \" + a + \" + depth + \" + v + \";\\n        vec2 uv = uvFromFlat(\" + f + \", \" + d + \", index);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n  \"\r\n                }(t);\r\n            case 4:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = e[3],\r\n                        a = e[2] * o,\r\n                        i = e[1] * a,\r\n                        s = M(e),\r\n                        u = s.newShape,\r\n                        c = s.keptDims;\r\n                    if (u.length < e.length) { var l = Ca(t, u); return \"\\n      \" + da(l) + \"\\n      float \" + r + \"(int row, int col, int depth, int depth2) {\\n        return \" + r + \"(\" + Ea([\"row\", \"col\", \"depth\", \"depth2\"], c) + \");\\n      }\\n    \" }\r\n                    if (t.shapeInfo.isUniform) return \"\\n      float \" + r + \"(int row, int col, int depth, int depth2) {\\n        int index = round(dot(vec4(row, col, depth, depth2),\\n                          vec4(\" + i + \", \" + a + \", \" + o + \", 1)));\\n        \" + ba(t) + \"\\n      }\\n    \";\r\n                    var h = t.shapeInfo.flatOffset,\r\n                        f = t.shapeInfo.texShape,\r\n                        d = f[0],\r\n                        p = f[1];\r\n                    if (p === i && null == h) return \"\\n      float \" + r + \"(int row, int col, int depth, int depth2) {\\n        float texR = float(row);\\n        float texC =\\n            dot(vec3(col, depth, depth2),\\n                vec3(\" + a + \", \" + o + \", 1));\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\" + p + \".0, \" + d + \".0);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n    \";\r\n                    if (p === o && null == h) return \"\\n      float \" + r + \"(int row, int col, int depth, int depth2) {\\n        float texR = dot(vec3(row, col, depth),\\n                         vec3(\" + e[1] * e[2] + \", \" + e[2] + \", 1));\\n        float texC = float(depth2);\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\" + p + \".0, \" + d + \".0);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n    \";\r\n                    var v = xa(n);\r\n                    return \"\\n    float \" + r + \"(int row, int col, int depth, int depth2) {\\n      // Explicitly use integer operations as dot() only works on floats.\\n      int index = row * \" + i + \" + col * \" + a + \" +\\n          depth * \" + o + \" + depth2;\\n      vec2 uv = uvFromFlat(\" + d + \", \" + p + \", index + \" + v + \");\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            case 5:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = e[4],\r\n                        a = e[3] * o,\r\n                        i = e[2] * a,\r\n                        s = e[1] * i,\r\n                        u = M(e),\r\n                        c = u.newShape,\r\n                        l = u.keptDims;\r\n                    if (c.length < e.length) { var h = Ca(t, c); return \"\\n      \" + da(h) + \"\\n      float \" + r + \"(int row, int col, int depth, int depth2, int depth3) {\\n        return \" + r + \"(\" + Ea([\"row\", \"col\", \"depth\", \"depth2\", \"depth3\"], l) + \");\\n      }\\n    \" }\r\n                    if (t.shapeInfo.isUniform) return \"\\n      float \" + r + \"(int row, int col, int depth, int depth2, int depth3) {\\n        float index = dot(\\n          vec4(row, col, depth, depth2),\\n          vec4(\" + s + \", \" + i + \", \" + a + \", \" + o + \")) +\\n          depth3;\\n        \" + ba(t) + \"\\n      }\\n    \";\r\n                    var f = t.shapeInfo.flatOffset,\r\n                        d = t.shapeInfo.texShape,\r\n                        p = d[0],\r\n                        v = d[1];\r\n                    if (v === s && null == f) return \"\\n      float \" + r + \"(int row, int col, int depth, int depth2, int depth3) {\\n        int texR = row;\\n        float texC = dot(vec4(col, depth, depth2, depth3),\\n                         vec4(\" + i + \", \" + a + \", \" + o + \", 1));\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\" + v + \".0, \" + p + \".0);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n    \";\r\n                    if (v === o && null == f) return \"\\n      float \" + r + \"(int row, int col, int depth, int depth2, int depth3) {\\n        float texR = dot(\\n          vec4(row, col, depth, depth2),\\n          vec4(\" + e[1] * e[2] * e[3] + \",\\n               \" + e[2] * e[3] + \", \" + e[3] + \", 1));\\n        int texC = depth3;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\" + v + \".0, \" + p + \".0);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n    \";\r\n                    var m = xa(n);\r\n                    return \"\\n    float \" + r + \"(int row, int col, int depth, int depth2, int depth3) {\\n      // Explicitly use integer operations as dot() only works on floats.\\n      int index = row * \" + s + \" + col * \" + i + \" + depth * \" + a + \" +\\n          depth2 * \" + o + \" + depth3 + \" + m + \";\\n      vec2 uv = uvFromFlat(\" + p + \", \" + v + \", index);\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            case 6:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = M(e),\r\n                        a = o.newShape,\r\n                        i = o.keptDims;\r\n                    if (a.length < e.length) { var s = Ca(t, a); return \"\\n      \" + da(s) + \"\\n      float \" + r + \"(int row, int col, int depth,\\n                    int depth2, int depth3, int depth4) {\\n        return \" + r + \"(\" + Ea([\"row\", \"col\", \"depth\", \"depth2\", \"depth3\", \"depth4\"], i) + \");\\n      }\\n    \" }\r\n                    var u = e[5],\r\n                        c = e[4] * u,\r\n                        l = e[3] * c,\r\n                        h = e[2] * l,\r\n                        f = e[1] * h;\r\n                    if (t.shapeInfo.isUniform) return \"\\n      float \" + r + \"(int row, int col, int depth,\\n                  int depth2, int depth3, int depth4) {\\n        int index = round(dot(\\n          vec4(row, col, depth, depth2),\\n          vec4(\" + f + \", \" + h + \", \" + l + \", \" + c + \")) +\\n          dot(\\n            vec2(depth3, depth4),\\n            vec2(\" + u + \", 1)));\\n        \" + ba(t) + \"\\n      }\\n    \";\r\n                    var d = t.shapeInfo.flatOffset,\r\n                        p = t.shapeInfo.texShape,\r\n                        v = p[0],\r\n                        m = p[1];\r\n                    if (m === f && null == d) return \"\\n      float \" + r + \"(int row, int col, int depth,\\n                    int depth2, int depth3, int depth4) {\\n        int texR = row;\\n        float texC = dot(vec4(col, depth, depth2, depth3),\\n          vec4(\" + h + \", \" + l + \", \" + c + \", \" + u + \")) +\\n               float(depth4);\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\" + m + \".0, \" + v + \".0);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n    \";\r\n                    if (m === u && null == d) return \"\\n      float \" + r + \"(int row, int col, int depth,\\n                    int depth2, int depth3, int depth4) {\\n        float texR = dot(vec4(row, col, depth, depth2),\\n          vec4(\" + e[1] * e[2] * e[3] * e[4] + \",\\n               \" + e[2] * e[3] * e[4] + \",\\n               \" + e[3] * e[4] + \",\\n               \" + e[4] + \")) + float(depth3);\\n        int texC = depth4;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\" + m + \".0, \" + v + \".0);\\n        return sampleTexture(\" + n + \", uv);\\n      }\\n    \";\r\n                    var g = xa(n);\r\n                    return \"\\n    float \" + r + \"(int row, int col, int depth,\\n                  int depth2, int depth3, int depth4) {\\n      // Explicitly use integer operations as dot() only works on floats.\\n      int index = row * \" + f + \" + col * \" + h + \" + depth * \" + l + \" +\\n          depth2 * \" + c + \" + depth3 * \" + u + \" + depth4 + \" + g + \";\\n      vec2 uv = uvFromFlat(\" + v + \", \" + m + \", index);\\n      return sampleTexture(\" + n + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            default:\r\n                throw new Error(e.length + \"-D input sampling is not yet supported\")\r\n        }\r\n    }\r\n\r\n    function pa(t) {\r\n        var e, n, r;\r\n        switch (t.shapeInfo.logicalShape.length) {\r\n            case 0:\r\n                return e = t.name, n = \"get\" + e.charAt(0).toUpperCase() + e.slice(1), r = ua(), \"\\n    vec4 \" + n + \"() {\\n      return \" + r.texture2D + \"(\" + e + \", halfCR);\\n    }\\n  \";\r\n            case 1:\r\n                return function(t) {\r\n                    var e = t.name,\r\n                        n = \"get\" + e.charAt(0).toUpperCase() + e.slice(1),\r\n                        r = t.shapeInfo.texShape,\r\n                        o = [Math.ceil(r[0] / 2), Math.ceil(r[1] / 2)],\r\n                        a = ua();\r\n                    return \"\\n    vec4 \" + n + \"(int index) {\\n      vec2 uv = packedUVfrom1D(\\n        \" + o[0] + \", \" + o[1] + \", index);\\n      return \" + a.texture2D + \"(\" + e + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            case 2:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = t.shapeInfo.texShape,\r\n                        a = o[0],\r\n                        i = o[1],\r\n                        s = ua();\r\n                    if (null != o && S(e, o)) return \"\\n      vec4 \" + r + \"(int row, int col) {\\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(\" + i + \".0, \" + a + \".0);\\n\\n        return \" + s.texture2D + \"(\" + n + \", uv);\\n      }\\n    \";\r\n                    var u = [Math.ceil(o[0] / 2), Math.ceil(o[1] / 2)],\r\n                        c = Math.ceil(e[1] / 2);\r\n                    return \"\\n    vec4 \" + r + \"(int row, int col) {\\n      vec2 uv = packedUVfrom2D(\" + c + \", \" + u[0] + \", \" + u[1] + \", row, col);\\n      return \" + s.texture2D + \"(\" + n + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            case 3:\r\n                return function(t) {\r\n                    var e = t.shapeInfo.logicalShape,\r\n                        n = t.name,\r\n                        r = \"get\" + n.charAt(0).toUpperCase() + n.slice(1),\r\n                        o = t.shapeInfo.texShape,\r\n                        a = [Math.ceil(o[0] / 2), Math.ceil(o[1] / 2)];\r\n                    if (1 === e[0]) {\r\n                        var i = e.slice(1),\r\n                            s = Ca(t, i);\r\n                        return \"\\n        \" + pa(s) + \"\\n        vec4 \" + r + \"(int b, int row, int col) {\\n          return \" + r + \"(\" + Ea([\"b\", \"row\", \"col\"], [1, 2]) + \");\\n        }\\n      \"\r\n                    }\r\n                    var u = a[0],\r\n                        c = a[1],\r\n                        l = Math.ceil(e[2] / 2),\r\n                        h = l * Math.ceil(e[1] / 2),\r\n                        f = ua();\r\n                    return \"\\n    vec4 \" + r + \"(int b, int row, int col) {\\n      vec2 uv = packedUVfrom3D(\\n        \" + u + \", \" + c + \", \" + h + \", \" + l + \", b, row, col);\\n      return \" + f.texture2D + \"(\" + n + \", uv);\\n    }\\n  \"\r\n                }(t);\r\n            default:\r\n                return function(t) { for (var e = t.shapeInfo.logicalShape, n = e.length, r = t.name, o = \"get\" + r.charAt(0).toUpperCase() + r.slice(1), a = t.shapeInfo.texShape, i = [Math.ceil(a[0] / 2), Math.ceil(a[1] / 2)], s = i[0], u = i[1], c = Math.ceil(e[n - 1] / 2), l = c * Math.ceil(e[n - 2] / 2), h = \"int b, int row, int col\", f = \"b * \" + l + \" + (row / 2) * \" + c + \" + (col / 2)\", d = 2; d < n - 1; d++) h = \"int b\" + d + \", \" + h, l *= e[n - d - 1], f = \"b\" + d + \" * \" + l + \" + \" + f; var p = ua(); return \"\\n    vec4 \" + o + \"(\" + h + \") {\\n      int index = \" + f + \";\\n      int texR = index / \" + u + \";\\n      int texC = index - texR * \" + u + \";\\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\" + u + \", \" + s + \");\\n      return \" + p.texture2D + \"(\" + r + \", uv);\\n    }\\n  \" }(t)\r\n        }\r\n    }\r\n    var va = \"\\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\\n  int texelIndex = index / 2;\\n  int texR = texelIndex / texNumC;\\n  int texC = texelIndex - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\",\r\n        ma = \"\\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\\n  int texNumC, int row, int col) {\\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\\n  int texR = texelIndex / texNumC;\\n  int texC = texelIndex - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\",\r\n        ga = \"\\nvec2 packedUVfrom3D(int texNumR, int texNumC,\\n    int texelsInBatch, int texelsInLogicalRow, int b,\\n    int row, int col) {\\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\",\r\n        ya = \"\\n  float getChannel(vec4 frag, vec2 innerDims) {\\n    vec2 modCoord = mod(innerDims, 2.);\\n    return modCoord.x == 0. ?\\n      (modCoord.y == 0. ? frag.r : frag.g) :\\n      (modCoord.y == 0. ? frag.b : frag.a);\\n  }\\n  float getChannel(vec4 frag, int dim) {\\n    float modCoord = mod(float(dim), 2.);\\n    return modCoord == 0. ? frag.r : frag.g;\\n  }\\n\";\r\n\r\n    function xa(t) { return \"offset\" + t }\r\n\r\n    function ba(t) {\r\n        var e = t.name,\r\n            n = k(t.shapeInfo.logicalShape);\r\n        return n < 2 ? \"return \" + e + \";\" : \"\\n    for (int i = 0; i < \" + n + \"; i++) {\\n      if (i == index) {\\n        return \" + e + \"[i];\\n      }\\n    }\\n  \"\r\n    }\r\n\r\n    function wa(t) { if (t <= 1) return \"int\"; if (2 === t) return \"ivec2\"; if (3 === t) return \"ivec3\"; if (4 === t) return \"ivec4\"; if (5 === t) return \"ivec5\"; if (6 === t) return \"ivec6\"; throw Error(\"GPU for rank \" + t + \" is not yet supported\") }\r\n\r\n    function Ca(t, e) { var n = JSON.parse(JSON.stringify(t)); return n.shapeInfo.logicalShape = e, n }\r\n\r\n    function Ea(t, e) { return e.map((function(e) { return t[e] })).join(\", \") }\r\n    var Ra = function(t, e, n, r) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, C(t.length > 2, (function() { return \"Packed arg\" + (n.charAt(0).toUpperCase() + n.slice(1)) + \" supports only inputs with rank above 2.\" }));\r\n            var o = t[t.length - 1],\r\n                a = Math.ceil(o / e);\r\n            this.outputShape = t.slice(0, -1), a > 1 && this.outputShape.push(a), r || this.variableNames.push(\"bestIndicesA\");\r\n            var i, s, u = this.outputShape,\r\n                c = u.length,\r\n                l = wa(c),\r\n                h = sa(\"coords\", c);\r\n            if (1 === a) {\r\n                var f = wa(s = c + 1);\r\n                i = \"\\n        \" + f + \" sourceLocR = \" + f + \"(\" + h.join() + \", 0);\\n        ++\" + h[c - 1] + \";\\n        \" + f + \" sourceLocG = \" + f + \"(\" + h.join() + \", 0);\\n        ++\" + h[c - 2] + \";\\n        \" + f + \" sourceLocA = \" + f + \"(\" + h.join() + \", 0);\\n        --\" + h[c - 1] + \";\\n        \" + f + \" sourceLocB = \" + f + \"(\" + h.join() + \", 0);\\n        --\" + h[c - 2] + \";\";\r\n            } else s = c, i = \"\\n        \" + l + \" sourceLocR = coords;\\n        ++\" + h[c - 1] + \";\\n        \" + l + \" sourceLocG = coords;\\n        ++\" + h[c - 2] + \";\\n        \" + l + \" sourceLocA = coords;\\n        --\" + h[c - 1] + \";\\n        \" + l + \" sourceLocB = coords;\\n        --\" + h[c - 2] + \";\";\r\n            var d = [\"x\", \"y\", \"z\", \"w\", \"u\", \"v\"].slice(0, s),\r\n                p = \".\" + d[s - 1],\r\n                v = d.map((function(t) { return \"int \" + t })),\r\n                m = sa(\"sourceLocR\", s - 1).concat(\"inIdx.r\"),\r\n                g = sa(\"sourceLocG\", s - 1).concat(\"inIdx.g\"),\r\n                y = sa(\"sourceLocB\", s - 1).concat(\"inIdx.b\"),\r\n                x = sa(\"sourceLocA\", s - 1).concat(\"inIdx.a\"),\r\n                b = \"max\" === n ? \"greaterThan\" : \"lessThan\",\r\n                w = r ? \"\" : \"\\n          inIdx = round(vec4(getBestIndicesAChannel(\" + m.join() + \"),\\n                             getBestIndicesAChannel(\" + g.join() + \"),\\n                             getBestIndicesAChannel(\" + y.join() + \"),\\n                             getBestIndicesAChannel(\" + x.join() + \")));\",\r\n                E = \"vec4(\\n            getAChannel(\" + m.join() + \"),\\n            hasNextCol ? getAChannel(\" + g.join() + \") : 0.,\\n            hasNextRow ? getAChannel(\" + y.join() + \") : 0.,\\n            hasNextRow && hasNextCol ? getAChannel(\" + x.join() + \") : 0.)\",\r\n                R = r ? \"\" : \"\\n      float getBestIndicesAChannel(\" + v.join() + \") {\\n        return getChannel(getBestIndicesA(\" + d.join() + \"),\\n                                          vec2(\" + d.slice(-2).join() + \"));\\n      }\";\r\n            this.userCode = \"\\n      float getAChannel(\" + v.join() + \") {\\n        return getChannel(getA(\" + d.join() + \"),\\n                               vec2(\" + d.slice(-2).join() + \"));\\n      }\\n      \" + R + \"\\n      void main() {\\n        \" + l + \" coords = getOutputCoords();\\n        bool hasNextCol = \" + h[c - 1] + \" < \" + (u[c - 1] - 1) + \";\\n        bool hasNextRow = \" + h[c - 2] + \" < \" + (u[c - 2] - 1) + \";\\n        \" + i + \"\\n        ivec4 srcIdx = ivec4(sourceLocR\" + p + \", sourceLocG\" + p + \",\\n          sourceLocB\" + p + \", sourceLocA\" + p + \") * \" + e + \";\\n        ivec4 inIdx = srcIdx;\\n        vec4 bestIndex = vec4(inIdx);\\n        vec4 bestValue = \" + E + \";\\n\\n        for (int i = 0; i < \" + e + \"; i++) {\\n          inIdx = srcIdx;\\n          \" + w + \"\\n          vec4 candidate = \" + E + \";\\n          bvec4 nan = isnan(candidate);\\n          bvec4 replace = bvec4(\\n            vec4(\" + b + \"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\\n\\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\\n                           replace.y  ? candidate.y : bestValue.y,\\n                           replace.z  ? candidate.z : bestValue.z,\\n                           replace.w  ? candidate.w : bestValue.w);\\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\\n          srcIdx++;\\n        }\\n        setOutput(bestIndex);\\n      }\\n    \";\r\n        },\r\n        Ia = function(t) {\r\n            this.variableNames = [\"dy\"], this.outputShape = t.inShape;\r\n            var e = t.filterHeight,\r\n                n = t.filterWidth,\r\n                r = t.strideHeight,\r\n                o = t.strideWidth,\r\n                a = t.dilationHeight,\r\n                i = t.dilationWidth,\r\n                s = t.effectiveFilterHeight,\r\n                u = t.effectiveFilterWidth,\r\n                c = s - 1 - t.padInfo.top,\r\n                l = u - 1 - t.padInfo.left,\r\n                h = 1 / (e * n);\r\n            this.userCode = \"\\n      const ivec2 pads = ivec2(\" + c + \", \" + l + \");\\n      const float avgMultiplier = float(\" + h + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 dyRCCorner = coords.yz - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + s + \";\\n            wR += \" + a + \") {\\n          float dyR = float(dyRCorner + wR) / \" + r + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \" + u + \";\\n            wC+= \" + i + \") {\\n            float dyC = float(dyCCorner + wC) / \" + o + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(b, idyR, idyC, d);\\n\\n            dotProd += dyValue * avgMultiplier;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        ka = function(t) {\r\n            this.variableNames = [\"dy\"], this.outputShape = t.inShape;\r\n            var e = t.filterDepth,\r\n                n = t.filterHeight,\r\n                r = t.filterWidth,\r\n                o = t.strideDepth,\r\n                a = t.strideHeight,\r\n                i = t.strideWidth,\r\n                s = t.dilationDepth,\r\n                u = t.dilationHeight,\r\n                c = t.dilationWidth,\r\n                l = t.effectiveFilterDepth,\r\n                h = t.effectiveFilterHeight,\r\n                f = t.effectiveFilterWidth,\r\n                d = l - 1 - t.padInfo.front,\r\n                p = h - 1 - t.padInfo.top,\r\n                v = f - 1 - t.padInfo.left,\r\n                m = 1 / (e * n * r);\r\n            this.userCode = \"\\n      const ivec3 pads = ivec3(\" + d + \", \" + p + \", \" + v + \");\\n      const float avgMultiplier = float(\" + m + \");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int ch = coords.u;\\n\\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\\n        int dyDCorner = dyCorner.x;\\n        int dyRCorner = dyCorner.y;\\n        int dyCCorner = dyCorner.z;\\n\\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\\n        // dx(xD, xR, xC, ch).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int wD = 0; wD < \" + l + \";\\n            wD += \" + s + \") {\\n          float dyD = float(dyDCorner + wD) / \" + o + \".0;\\n\\n          if (dyD < 0.0 || dyD >= \" + t.outDepth + \".0 || fract(dyD) > 0.0) {\\n            continue;\\n          }\\n          int idyD = int(dyD);\\n\\n          for (int wR = 0; wR < \" + h + \";\\n              wR += \" + u + \") {\\n            float dyR = float(dyRCorner + wR) / \" + a + \".0;\\n\\n            if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 ||\\n                fract(dyR) > 0.0) {\\n              continue;\\n            }\\n            int idyR = int(dyR);\\n\\n            for (int wC = 0; wC < \" + f + \";\\n                wC += \" + c + \") {\\n              float dyC = float(dyCCorner + wC) / \" + i + \".0;\\n\\n              if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                  fract(dyC) > 0.0) {\\n                continue;\\n              }\\n              int idyC = int(dyC);\\n\\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\\n\\n              dotProd += dyValue * avgMultiplier;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Sa = function(t, e, n, r, o, a) {\r\n            this.outputShape = [], this.variableNames = [\"x\", \"mean\", \"variance\"], Ro(t, e), Ro(t, n);\r\n            var i = \"0.0\";\r\n            null != r && (Ro(t, r), this.variableNames.push(\"offset\"), i = \"getOffsetAtOutCoords()\");\r\n            var s = \"1.0\";\r\n            null != o && (Ro(t, o), this.variableNames.push(\"scale\"), s = \"getScaleAtOutCoords()\"), this.outputShape = t, this.userCode = \"\\n      void main() {\\n        float x = getXAtOutCoords();\\n        float mean = getMeanAtOutCoords();\\n        float variance = getVarianceAtOutCoords();\\n        float offset = \" + i + \";\\n        float scale = \" + s + \";\\n        float inv = scale * inversesqrt(variance + float(\" + a + \"));\\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\\n      }\\n    \";\r\n        },\r\n        Aa = function(t, e, n, r, o, a) {\r\n            this.packedInputs = !0, this.packedOutput = !0, this.variableNames = [\"x\", \"mean\", \"variance\"], Ro(t, e), Ro(t, n);\r\n            var i = \"vec4(0.0)\";\r\n            null != r && (Ro(t, r), this.variableNames.push(\"offset\"), i = \"getOffsetAtOutCoords()\");\r\n            var s = \"vec4(1.0)\";\r\n            null != o && (Ro(t, o), this.variableNames.push(\"scale\"), s = \"getScaleAtOutCoords()\"), this.outputShape = t, this.userCode = \"\\n      void main() {\\n        vec4 offset = \" + i + \";\\n        vec4 scale = \" + s + \";\\n\\n        vec4 x = getXAtOutCoords();\\n        vec4 mean = getMeanAtOutCoords();\\n        vec4 variance = getVarianceAtOutCoords();\\n\\n        vec4 inv = scale * inversesqrt(variance + vec4(\" + a + \"));\\n\\n        setOutput((x - mean) * inv + offset);\\n      }\\n    \";\r\n        },\r\n        Da = \"return areal * breal - aimag * bimag;\",\r\n        Ta = \"return areal * bimag + aimag * breal;\",\r\n        Na = function(t, e, n) { this.variableNames = [\"AReal\", \"AImag\", \"BReal\", \"BImag\"], this.outputShape = Ro(e, n), this.userCode = \"\\n      float binaryOpComplex(\\n          float areal, float aimag, float breal, float bimag) {\\n        \" + t + \"\\n      }\\n\\n      void main() {\\n        float areal = getARealAtOutCoords();\\n        float aimag = getAImagAtOutCoords();\\n        float breal = getBRealAtOutCoords();\\n        float bimag = getBImagAtOutCoords();\\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\\n      }\\n    \"; },\r\n        Fa = \"return a + b;\",\r\n        _a = \"return a - b;\",\r\n        Oa = \"return a * b;\",\r\n        Ma = \"return (a < 0.) ? b * a : a;\",\r\n        Ba = function(t, e, n) { this.variableNames = [\"A\", \"B\"], this.outputShape = Ro(e, n), this.userCode = \"\\n      float binaryOperation(float a, float b) {\\n        \" + t + \"\\n      }\\n\\n      void main() {\\n        float a = getAAtOutCoords();\\n        float b = getBAtOutCoords();\\n        setOutput(binaryOperation(a, b));\\n      }\\n    \"; },\r\n        Pa = \"\\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\\n\",\r\n        La = function(t, e, n, r) {\r\n            void 0 === r && (r = !1), this.variableNames = [\"A\", \"B\"], this.supportsBroadcasting = !0, this.packedInputs = !0, this.packedOutput = !0, this.outputShape = Ro(e, n);\r\n            var o = this.outputShape.length,\r\n                a = \"\";\r\n            if (r)\r\n                if (0 === o || 1 === k(this.outputShape)) a = \"\\n          result.y = 0.;\\n          result.z = 0.;\\n          result.w = 0.;\\n        \";\r\n                else if (a = \"\\n          \" + wa(o) + \" coords = getOutputCoords();\\n        \", 1 === o) a += \"\\n            result.y = (coords + 1) >= \" + this.outputShape[0] + \" ? 0. : result.y;\\n            result.z = 0.;\\n            result.w = 0.;\\n          \";\r\n            else {\r\n                var i = sa(\"coords\", o);\r\n                a += \"\\n            bool nextRowOutOfBounds =\\n              (\" + i[o - 2] + \" + 1) >= \" + this.outputShape[o - 2] + \";\\n            bool nextColOutOfBounds =\\n              (\" + i[o - 1] + \" + 1) >= \" + this.outputShape[o - 1] + \";\\n            result.y = nextColOutOfBounds ? 0. : result.y;\\n            result.z = nextRowOutOfBounds ? 0. : result.z;\\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\\n          \";\r\n            }\r\n            this.userCode = \"\\n      vec4 binaryOperation(vec4 a, vec4 b) {\\n        \" + t + \"\\n      }\\n\\n      void main() {\\n        vec4 a = getAAtOutCoords();\\n        vec4 b = getBAtOutCoords();\\n\\n        vec4 result = binaryOperation(a, b);\\n        \" + a + \"\\n\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        Wa = function() {\r\n            function t(t) { this.variableNames = [\"A\"], this.outputShape = t, this.userCode = \"\\n      uniform float minVal;\\n      uniform float maxVal;\\n\\n      void main() {\\n        float value = getAAtOutCoords();\\n        if (isnan(value)) {\\n          setOutput(value);\\n          return;\\n        }\\n\\n        setOutput(clamp(value, minVal, maxVal));\\n      }\\n    \"; }\r\n            return t.prototype.getCustomSetupFunc = function(t, e) { var n = this; return function(r, o) { null == n.minLoc && (n.minLoc = r.getUniformLocationNoThrow(o, \"minVal\"), n.maxLoc = r.getUniformLocationNoThrow(o, \"maxVal\")), r.gl.uniform1f(n.minLoc, t), r.gl.uniform1f(n.maxLoc, e); } }, t\r\n        }(),\r\n        Ua = function() {\r\n            function t(t) { this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t, this.userCode = \"\\n      uniform float minVal;\\n      uniform float maxVal;\\n\\n      void main() {\\n        vec4 value = getAAtOutCoords();\\n\\n        if (any(isnan(value))) {\\n          setOutput(value);\\n          return;\\n        }\\n\\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\\n      }\\n    \"; }\r\n            return t.prototype.getCustomSetupFunc = function(t, e) { var n = this; return function(r, o) { null == n.minLoc && (n.minLoc = r.getUniformLocationNoThrow(o, \"minVal\"), n.maxLoc = r.getUniformLocationNoThrow(o, \"maxVal\")), r.gl.uniform1f(n.minLoc, t), r.gl.uniform1f(n.maxLoc, e); } }, t\r\n        }(),\r\n        Va = function(t) { this.variableNames = [\"real\", \"imag\"], this.outputShape = t, this.userCode = \"\\n      void main() {\\n        float re = abs(getRealAtOutCoords());\\n        float im = abs(getImagAtOutCoords());\\n        float mx = max(re, im);\\n\\n        // sadly the length function in glsl is not underflow-safe\\n        // (at least not on Intel GPUs). So the safe solution is\\n        // to ensure underflow-safety in all cases.\\n        setOutput(\\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\\n        );\\n      }\\n    \"; },\r\n        za = function(t) {\r\n            this.outputShape = [], this.outputShape = Sn(t, 1), this.variableNames = t.map((function(t, e) { return \"T\" + e }));\r\n            var e = new Array(t.length - 1);\r\n            e[0] = t[0][1];\r\n            for (var n = 1; n < e.length; n++) e[n] = e[n - 1] + t[n][1];\r\n            var r = [\"if (yC < \" + e[0] + \") setOutput(getT0(yR, yC));\"];\r\n            for (n = 1; n < e.length; n++) {\r\n                var o = e[n - 1];\r\n                r.push(\"else if (yC < \" + e[n] + \") setOutput(getT\" + n + \"(yR, yC-\" + o + \"));\");\r\n            }\r\n            var a = e.length,\r\n                i = e[e.length - 1];\r\n            r.push(\"else setOutput(getT\" + a + \"(yR, yC-\" + i + \"));\"), this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int yR = coords.x;\\n        int yC = coords.y;\\n\\n        \" + r.join(\"\\n        \") + \"\\n      }\\n    \";\r\n        },\r\n        Ga = function(t, e) {\r\n            this.packedInputs = !0, this.packedOutput = !0, this.outputShape = [], this.outputShape = Sn(t, e);\r\n            var n = this.outputShape,\r\n                r = n.length,\r\n                o = wa(r),\r\n                a = sa(\"coords\", r),\r\n                i = [\"x\", \"y\", \"z\", \"w\", \"u\", \"v\"].slice(0, r);\r\n            this.variableNames = t.map((function(t, e) { return \"T\" + e }));\r\n            var s = new Array(t.length - 1);\r\n            s[0] = t[0][e];\r\n            for (var u = 1; u < s.length; u++) s[u] = s[u - 1] + t[u][e];\r\n            var c = i[e],\r\n                l = i.slice(-2),\r\n                h = i.join(),\r\n                f = \"if (\" + c + \" < \" + s[0] + \") {\\n        return getChannel(\\n            getT0(\" + h + \"), vec2(\" + l.join() + \"));\\n        }\";\r\n            for (u = 1; u < s.length; u++) {\r\n                var d = s[u - 1];\r\n                f += \"\\n        if (\" + c + \" < \" + s[u] + \"  && \" + c + \" >= \" + s[u - 1] + \") {\\n          return getChannel(\\n            getT\" + u + \"(\" + Ha(i, c, d) + \"),\\n            vec2(\" + Ha(l, c, d) + \"));\\n        }\";\r\n            }\r\n            var p = s.length,\r\n                v = s[s.length - 1];\r\n            f += \"\\n        return getChannel(\\n          getT\" + p + \"(\" + Ha(i, c, v) + \"),\\n          vec2(\" + Ha(l, c, v) + \"));\", this.userCode = \"\\n      float getValue(\" + i.map((function(t) { return \"int \" + t })) + \") {\\n        \" + f + \"\\n      }\\n\\n      void main() {\\n        \" + o + \" coords = getOutputCoords();\\n        vec4 result = vec4(getValue(\" + a + \"), 0., 0., 0.);\\n\\n        \" + a[r - 1] + \" = \" + a[r - 1] + \" + 1;\\n        if (\" + a[r - 1] + \" < \" + n[r - 1] + \") {\\n          result.g = getValue(\" + a + \");\\n        }\\n\\n        \" + a[r - 2] + \" = \" + a[r - 2] + \" + 1;\\n        if (\" + a[r - 2] + \" < \" + n[r - 2] + \") {\\n          result.a = getValue(\" + a + \");\\n        }\\n\\n        \" + a[r - 1] + \" = \" + a[r - 1] + \" - 1;\\n        if (\" + a[r - 2] + \" < \" + n[r - 2] + \" &&\\n            \" + a[r - 1] + \" < \" + n[r - 1] + \") {\\n          result.b = getValue(\" + a + \");\\n        }\\n        setOutput(result);\\n      }\\n    \";\r\n        };\r\n\r\n    function Ha(t, e, n) { var r = t.indexOf(e); return t.map((function(t, e) { return e === r ? t + \" - \" + n : t })).join() }\r\n    var qa = function(t) {\r\n            this.variableNames = [\"x\", \"dy\"], this.outputShape = t.filterShape;\r\n            var e = t.strideHeight,\r\n                n = t.strideWidth,\r\n                r = t.padInfo.top,\r\n                o = t.padInfo.left,\r\n                a = \"channelsLast\" === t.dataFormat;\r\n            this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int wR = coords.x;\\n        int wC = coords.y;\\n        int d1 = coords.z;\\n        int d2 = coords.w;\\n\\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int b = 0; b < \" + t.batchSize + \"; b++) {\\n          for (int yR = 0; yR < \" + t.outHeight + \"; yR++) {\\n            int xR = wR + yR * \" + e + \" - \" + r + \";\\n\\n            if (xR < 0 || xR >= \" + t.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int yC = 0; yC < \" + t.outWidth + \"; yC++) {\\n              int xC = wC + yC * \" + n + \" - \" + o + \";\\n\\n              if (xC < 0 || xC >= \" + t.inWidth + \") {\\n                continue;\\n              }\\n\\n              if (\" + a + \") {\\n                float dyValue = getDy(b, yR, yC, d2);\\n                float xValue = getX(b, xR, xC, d1);\\n                dotProd += (xValue * dyValue);\\n              } else {\\n                float dyValue = getDy(b, d2, yR, yC);\\n                float xValue = getX(b, d1, xR, xC);\\n                dotProd += (xValue * dyValue);\\n              }\\n\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Ka = function(t) {\r\n            this.variableNames = [\"dy\", \"W\"], this.outputShape = t.inShape;\r\n            var e = t.filterHeight,\r\n                n = t.filterWidth,\r\n                r = t.strideHeight,\r\n                o = t.strideWidth,\r\n                a = \"channelsLast\" === t.dataFormat,\r\n                i = e - 1 - t.padInfo.top,\r\n                s = n - 1 - t.padInfo.left,\r\n                u = a ? 1 : 2,\r\n                c = a ? 2 : 3,\r\n                l = a ? 3 : 1;\r\n            this.userCode = \"\\n      const ivec2 pads = ivec2(\" + i + \", \" + s + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d1 = coords[\" + l + \"];\\n\\n        ivec2 dyCorner = ivec2(coords[\" + u + \"], coords[\" + c + \"]) - pads;\\n        int dyRCorner = dyCorner.x;\\n        int dyCCorner = dyCorner.y;\\n\\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + e + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + r + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          int wRPerm = \" + e + \" - 1 - wR;\\n\\n          for (int wC = 0; wC < \" + n + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + o + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            int wCPerm = \" + n + \" - 1 - wC;\\n\\n            for (int d2 = 0; d2 < \" + t.outChannels + \"; d2++) {\\n\\n              if (\" + a + \") {\\n                float xValue = getDy(batch, idyR, idyC, d2);\\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\\n                dotProd += xValue * wValue;\\n              } else {\\n                float xValue = getDy(batch, d2, idyR, idyC);\\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\\n                dotProd += xValue * wValue;\\n              }\\n\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        ja = function(t) {\r\n            this.variableNames = [\"x\", \"dy\"], this.outputShape = t.filterShape;\r\n            var e = t.strideDepth,\r\n                n = t.strideHeight,\r\n                r = t.strideWidth,\r\n                o = t.padInfo.front,\r\n                a = t.padInfo.top,\r\n                i = t.padInfo.left;\r\n            this.userCode = \"\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int wF = coords.x;\\n        int wR = coords.y;\\n        int wC = coords.z;\\n        int d1 = coords.w;\\n        int d2 = coords.u;\\n\\n        float dotProd = 0.0;\\n\\n        for (int b = 0; b < \" + t.batchSize + \"; b++) {\\n          for (int yF = 0; yF < \" + t.outDepth + \"; yF++) {\\n            int xF = wF + yF * \" + e + \" - \" + o + \";\\n\\n            if (xF < 0 || xF >= \" + t.inDepth + \") {\\n              continue;\\n            }\\n\\n            for (int yR = 0; yR < \" + t.outHeight + \"; yR++) {\\n              int xR = wR + yR * \" + n + \" - \" + a + \";\\n\\n              if (xR < 0 || xR >= \" + t.inHeight + \") {\\n                continue;\\n              }\\n\\n              for (int yC = 0; yC < \" + t.outWidth + \"; yC++) {\\n                int xC = wC + yC * \" + r + \" - \" + i + \";\\n\\n                if (xC < 0 || xC >= \" + t.inWidth + \") {\\n                  continue;\\n                }\\n\\n                float dyValue = getDy(b, yF, yR, yC, d2);\\n                float xValue = getX(b, xF, xR, xC, d1);\\n                dotProd += (xValue * dyValue);\\n              }\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Xa = function(t) {\r\n            this.variableNames = [\"dy\", \"W\"], this.outputShape = t.inShape;\r\n            var e = t.filterDepth,\r\n                n = t.filterHeight,\r\n                r = t.filterWidth,\r\n                o = t.strideDepth,\r\n                a = t.strideHeight,\r\n                i = t.strideWidth,\r\n                s = e - 1 - t.padInfo.front,\r\n                u = n - 1 - t.padInfo.top,\r\n                c = r - 1 - t.padInfo.left;\r\n            this.userCode = \"\\n      const ivec3 pads = ivec3(\" + s + \", \" + u + \", \" + c + \");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int d1 = coords.u;\\n\\n\\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\\n        int dyFCorner = dyCorner.x;\\n        int dyRCorner = dyCorner.y;\\n        int dyCCorner = dyCorner.z;\\n\\n        float dotProd = 0.0;\\n        for (int wF = 0; wF < \" + e + \"; wF++) {\\n          float dyF = float(dyFCorner + wF) / \" + o + \".0;\\n\\n          if (dyF < 0.0 || dyF >= \" + t.outDepth + \".0 || fract(dyF) > 0.0) {\\n            continue;\\n          }\\n          int idyF = int(dyF);\\n\\n          int wFPerm = \" + e + \" - 1 - wF;\\n\\n          for (int wR = 0; wR < \" + n + \"; wR++) {\\n            float dyR = float(dyRCorner + wR) / \" + a + \".0;\\n\\n            if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 ||\\n              fract(dyR) > 0.0) {\\n              continue;\\n            }\\n            int idyR = int(dyR);\\n\\n            int wRPerm = \" + n + \" - 1 - wR;\\n\\n            for (int wC = 0; wC < \" + r + \"; wC++) {\\n              float dyC = float(dyCCorner + wC) / \" + i + \".0;\\n\\n              if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                  fract(dyC) > 0.0) {\\n                continue;\\n              }\\n              int idyC = int(dyC);\\n\\n              int wCPerm = \" + r + \" - 1 - wC;\\n\\n              for (int d2 = 0; d2 < \" + t.outChannels + \"; d2++) {\\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\\n                dotProd += xValue * wValue;\\n              }\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Ya = function(t) {\r\n            this.variableNames = [\"x\", \"dy\"], this.outputShape = t.filterShape;\r\n            var e = t.strideHeight,\r\n                n = t.strideWidth,\r\n                r = t.padInfo.top,\r\n                o = t.padInfo.left,\r\n                a = t.outChannels / t.inChannels;\r\n            this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int wR = coords.x;\\n        int wC = coords.y;\\n        int d1 = coords.z;\\n        int dm = coords.w;\\n        int d2 = d1 * \" + a + \" + dm;\\n\\n        float dotProd = 0.0;\\n\\n        // TO DO: Vec4 over the batch size\\n        for (int b = 0; b < \" + t.batchSize + \"; b++) {\\n          for (int yR = 0; yR < \" + t.outHeight + \"; yR++) {\\n            int xR = wR + yR * \" + e + \" - \" + r + \";\\n\\n            if (xR < 0 || xR >= \" + t.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int yC = 0; yC < \" + t.outWidth + \"; yC++) {\\n              int xC = wC + yC * \" + n + \" - \" + o + \";\\n\\n              if (xC < 0 || xC >= \" + t.inWidth + \") {\\n                continue;\\n              }\\n\\n              float dyValue = getDy(b, yR, yC, d2);\\n              float xValue = getX(b, xR, xC, d1);\\n              dotProd += (xValue * dyValue);\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        $a = function(t) {\r\n            this.variableNames = [\"dy\", \"W\"], this.outputShape = t.inShape;\r\n            var e = t.filterHeight,\r\n                n = t.filterWidth,\r\n                r = t.strideHeight,\r\n                o = t.strideWidth,\r\n                a = e - 1 - t.padInfo.top,\r\n                i = n - 1 - t.padInfo.left,\r\n                s = t.outChannels / t.inChannels;\r\n            this.userCode = \"\\n      const ivec2 pads = ivec2(\" + a + \", \" + i + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d1 = coords[3];\\n        ivec2 dyCorner = coords.yz - pads;\\n        int dyRCorner = dyCorner.x;\\n        int dyCCorner = dyCorner.y;\\n\\n        float dotProd = 0.0;\\n\\n        for (int wR = 0; wR < \" + e + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + r + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          int wRPerm = \" + e + \" - 1 - wR;\\n\\n          for (int wC = 0; wC < \" + n + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + o + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            int wCPerm = \" + n + \" - 1 - wC;\\n\\n            // TO DO: Vec4 over the channelMul\\n            for (int dm = 0; dm < \" + s + \"; dm++) {\\n              int d2 = d1 * \" + s + \" + dm;\\n              float xValue = getDy(batch, idyR, idyC, d2);\\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\\n              dotProd += xValue * wValue;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Qa = function(t, e, n, r) {\r\n            void 0 === e && (e = !1), void 0 === n && (n = null), void 0 === r && (r = !1), this.variableNames = [\"x\", \"W\"], this.outputShape = t.outShape;\r\n            var o = t.padInfo.top,\r\n                a = t.padInfo.left,\r\n                i = t.strideHeight,\r\n                s = t.strideWidth,\r\n                u = t.dilationHeight,\r\n                c = t.dilationWidth,\r\n                l = t.filterHeight,\r\n                h = t.filterWidth,\r\n                f = 4 * Math.floor(t.inChannels / 4),\r\n                d = t.inChannels % 4,\r\n                p = \"channelsLast\" === t.dataFormat,\r\n                v = p ? 1 : 2,\r\n                m = p ? 2 : 3,\r\n                g = p ? 3 : 1,\r\n                y = \"\",\r\n                x = \"\";\r\n            n && (y = r ? \"float activation(float a) {\\n          float b = getPreluActivationWeightsAtOutCoords();\\n          \" + n + \"\\n        }\" : \"\\n          float activation(float x) {\\n            \" + n + \"\\n          }\\n        \", x = \"result = activation(result);\");\r\n            var b = e ? \"result += getBiasAtOutCoords();\" : \"\";\r\n            e && this.variableNames.push(\"bias\"), r && this.variableNames.push(\"preluActivationWeights\"), this.userCode = \"\\n      \" + y + \"\\n\\n      const ivec2 strides = ivec2(\" + i + \", \" + s + \");\\n      const ivec2 pads = ivec2(\" + o + \", \" + a + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d2 = coords[\" + g + \"];\\n\\n        ivec2 xRCCorner =\\n            ivec2(coords[\" + v + \"], coords[\" + m + \"]) * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + l + \"; wR++) {\\n          int xR = xRCorner + wR * \" + u + \";\\n\\n          if (xR < 0 || xR >= \" + t.inHeight + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + h + \"; wC++) {\\n            int xC = xCCorner + wC * \" + c + \";\\n\\n            if (xC < 0 || xC >= \" + t.inWidth + \") {\\n              continue;\\n            }\\n\\n            for (int d1 = 0; d1 < \" + f + \"; d1 += 4) {\\n              vec4 wValues = vec4(\\n                getW(wR, wC, d1, d2),\\n                getW(wR, wC, d1 + 1, d2),\\n                getW(wR, wC, d1 + 2, d2),\\n                getW(wR, wC, d1 + 3, d2)\\n              );\\n\\n              if (\" + p + \") {\\n                vec4 xValues = vec4(\\n                  getX(batch, xR, xC, d1),\\n                  getX(batch, xR, xC, d1 + 1),\\n                  getX(batch, xR, xC, d1 + 2),\\n                  getX(batch, xR, xC, d1 + 3)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else {\\n                vec4 xValues = vec4(\\n                  getX(batch, d1, xR, xC),\\n                  getX(batch, d1 + 1, xR, xC),\\n                  getX(batch, d1 + 2, xR, xC),\\n                  getX(batch, d1 + 3, xR, xC)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n            }\\n\\n            if (\" + (1 === d) + \") {\\n\\n              if (\" + p + \") {\\n                dotProd +=\\n                    getX(batch, xR, xC, \" + f + \") *\\n                    getW(wR, wC, \" + f + \", d2);\\n              } else {\\n                dotProd +=\\n                    getX(batch, \" + f + \", xR, xC) *\\n                    getW(wR, wC, \" + f + \", d2);\\n              }\\n\\n            } else if (\" + (2 === d) + \") {\\n              vec2 wValues = vec2(\\n                getW(wR, wC, \" + f + \", d2),\\n                getW(wR, wC, \" + f + \" + 1, d2)\\n              );\\n\\n              if (\" + p + \") {\\n                vec2 xValues = vec2(\\n                  getX(batch, xR, xC, \" + f + \"),\\n                  getX(batch, xR, xC, \" + f + \" + 1)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else {\\n                vec2 xValues = vec2(\\n                  getX(batch, \" + f + \", xR, xC),\\n                  getX(batch, \" + f + \" + 1, xR, xC)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n\\n            } else if (\" + (3 === d) + \") {\\n              vec3 wValues = vec3(\\n                getW(wR, wC, \" + f + \", d2),\\n                getW(wR, wC, \" + f + \" + 1, d2),\\n                getW(wR, wC, \" + f + \" + 2, d2)\\n              );\\n\\n              if (\" + p + \") {\\n                vec3 xValues = vec3(\\n                  getX(batch, xR, xC, \" + f + \"),\\n                  getX(batch, xR, xC, \" + f + \" + 1),\\n                  getX(batch, xR, xC, \" + f + \" + 2)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else {\\n                vec3 xValues = vec3(\\n                  getX(batch, \" + f + \", xR, xC),\\n                  getX(batch, \" + f + \" + 1, xR, xC),\\n                  getX(batch, \" + f + \" + 2, xR, xC)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n\\n            }\\n          }\\n        }\\n\\n        float result = dotProd;\\n        \" + b + \"\\n        \" + x + \"\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        Ja = function(t) {\r\n            this.variableNames = [\"x\", \"W\"], this.outputShape = t.outShape;\r\n            var e = t.padInfo.front,\r\n                n = t.padInfo.top,\r\n                r = t.padInfo.left,\r\n                o = t.strideDepth,\r\n                a = t.strideHeight,\r\n                i = t.strideWidth,\r\n                s = t.dilationDepth,\r\n                u = t.dilationHeight,\r\n                c = t.dilationWidth,\r\n                l = t.filterDepth,\r\n                h = t.filterHeight,\r\n                f = t.filterWidth,\r\n                d = 4 * Math.floor(t.inChannels / 4),\r\n                p = t.inChannels % 4;\r\n            this.userCode = \"\\n      const ivec3 strides = ivec3(\" + o + \", \" + a + \", \" + i + \");\\n      const ivec3 pads = ivec3(\" + e + \", \" + n + \", \" + r + \");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int d2 = coords.u;\\n\\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\\n        int xFCorner = xFRCCorner.x;\\n        int xRCorner = xFRCCorner.y;\\n        int xCCorner = xFRCCorner.z;\\n\\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\\n        // values in that axis.\\n        float dotProd = 0.0;\\n        for (int wF = 0; wF < \" + l + \"; wF++) {\\n          int xF = xFCorner + wF * \" + s + \";\\n\\n          if (xF < 0 || xF >= \" + t.inDepth + \") {\\n            continue;\\n          }\\n\\n          for (int wR = 0; wR < \" + h + \"; wR++) {\\n            int xR = xRCorner + wR * \" + u + \";\\n\\n            if (xR < 0 || xR >= \" + t.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \" + f + \"; wC++) {\\n              int xC = xCCorner + wC * \" + c + \";\\n\\n              if (xC < 0 || xC >= \" + t.inWidth + \") {\\n                continue;\\n              }\\n\\n              for (int d1 = 0; d1 < \" + d + \"; d1 += 4) {\\n                vec4 xValues = vec4(\\n                  getX(batch, xF, xR, xC, d1),\\n                  getX(batch, xF, xR, xC, d1 + 1),\\n                  getX(batch, xF, xR, xC, d1 + 2),\\n                  getX(batch, xF, xR, xC, d1 + 3)\\n                );\\n                vec4 wValues = vec4(\\n                  getW(wF, wR, wC, d1, d2),\\n                  getW(wF, wR, wC, d1 + 1, d2),\\n                  getW(wF, wR, wC, d1 + 2, d2),\\n                  getW(wF, wR, wC, d1 + 3, d2)\\n                );\\n\\n                dotProd += dot(xValues, wValues);\\n              }\\n\\n              if (\" + (1 === p) + \") {\\n                dotProd +=\\n                  getX(batch, xF, xR, xC, \" + d + \") *\\n                  getW(wF, wR, wC, \" + d + \", d2);\\n              } else if (\" + (2 === p) + \") {\\n                vec2 xValues = vec2(\\n                  getX(batch, xF, xR, xC, \" + d + \"),\\n                  getX(batch, xF, xR, xC, \" + d + \" + 1)\\n                );\\n                vec2 wValues = vec2(\\n                  getW(wF, wR, wC, \" + d + \", d2),\\n                  getW(wF, wR, wC, \" + d + \" + 1, d2)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else if (\" + (3 === p) + \") {\\n                vec3 xValues = vec3(\\n                  getX(batch, xF, xR, xC, \" + d + \"),\\n                  getX(batch, xF, xR, xC, \" + d + \" + 1),\\n                  getX(batch, xF, xR, xC, \" + d + \" + 2)\\n                );\\n                vec3 wValues = vec3(\\n                  getW(wF, wR, wC, \" + d + \", d2),\\n                  getW(wF, wR, wC, \" + d + \" + 1, d2),\\n                  getW(wF, wR, wC, \" + d + \" + 2, d2)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Za = function(t, e, n, r) {\r\n            void 0 === e && (e = !1), void 0 === n && (n = null), void 0 === r && (r = !1), this.variableNames = [\"x\", \"W\"], this.outputShape = t.outShape;\r\n            var o = t.inHeight,\r\n                a = t.inWidth,\r\n                i = t.padInfo.top,\r\n                s = t.padInfo.left,\r\n                u = t.strideHeight,\r\n                c = t.strideWidth,\r\n                l = t.dilationHeight,\r\n                h = t.dilationWidth,\r\n                f = t.filterHeight,\r\n                d = t.filterWidth,\r\n                p = t.outChannels / t.inChannels,\r\n                v = \"\",\r\n                m = \"\";\r\n            n && (v = r ? \"float activation(float a) {\\n          float b = getPreluActivationWeightsAtOutCoords();\\n          \" + n + \"\\n        }\" : \"\\n          float activation(float x) {\\n            \" + n + \"\\n          }\\n        \", m = \"result = activation(result);\");\r\n            var g = e ? \"result += getBiasAtOutCoords();\" : \"\";\r\n            e && this.variableNames.push(\"bias\"), r && this.variableNames.push(\"preluActivationWeights\"), this.userCode = \"\\n      \" + v + \"\\n\\n      const ivec2 strides = ivec2(\" + u + \", \" + c + \");\\n      const ivec2 pads = ivec2(\" + i + \", \" + s + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords.x;\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int d2 = coords.w;\\n        int d1 = d2 / \" + p + \";\\n        int q = d2 - d1 * \" + p + \";\\n\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\\n        for (int wR = 0; wR < \" + f + \"; wR++) {\\n          int xR = xRCorner + wR * \" + l + \";\\n\\n          if (xR < 0 || xR >= \" + o + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + d + \"; wC++) {\\n            int xC = xCCorner + wC * \" + h + \";\\n\\n            if (xC < 0 || xC >= \" + a + \") {\\n              continue;\\n            }\\n\\n            float xVal = getX(batch, xR, xC, d1);\\n            float wVal = getW(wR, wC, d1, q);\\n            dotProd += xVal * wVal;\\n          }\\n        }\\n\\n        float result = dotProd;\\n        \" + g + \"\\n        \" + m + \"\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        ti = function(t, e, n, r) {\r\n            void 0 === e && (e = !1), void 0 === n && (n = null), void 0 === r && (r = !1), this.variableNames = [\"x\", \"W\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t.outShape;\r\n            for (var o = t.inHeight, a = t.inWidth, i = t.padInfo.top, s = t.padInfo.left, u = t.strideHeight, c = t.strideWidth, l = t.dilationHeight, h = t.dilationWidth, f = t.filterHeight, d = t.filterWidth, p = d, v = \"int xR; int xC; int xCOffset;\", m = 0; m < f; m++)\r\n                for (var g = 0; g < d; g++) v += \"\\n          vec4 xTexelR\" + m + \"C\" + 2 * g + \" = vec4(0.);\\n          vec4 wR\" + m + \"C\" + g + \" = vec4(0.);\\n          vec4 xR\" + m + \"C\" + g + \" = vec4(0.);\";\r\n            for (m = 0; m < f; m++)\r\n                for (var y = 0; y < p; y++) {\r\n                    if (v += \"\\n          xR = xRCorner + \" + m * l + \";\\n          xC = xCCorner + \" + (g = 2 * y) * h + \";\\n        \", 1 === c) {\r\n                        if (g < d && (v += s % 2 == 1 ? \"\\n                xCOffset = xC + 1;\\n                if(xR >= 0 && xR < \" + o + \" && xCOffset >= 0 && xCOffset < \" + a + \") {\\n                  xTexelR\" + m + \"C\" + g + \" = getX(batch, xR, xCOffset, d1);\\n\\n                  // Need to manually clear unused channels in case\\n                  // we're reading from recycled texture.\\n                  if(xCOffset + 1 >= \" + a + \") {\\n                    xTexelR\" + m + \"C\" + g + \".zw = vec2(0.);\\n                  }\\n                } else {\\n                  xTexelR\" + m + \"C\" + g + \" = vec4(0.);\\n                }\\n\\n                xCOffset = xC + 1 - 2;\\n                if(xR >= 0 && xR < \" + o + \" && xCOffset >= 0 && xCOffset < \" + a + \") {\\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\\n\\n                  // Need to manually clear unused channels in case\\n                  // we're reading from recycled texture.\\n                  if(xCOffset + 1 >= \" + a + \") {\\n                    previous.zw = vec2(0.);\\n                  }\\n\\n                  xR\" + m + \"C\" + g + \" = vec4(previous.zw, xTexelR\" + m + \"C\" + g + \".xy);\\n                } else {\\n                  xR\" + m + \"C\" + g + \" = vec4(0, 0, xTexelR\" + m + \"C\" + g + \".xy);\\n                }\\n              \" : \"\\n                if(xR >= 0 && xR < \" + o + \" && xC >= 0 && xC < \" + a + \") {\\n                  xTexelR\" + m + \"C\" + g + \" = getX(batch, xR, xC, d1);\\n                } else {\\n                  xTexelR\" + m + \"C\" + g + \" = vec4(0.);\\n                }\\n\\n                xR\" + m + \"C\" + g + \" = xTexelR\" + m + \"C\" + g + \";\\n              \", g + 1 < d)) {\r\n                            var x = s % 2 == 0 ? b(h) : h;\r\n                            h % 2 == 0 && s % 2 == 1 || h % 2 != 0 && s % 2 != 1 ? (v += \"\\n                  xCOffset = xC + \" + s % 2 + \" + \" + x + \";\\n\\n                  if(xR >= 0 && xR < \" + o + \" &&\\n                    xCOffset >= 0 && xCOffset < \" + a + \") {\\n                    xTexelR\" + m + \"C\" + (g + 2) + \" = getX(batch, xR, xCOffset, d1);\\n                  }\\n                \", h > 1 && (v += \"\\n                    xCOffset -= 2;\\n                    if(xR >= 0 && xR < \" + o + \" &&\\n                      xCOffset >= 0 && xCOffset < \" + a + \") {\\n                      xTexelR\" + m + \"C\" + g + \" = getX(batch, xR, xCOffset, d1);\\n                    } else {\\n                      xTexelR\" + m + \"C\" + g + \" = vec4(0.);\\n                    }\\n                  \"), v += \"\\n                  xR\" + m + \"C\" + (g + 1) + \" = vec4(\\n                    xTexelR\" + m + \"C\" + g + \".zw, xTexelR\" + m + \"C\" + (g + 2) + \".xy);\\n                \") : v += \"\\n                  xCOffset = xC + \" + x + \";\\n\\n                  if(xR >= 0 && xR < \" + o + \" &&\\n                    xCOffset >= 0 && xCOffset < \" + a + \") {\\n                    xTexelR\" + m + \"C\" + (g + 2) + \" = getX(batch, xR, xCOffset, d1);\\n                  }\\n\\n                  xR\" + m + \"C\" + (g + 1) + \" = xTexelR\" + m + \"C\" + (g + 2) + \";\\n                \";\r\n                        }\r\n                    } else g < d && (v += \"\\n              if(xR >= 0 && xR < \" + o + \") {\\n            \", s % 2 == 1 ? (v += \"\\n                xCOffset = xC + 1 - \" + c + \";\\n                if(xCOffset >= 0 && xCOffset < \" + a + \") {\\n                  xTexelR\" + m + \"C\" + g + \" = getX(batch, xR, xCOffset, d1);\\n                } else {\\n                  xTexelR\" + m + \"C\" + g + \" = vec4(0.);\\n                }\\n\\n                if(xC + 1 >= 0 && xC + 1 < \" + a + \") {\\n                  xTexelR\" + m + \"C\" + (g + 2) + \" = getX(batch, xR, xC + 1, d1);\\n                } else {\\n                  xTexelR\" + m + \"C\" + (g + 2) + \" = vec4(0.);\\n                }\\n\\n                xR\" + m + \"C\" + g + \" = vec4(\\n                  xTexelR\" + m + \"C\" + g + \".zw, xTexelR\" + m + \"C\" + (g + 2) + \".zw);\\n              \", g + 1 < d && (v += \"\\n                  vec4 final = vec4(0.);\\n                  xCOffset = xC + 1 + \" + c + \";\\n                  if(xCOffset >= 0 && xCOffset < \" + a + \") {\\n                    final = getX(batch, xR, xCOffset, d1);\\n                  }\\n                  xR\" + m + \"C\" + (g + 1) + \" = vec4(xTexelR\" + m + \"C\" + (g + 2) + \".xy, final.xy);\\n                \")) : (v += \"\\n                if(xC >= 0 && xC < \" + a + \") {\\n                  xTexelR\" + m + \"C\" + g + \" = getX(batch, xR, xC, d1);\\n                } else {\\n                  xTexelR\" + m + \"C\" + g + \" = vec4(0.);\\n                }\\n\\n                xCOffset = xC + \" + c + \";\\n                if(xCOffset >= 0 && xCOffset < \" + a + \") {\\n                  xTexelR\" + m + \"C\" + (g + 2) + \" = getX(batch, xR, xCOffset, d1);\\n                } else {\\n                  xTexelR\" + m + \"C\" + (g + 2) + \" = vec4(0.);\\n                }\\n\\n                xR\" + m + \"C\" + g + \" = vec4(\\n                  xTexelR\" + m + \"C\" + g + \".xy, xTexelR\" + m + \"C\" + (g + 2) + \".xy);\\n              \", g + 1 < d && (v += \"\\n                  xR\" + m + \"C\" + (g + 1) + \" = vec4(\\n                    xTexelR\" + m + \"C\" + g + \".zw, xTexelR\" + m + \"C\" + (g + 2) + \".zw);\\n                \")), v += \"}\");\r\n                    g < d && (v += \"\\n            vec4 wTexelR\" + m + \"C\" + g + \" = getW(\" + m + \", \" + g + \", d1, q);\\n            wR\" + m + \"C\" + g + \" = vec4(wTexelR\" + m + \"C\" + g + \".xz, wTexelR\" + m + \"C\" + g + \".xz);\\n          \", g + 1 < d && (v += \"\\n              vec4 wTexelR\" + m + \"C\" + (g + 1) + \" = getW(\" + m + \", \" + (g + 1) + \", d1, q);\\n              wR\" + m + \"C\" + (g + 1) + \" =\\n                vec4(wTexelR\" + m + \"C\" + (g + 1) + \".xz, wTexelR\" + m + \"C\" + (g + 1) + \".xz);\"));\r\n                }\r\n            for (m = 0; m < f; m++)\r\n                for (g = 0; g < d; g++) v += \"dotProd += xR\" + m + \"C\" + g + \" * wR\" + m + \"C\" + g + \";\";\r\n            var w = \"\",\r\n                C = \"\";\r\n            n && (w = r ? \"vec4 activation(vec4 a) {\\n          vec4 b = getPreluActivationWeightsAtOutCoords();\\n          \" + n + \"\\n        }\" : \"vec4 activation(vec4 x) {\\n          \" + n + \"\\n        }\", C = \"result = activation(result);\");\r\n            var E = e ? \"result += getBiasAtOutCoords();\" : \"\";\r\n            e && this.variableNames.push(\"bias\"), r && this.variableNames.push(\"preluActivationWeights\"), this.userCode = \"\\n      \" + w + \"\\n\\n      const ivec2 strides = ivec2(\" + u + \", \" + c + \");\\n      const ivec2 pads = ivec2(\" + i + \", \" + s + \");\\n\\n      void main() {\\n\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords.x;\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int d2 = coords.w;\\n        int d1 = d2;\\n        int q = 0;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        vec4 dotProd = vec4(0.);\\n\\n        \" + v + \"\\n\\n        vec4 result = dotProd;\\n        \" + E + \"\\n        \" + C + \"\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        ei = function(t, e, n, r, o) {\r\n            this.variableNames = [\"Image\", \"Boxes\", \"BoxInd\"], this.outputShape = [];\r\n            var a = t[0],\r\n                i = t[1],\r\n                s = t[2],\r\n                u = t[3],\r\n                c = e[0],\r\n                l = n[0],\r\n                h = n[1];\r\n            this.outputShape = [c, l, h, u];\r\n            var f = \"bilinear\" === r ? 1 : 0,\r\n                d = [i - 1 + \".0\", s - 1 + \".0\"],\r\n                p = d[0],\r\n                v = d[1],\r\n                m = l > 1 ? [\"\" + (i - 1) / (l - 1), \"(y2-y1) * height_ratio\", \"y1*\" + p + \" + float(y)*(height_scale)\"] : [\"0.0\", \"0.0\", \"0.5 * (y1+y2) * \" + p],\r\n                g = m[0],\r\n                y = m[1],\r\n                x = m[2],\r\n                b = h > 1 ? [\"\" + (s - 1) / (h - 1), \"(x2-x1) * width_ratio\", \"x1*\" + v + \" + float(x)*(width_scale)\"] : [\"0.0\", \"0.0\", \"0.5 * (x1+x2) * \" + v],\r\n                w = b[0],\r\n                C = b[1],\r\n                E = b[2];\r\n            this.userCode = \"\\n      const float height_ratio = float(\" + g + \");\\n      const float width_ratio = float(\" + w + \");\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int y = coords[1];\\n        int x = coords[2];\\n        int d = coords[3];\\n\\n        // get box vals\\n        float y1 = getBoxes(b,0);\\n        float x1 = getBoxes(b,1);\\n        float y2 = getBoxes(b,2);\\n        float x2 = getBoxes(b,3);\\n\\n        // get image in batch index\\n        int bInd = round(getBoxInd(b));\\n        if(bInd < 0 || bInd >= \" + a + \") {\\n          return;\\n        }\\n\\n        float height_scale = \" + y + \";\\n        float width_scale = \" + C + \";\\n\\n        float in_y = \" + x + \";\\n        if( in_y < 0.0 || in_y > \" + p + \" ) {\\n          setOutput(float(\" + o + \"));\\n          return;\\n        }\\n        float in_x = \" + E + \";\\n        if( in_x < 0.0 || in_x > \" + v + \" ) {\\n          setOutput(float(\" + o + \"));\\n          return;\\n        }\\n\\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\\n        if(\" + f + \" == 1) {\\n          // Compute the four integer indices.\\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\\n\\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\\n\\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\\n\\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\\n          float newValue = top + (bottom - top) * fracCR.y;\\n          setOutput(newValue);\\n        } else {\\n          // Compute the coordinators of nearest neighbor point.\\n          ivec2 sourceNearestCR = ivec2(floor(\\n            sourceFracIndexCR + vec2(0.5,0.5)));\\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\\n          setOutput(newValue);\\n        }\\n      }\\n    \";\r\n        },\r\n        ni = function(t, e, n) {\r\n            this.variableNames = [\"x\"], this.outputShape = t;\r\n            var r = t.length,\r\n                o = t[t.length - 1],\r\n                a = n ? \"<\" : \">\";\r\n            this.userCode = \"\\n      int getIndex(int i) {\\n        \" + (n ? \"return \" + o + \" -i - 1;\" : \"return i;\") + \"\\n      }\\n\\n      void main() {\\n        \" + wa(r) + \" coords = getOutputCoords();\\n        int end = \" + ri(r, \"coords\") + \";\\n        float val = 0.0;\\n        for (int i = \" + o + \" - 1; i >= 0; i -= 1) {\\n          int idx = getIndex(i);\\n          if (idx \" + a + \" end) {\\n            continue;\\n          }\\n          if (idx == end && \" + e + \") {\\n            continue;\\n          }\\n          \" + ri(r, \"coords\") + \" = idx;\\n          val += getX(\" + function(t, e) { if (1 === t) return \"\" + e; if (2 === t) return e + \".x, \" + e + \".y\"; if (3 === t) return e + \".x, \" + e + \".y, \" + e + \".z\"; if (4 === t) return e + \".x, \" + e + \".y, \" + e + \".z, \" + e + \".w\"; throw Error(\"Cumulative sum for rank \" + t + \" is not yet supported\") }(r, \"coords\") + \");\\n        }\\n        setOutput(val);\\n      }\\n    \";\r\n        };\r\n\r\n    function ri(t, e) { if (1 === t) return \"\" + e; if (2 === t) return e + \".y\"; if (3 === t) return e + \".z\"; if (4 === t) return e + \".w\"; throw Error(\"Cumulative sum for rank \" + t + \" is not yet supported\") }\r\n    var oi = function(t) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !1, this.packedOutput = !0, this.outPackingScheme = Vt.DENSE;\r\n            var e = Yt(t),\r\n                n = ua();\r\n            this.outputShape = t, this.userCode = \"\\n      ivec3 outCoordsFromFlatIndex(int index) {\\n        \" + ca([\"r\", \"c\", \"d\"], t) + \"\\n        return ivec3(r, c, d);\\n      }\\n\\n      void main() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n          vec2(\" + e[0] + \", \" + e[1] + \"));\\n        int index = 4 * (resTexRC.x * \" + e[1] + \" + resTexRC.y);\\n\\n        vec4 result = vec4(0.);\\n\\n        for (int i=0; i<4; i++) {\\n          int flatIndex = index + i;\\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\\n          result[i] = getA(rc.x, rc.y, rc.z);\\n        }\\n\\n        \" + n.output + \" = result;\\n      }\\n    \";\r\n        },\r\n        ai = function(t) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, this.outPackingScheme = Vt.DENSE;\r\n            var e = Yt(t),\r\n                n = ua();\r\n            this.outputShape = t, this.userCode = \"\\n      ivec3 outCoordsFromFlatIndex(int index) {\\n        \" + ca([\"r\", \"c\", \"d\"], t) + \"\\n        return ivec3(r, c, d);\\n      }\\n\\n      void main() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n          vec2(\" + e[0] + \", \" + e[1] + \"));\\n        int index = 4 * (resTexRC.x * \" + e[1] + \" + resTexRC.y);\\n\\n        vec4 result = vec4(0.);\\n\\n        for (int i=0; i<4; i++) {\\n          int flatIndex = index + i;\\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\\n        }\\n\\n        \" + n.output + \" = result;\\n      }\\n    \";\r\n        },\r\n        ii = function() {\r\n            function t(t, e, n) { this.variableNames = [\"x\"], this.outputShape = [], this.outputShape = t, this.blockSize = e, this.dataFormat = n, this.userCode = \"\\n    void main() {\\n      ivec4 coords = getOutputCoords();\\n      int b = coords[0];\\n      int h = \" + this.getHeightCoordString() + \";\\n      int w = \" + this.getWidthCoordString() + \";\\n      int d = \" + this.getDepthCoordString() + \";\\n\\n      int in_h = h / \" + e + \";\\n      int offset_h = imod(h, \" + e + \");\\n      int in_w = w / \" + e + \";\\n      int offset_w = imod(w, \" + e + \");\\n      int offset_d = (offset_h * \" + e + \" + offset_w) *\\n        \" + this.getOutputDepthSize() + \";\\n      int in_d = d + offset_d;\\n\\n      float result = \" + this.getInputSamplingString() + \";\\n      setOutput(result);\\n    }\\n  \"; }\r\n            return t.prototype.getHeightCoordString = function() { return \"NHWC\" === this.dataFormat ? \"coords[1]\" : \"coords[2]\" }, t.prototype.getWidthCoordString = function() { return \"NHWC\" === this.dataFormat ? \"coords[2]\" : \"coords[3]\" }, t.prototype.getDepthCoordString = function() { return \"NHWC\" === this.dataFormat ? \"coords[3]\" : \"coords[1]\" }, t.prototype.getOutputDepthSize = function() { return \"NHWC\" === this.dataFormat ? this.outputShape[3] : this.outputShape[1] }, t.prototype.getInputSamplingString = function() { return \"NHWC\" === this.dataFormat ? \"getX(b, in_h, in_w, in_d)\" : \"getX(b, in_d, in_h, in_w)\" }, t\r\n        }(),\r\n        si = function(t) { this.variableNames = [\"X\"], this.outputShape = [t, t], this.userCode = \"\\n      void main() {\\n          ivec2 coords = getOutputCoords();\\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\\n          setOutput(val);\\n      }\\n    \"; },\r\n        ui = function(t) {\r\n            this.variableNames = [\"A\"], this.outTexUsage = zt.DOWNLOAD;\r\n            var e = ua();\r\n            this.outputShape = t, this.userCode = \"\\n      \" + ha + \"\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        \" + e.output + \" = encode_float(x);\\n      }\\n    \";\r\n        },\r\n        ci = function(t) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !1, this.outTexUsage = zt.DOWNLOAD;\r\n            var e = ua();\r\n            this.outputShape = t, this.userCode = \"\\n      \" + ha + \"\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\\n        \" + e.output + \" = encode_float(x);\\n      }\\n    \";\r\n        },\r\n        li = function(t, e, n) {\r\n            void 0 === n && (n = !1), this.variableNames = [\"A\"];\r\n            var r = ua(),\r\n                o = e[0],\r\n                a = e[1];\r\n            this.outputShape = t;\r\n            var i = \"result\";\r\n            n && (i = \"floor(result * 255. + 0.5)\"), this.userCode = \"\\n      \" + la(t) + \"\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n\\n        int flatIndex = getFlatIndex(coords);\\n        int offset = imod(flatIndex, 4);\\n\\n        flatIndex = idiv(flatIndex, 4, 1.);\\n        \\n        int r = flatIndex / \" + a + \";\\n        int c = imod(flatIndex, \" + a + \");\\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(\" + a + \".0, \" + o + \".0);\\n        vec4 values = \" + r.texture2D + \"(A, uv);\\n\\n        float result;\\n\\n        if(offset == 0) {\\n          result = values[0];\\n        } else if(offset == 1) {\\n          result = values[1];\\n        } else if(offset == 2) {\\n          result = values[2];\\n        } else {\\n          result = values[3];\\n        }\\n\\n        \" + r.output + \" = vec4(\" + i + \", 0., 0., 0.);\\n      }\\n    \";\r\n        },\r\n        hi = function(t, e, n) {\r\n            void 0 === n && (n = !1), this.variableNames = [\"A\"], this.packedInputs = !1, this.packedOutput = !0;\r\n            var r = ua(),\r\n                o = e[0],\r\n                a = e[1];\r\n            this.outputShape = t;\r\n            var i = \"\",\r\n                s = \"result\";\r\n            n && (s = \"floor(result * 255. + 0.5)\");\r\n            for (var u = 0; u <= 1; u++)\r\n                for (var c = 0; c <= 1; c++) {\r\n                    var l = 2 * u + c;\r\n                    i += \"\\n          localCoords = coords;\\n          if(localCoords[2] + \" + c + \" < \" + t[2] + \") {\\n            localCoords[2] += \" + c + \";\\n            if(localCoords[1] + \" + u + \" < \" + t[1] + \") {\\n              localCoords[1] += \" + u + \";\\n\\n              flatIndex = getFlatIndex(localCoords);\\n              offset = imod(flatIndex, 4);\\n\\n              flatIndex = idiv(flatIndex, 4, 1.);\\n\\n              r = flatIndex / \" + a + \";\\n              c = imod(flatIndex, \" + a + \");\\n              uv = (vec2(c, r) + halfCR) / vec2(\" + a + \".0, \" + o + \".0);\\n              values = \" + r.texture2D + \"(A, uv);\\n\\n              if(offset == 0) {\\n                result[\" + l + \"] = values[0];\\n              } else if(offset == 1) {\\n                result[\" + l + \"] = values[1];\\n              } else if(offset == 2) {\\n                result[\" + l + \"] = values[2];\\n              } else {\\n                result[\" + l + \"] = values[3];\\n              }\\n            }\\n          }\\n        \";\r\n                }\r\n            this.userCode = \"\\n      \" + la(t) + \"\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n\\n        vec4 result = vec4(0.);\\n        int flatIndex, r, c, offset;\\n        ivec3 localCoords;\\n        vec2 uv;\\n        vec4 values;\\n\\n        \" + i + \"\\n\\n        \" + r.output + \" = \" + s + \";\\n      }\\n    \";\r\n        },\r\n        fi = \"return real * expR - imag * expI;\",\r\n        di = \"return real * expI + imag * expR;\",\r\n        pi = function(t, e, n) {\r\n            this.variableNames = [\"real\", \"imag\"];\r\n            var r = e[1];\r\n            this.outputShape = e;\r\n            var o = n ? \"2.0 * \" + Math.PI : \"-2.0 * \" + Math.PI,\r\n                a = n ? r + \".0\" : \"1.0\";\r\n            this.userCode = \"\\n      const float exponentMultiplier = \" + o + \";\\n\\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\\n        \" + t + \"\\n      }\\n\\n      float mulMatDFT(int batch, int index) {\\n        float indexRatio = float(index) / float(\" + r + \");\\n        float exponentMultiplierTimesIndexRatio =\\n            exponentMultiplier * indexRatio;\\n\\n        float result = 0.0;\\n\\n        for (int i = 0; i < \" + r + \"; i++) {\\n          // x = (-2|2 * PI / N) * index * i;\\n          float x = exponentMultiplierTimesIndexRatio * float(i);\\n          float expR = cos(x);\\n          float expI = sin(x);\\n          float real = getReal(batch, i);\\n          float imag = getImag(batch, i);\\n\\n          result +=\\n              unaryOpComplex(real, expR, imag, expI) / \" + a + \";\\n        }\\n\\n        return result;\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        setOutput(mulMatDFT(coords[0], coords[1]));\\n      }\\n    \";\r\n        },\r\n        vi = function() {\r\n            function t(t, e) { this.outputShape = [], this.variableNames = [\"x\"], this.outputShape = t, this.userCode = \"\\n      uniform float value;\\n      void main() {\\n        // Input can be obtained from uniform value.\\n        setOutput(value);\\n      }\\n    \"; }\r\n            return t.prototype.getCustomSetupFunc = function(t) { var e = this; return function(n, r) { null == e.valueLoc && (e.valueLoc = n.getUniformLocationNoThrow(r, \"value\")), n.gl.uniform1f(e.valueLoc, t); } }, t\r\n        }(),\r\n        mi = function(t, e, n) {\r\n            this.variableNames = [\"A\", \"indices\"];\r\n            var r = t.slice();\r\n            r[n] = e, this.outputShape = r, this.rank = r.length;\r\n            var o = wa(this.rank),\r\n                a = function(t, e) { var n = t.length; if (n > 4) throw Error(\"Gather for rank \" + n + \" is not yet supported\"); if (1 === n) return \"int(getIndices(resRC))\"; for (var r = [\"resRC.x\", \"resRC.y\", \"resRC.z\", \"resRC.w\"], o = [], a = 0; a < t.length; a++) a === e ? o.push(\"int(getIndices(\" + r[a] + \"))\") : o.push(\"\" + r[a]); return o.join() }(t, n);\r\n            this.userCode = \"\\n      void main() {\\n        \" + o + \" resRC = getOutputCoords();\\n        setOutput(getA(\" + a + \"));\\n      }\\n    \";\r\n        };\r\n    var gi = function(t, e, n) {\r\n        this.sliceDim = t, this.strides = e, this.variableNames = [\"x\", \"indices\"], this.outputShape = n;\r\n        var r = wa(e.length),\r\n            o = wa(n.length),\r\n            a = this.sliceDim > 1 ? \"strides[j]\" : \"strides\";\r\n        this.userCode = \"\\n        \" + r + \" strides = \" + r + \"(\" + this.strides + \");\\n         void main() {\\n          \" + o + \" coords = getOutputCoords();\\n          int flattenIndex = 0;\\n          for (int j = 0; j < \" + this.sliceDim + \"; j++) {\\n            int index = round(getIndices(coords[0], j));\\n            flattenIndex += index * \" + a + \";\\n          }\\n          setOutput(getX(flattenIndex, coords[1]));\\n        }\\n      \";\r\n    };\r\n\r\n    function yi(t, e) { var n = ua(); return oe(t, e, n.version + \"\\n    precision highp float;\\n    \" + n.attribute + \" vec3 clipSpacePos;\\n    \" + n.attribute + \" vec2 uv;\\n    \" + n.varyingVs + \" vec2 resultUV;\\n\\n    void main() {\\n      gl_Position = vec4(clipSpacePos, 1);\\n      resultUV = uv;\\n    }\") }\r\n\r\n    function xi(t, e) { return fe(t, e, new Float32Array([-1, 1, 0, 0, 1, -1, -1, 0, 0, 0, 1, 1, 0, 1, 1, 1, -1, 0, 1, 0])) }\r\n\r\n    function bi(t, e) { return de(t, e, new Uint16Array([0, 1, 2, 2, 1, 3])) }\r\n\r\n    function wi(t, e, n, r, o, a, i) {\r\n        ve(n, r);\r\n        var s = pe(t, e),\r\n            u = t.TEXTURE_2D;\r\n        return Jt(t, e, (function() { return t.bindTexture(u, s) })), Jt(t, e, (function() { return t.texParameteri(u, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE) })), Jt(t, e, (function() { return t.texParameteri(u, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE) })), Jt(t, e, (function() { return t.texParameteri(u, t.TEXTURE_MIN_FILTER, t.NEAREST) })), Jt(t, e, (function() { return t.texParameteri(u, t.TEXTURE_MAG_FILTER, t.NEAREST) })), Jt(t, e, (function() { return t.texImage2D(u, 0, o, n, r, 0, a, i, null) })), Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, null) })), s\r\n    }\r\n\r\n    function Ci(t, e, n, r, o) { var a = Xt(n, r); return wi(t, e, a[0], a[1], o.internalFormatFloat, o.textureFormatFloat, t.FLOAT) }\r\n\r\n    function Ei(t, e, n, r, o) { var a = Xt(n, r); return wi(t, e, a[0], a[1], o.internalFormatHalfFloat, o.textureFormatFloat, o.textureTypeHalfFloat) }\r\n\r\n    function Ri(t, e, n, r, o) { var a = Xt(n, r); return wi(t, e, a[0], a[1], t.RGBA, t.RGBA, t.UNSIGNED_BYTE) }\r\n\r\n    function Ii(t, e, n, r, o) { var a = $t(n, r); return wi(t, e, a[0], a[1], o.internalFormatPackedFloat, t.RGBA, t.FLOAT) }\r\n\r\n    function ki(t, e, n, r, o) { var a = $t(n, r); return wi(t, e, a[0], a[1], o.internalFormatPackedHalfFloat, t.RGBA, o.textureTypeHalfFloat) }\r\n\r\n    function Si(t, e, n, r) { return Jt(t, e, (function() { return t.bindBuffer(t.ARRAY_BUFFER, r) })), ge(t, e, n, \"clipSpacePos\", r, 3, 20, 0) && ge(t, e, n, \"uv\", r, 2, 20, 12) }\r\n\r\n    function Ai(t, e, n, r, o, a, i) {\r\n        var s, u, c;\r\n        Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, n) })), a instanceof Uint8Array ? (s = new Uint8Array(r * o * 4), u = t.UNSIGNED_BYTE, c = t.RGBA) : (s = new Float32Array(r * o * 4), u = t.FLOAT, c = i.internalFormatPackedFloat), s.set(a), Jt(t, e, (function() { return t.texImage2D(t.TEXTURE_2D, 0, c, r, o, 0, t.RGBA, u, s) })), Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, null) }));\r\n    }\r\n\r\n    function Di(t, e, n, r) { Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, n) })), r.data instanceof Uint8Array ? Jt(t, e, (function() { return t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, r.width, r.height, 0, t.RGBA, t.UNSIGNED_BYTE, r.data) })) : Jt(t, e, (function() { return t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, t.RGBA, t.UNSIGNED_BYTE, r) })), Jt(t, e, (function() { return t.bindTexture(t.TEXTURE_2D, null) })); }\r\n\r\n    function Ti(t, e, n, r, o) {\r\n        var a = t.createBuffer();\r\n        Jt(t, e, (function() { return t.bindBuffer(t.PIXEL_PACK_BUFFER, a) }));\r\n        var i = 16 * n * r;\r\n        return Jt(t, e, (function() { return t.bufferData(t.PIXEL_PACK_BUFFER, i, t.STREAM_READ) })), Jt(t, e, (function() { return t.readPixels(0, 0, r, n, t.RGBA, t.FLOAT, 0) })), Jt(t, e, (function() { return t.bindBuffer(t.PIXEL_PACK_BUFFER, null) })), a\r\n    }\r\n\r\n    function Ni(t, e, n) {\r\n        var r = t,\r\n            o = new Float32Array(n);\r\n        return r.bindBuffer(r.PIXEL_PACK_BUFFER, e), r.getBufferSubData(r.PIXEL_PACK_BUFFER, 0, o), r.bindBuffer(r.PIXEL_PACK_BUFFER, null), o\r\n    }\r\n\r\n    function Fi(t, e, n, r, o) {\r\n        var a = Xt(n, r),\r\n            i = a[0],\r\n            s = a[1],\r\n            u = new Uint8Array(n * r * 4);\r\n        return Jt(t, e, (function() { return t.readPixels(0, 0, i, s, o.downloadTextureFormat, t.UNSIGNED_BYTE, u) })), new Float32Array(u.buffer)\r\n    }\r\n\r\n    function _i(t, e, n, r, o, a, i, s) {\r\n        var u = t,\r\n            c = new Float32Array(function(t, e) { var n = $t(t, e); return n[0] * n[1] * 4 }(a, i));\r\n        return u.bindBuffer(u.PIXEL_PACK_BUFFER, e), u.getBufferSubData(u.PIXEL_PACK_BUFFER, 0, c), u.bindBuffer(u.PIXEL_PACK_BUFFER, null), c\r\n    }\r\n\r\n    function Oi(t, e, n, r) { var o = new Float32Array(n * r * 4); return Jt(t, e, (function() { return t.readPixels(0, 0, r, n, t.RGBA, t.FLOAT, o) })), o }\r\n    var Mi = Object.freeze({ createVertexShader: yi, createVertexBuffer: xi, createIndexBuffer: bi, createFloat32MatrixTexture: Ci, createFloat16MatrixTexture: Ei, createUnsignedBytesMatrixTexture: Ri, createPackedMatrixTexture: Ii, createFloat16PackedMatrixTexture: ki, bindVertexProgramAttributeStreams: Si, uploadDenseMatrixToTexture: Ai, uploadPixelDataToTexture: Di, createBufferFromOutputTexture: Ti, downloadFloat32MatrixFromBuffer: Ni, downloadByteEncodedFloatMatrixFromOutputTexture: Fi, downloadPackedMatrixFromBuffer: _i, downloadMatrixFromPackedOutputTexture: Oi }),\r\n        Bi = function() {\r\n            function t(t) {\r\n                this.outputTexture = null, this.program = null, this.disposed = !1, this.vertexAttrsAreBound = !1, this.itemsToPoll = [];\r\n                var e = i().getNumber(\"WEBGL_VERSION\");\r\n                null != t ? (this.gl = t, Kt(e, t)) : this.gl = jt(e);\r\n                var n = \"WEBGL_color_buffer_float\";\r\n                if (1 === i().getNumber(\"WEBGL_VERSION\")) {\r\n                    if (this.textureFloatExtension = re(this.gl, this.debug, \"OES_texture_float\"), Pe(this.gl, \"OES_texture_half_float\")) this.textureHalfFloatExtension = re(this.gl, this.debug, \"OES_texture_half_float\");\r\n                    else if (i().get(\"WEBGL_FORCE_F16_TEXTURES\")) throw new Error(\"GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.\");\r\n                    if (this.colorBufferFloatExtension = this.gl.getExtension(n), Pe(this.gl, \"EXT_color_buffer_half_float\")) this.colorBufferHalfFloatExtension = re(this.gl, this.debug, \"EXT_color_buffer_half_float\");\r\n                    else if (i().get(\"WEBGL_FORCE_F16_TEXTURES\")) throw new Error(\"GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.\")\r\n                } else if (n = \"EXT_color_buffer_float\", Pe(this.gl, n)) this.colorBufferFloatExtension = this.gl.getExtension(n);\r\n                else {\r\n                    if (!Pe(this.gl, \"EXT_color_buffer_half_float\")) throw new Error(\"GL context does not support color renderable floats\");\r\n                    this.colorBufferHalfFloatExtension = this.gl.getExtension(\"EXT_color_buffer_half_float\");\r\n                }\r\n                this.vertexBuffer = xi(this.gl, this.debug), this.indexBuffer = bi(this.gl, this.debug), this.framebuffer = me(this.gl, this.debug), this.textureConfig = Qt(this.gl, this.textureHalfFloatExtension);\r\n            }\r\n            return Object.defineProperty(t.prototype, \"debug\", { get: function() { return i().getBool(\"DEBUG\") }, enumerable: !0, configurable: !0 }), t.prototype.dispose = function() {\r\n                var t = this;\r\n                if (!this.disposed) {\r\n                    null != this.program && console.warn(\"Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing.\"), null != this.outputTexture && console.warn(\"Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.\");\r\n                    var e = this.gl;\r\n                    Jt(e, this.debug, (function() { return e.finish() })), Jt(e, this.debug, (function() { return e.bindFramebuffer(e.FRAMEBUFFER, null) })), Jt(e, this.debug, (function() { return e.deleteFramebuffer(t.framebuffer) })), Jt(e, this.debug, (function() { return e.bindBuffer(e.ARRAY_BUFFER, null) })), Jt(e, this.debug, (function() { return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, null) })), Jt(e, this.debug, (function() { return e.deleteBuffer(t.indexBuffer) })), this.disposed = !0;\r\n                }\r\n            }, t.prototype.createFloat32MatrixTexture = function(t, e) { return this.throwIfDisposed(), Ci(this.gl, this.debug, t, e, this.textureConfig) }, t.prototype.createFloat16MatrixTexture = function(t, e) { return this.throwIfDisposed(), Ei(this.gl, this.debug, t, e, this.textureConfig) }, t.prototype.createUnsignedBytesMatrixTexture = function(t, e) { return this.throwIfDisposed(), Ri(this.gl, this.debug, t, e, this.textureConfig) }, t.prototype.uploadPixelDataToTexture = function(t, e) { this.throwIfDisposed(), Di(this.gl, this.debug, t, e); }, t.prototype.uploadDenseMatrixToTexture = function(t, e, n, r) { this.throwIfDisposed(), Ai(this.gl, this.debug, t, e, n, r, this.textureConfig); }, t.prototype.createFloat16PackedMatrixTexture = function(t, e) { return this.throwIfDisposed(), ki(this.gl, this.debug, t, e, this.textureConfig) }, t.prototype.createPackedMatrixTexture = function(t, e) { return this.throwIfDisposed(), Ii(this.gl, this.debug, t, e, this.textureConfig) }, t.prototype.deleteMatrixTexture = function(t) {\r\n                var e = this;\r\n                this.throwIfDisposed(), this.outputTexture === t && (Ee(this.gl, this.debug, this.framebuffer), this.outputTexture = null), Jt(this.gl, this.debug, (function() { return e.gl.deleteTexture(t) }));\r\n            }, t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture = function(t, e, n) { var r = this; return this.downloadMatrixDriver(t, (function() { return Fi(r.gl, r.debug, e, n, r.textureConfig) })) }, t.prototype.downloadPackedMatrixFromBuffer = function(t, e, n, r, o, a) { return _i(this.gl, t, 0, 0, 0, o, a, this.textureConfig) }, t.prototype.downloadFloat32MatrixFromBuffer = function(t, e) { return Ni(this.gl, t, e) }, t.prototype.createBufferFromTexture = function(t, e, n) { this.bindTextureToFrameBuffer(t); var r = Ti(this.gl, this.debug, e, n, this.textureConfig); return this.unbindTextureToFrameBuffer(), r }, t.prototype.createAndWaitForFence = function() { var t = this.createFence(this.gl); return this.pollFence(t) }, t.prototype.createFence = function(t) {\r\n                var e, n, r = this;\r\n                if (i().getBool(\"WEBGL_FENCE_API_ENABLED\")) {\r\n                    var o = t,\r\n                        a = o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE, 0);\r\n                    t.flush(), n = function() { var t = o.clientWaitSync(a, 0, 0); return t === o.ALREADY_SIGNALED || t === o.CONDITION_SATISFIED }, e = a;\r\n                } else i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\") > 0 ? (e = this.beginQuery(), this.endQuery(), n = function() { return r.isQueryAvailable(e, i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")) }) : n = function() { return !0 };\r\n                return { query: e, isFencePassed: n }\r\n            }, t.prototype.downloadMatrixFromPackedTexture = function(t, e, n) { var r = this; return this.downloadMatrixDriver(t, (function() { return Oi(r.gl, r.debug, e, n) })) }, t.prototype.createProgram = function(t) {\r\n                this.throwIfDisposed();\r\n                var e = this.gl,\r\n                    n = ae(e, this.debug, t),\r\n                    r = yi(e, this.debug),\r\n                    o = ce(e, this.debug);\r\n                return Jt(e, this.debug, (function() { return e.attachShader(o, r) })), Jt(e, this.debug, (function() { return e.attachShader(o, n) })), le(e, this.debug, o), this.debug && he(e, this.debug, o), this.vertexAttrsAreBound || (this.setProgram(o), this.vertexAttrsAreBound = Si(e, this.debug, this.program, this.vertexBuffer)), o\r\n            }, t.prototype.deleteProgram = function(t) {\r\n                var e = this;\r\n                this.throwIfDisposed(), t === this.program && (this.program = null), null != t && Jt(this.gl, this.debug, (function() { return e.gl.deleteProgram(t) }));\r\n            }, t.prototype.setProgram = function(t) {\r\n                var e = this;\r\n                this.throwIfDisposed(), this.program = t, null != this.program && this.debug && he(this.gl, this.debug, this.program), Jt(this.gl, this.debug, (function() { return e.gl.useProgram(t) }));\r\n            }, t.prototype.getUniformLocation = function(t, e, n) { return void 0 === n && (n = !0), this.throwIfDisposed(), n ? xe(this.gl, this.debug, t, e) : be(this.gl, t, e) }, t.prototype.getAttributeLocation = function(t, e) { var n = this; return this.throwIfDisposed(), Jt(this.gl, this.debug, (function() { return n.gl.getAttribLocation(t, e) })) }, t.prototype.getUniformLocationNoThrow = function(t, e) { return this.throwIfDisposed(), this.gl.getUniformLocation(t, e) }, t.prototype.setInputMatrixTexture = function(t, e, n) { this.throwIfDisposed(), this.throwIfNoProgram(), we(this.gl, this.debug, this.program, t, e, n); }, t.prototype.setOutputMatrixTexture = function(t, e, n) { this.setOutputMatrixTextureDriver(t, n, e); }, t.prototype.setOutputPackedMatrixTexture = function(t, e, n) {\r\n                this.throwIfDisposed();\r\n                var r = $t(e, n),\r\n                    o = r[0],\r\n                    a = r[1];\r\n                this.setOutputMatrixTextureDriver(t, o, a);\r\n            }, t.prototype.setOutputMatrixWriteRegion = function(t, e, n, r) { this.setOutputMatrixWriteRegionDriver(n, t, r, e); }, t.prototype.setOutputPackedMatrixWriteRegion = function(t, e, n, r) { throw new Error(\"setOutputPackedMatrixWriteRegion not implemented.\") }, t.prototype.debugValidate = function() { null != this.program && he(this.gl, this.debug, this.program), Re(this.gl); }, t.prototype.executeProgram = function() {\r\n                this.throwIfDisposed(), this.throwIfNoProgram();\r\n                var t = this.gl;\r\n                this.debug && this.debugValidate(), Jt(t, this.debug, (function() { return t.drawElements(t.TRIANGLES, 6, t.UNSIGNED_SHORT, 0) }));\r\n            }, t.prototype.blockUntilAllProgramsCompleted = function() {\r\n                var t = this;\r\n                this.throwIfDisposed(), Jt(this.gl, this.debug, (function() { return t.gl.finish() }));\r\n            }, t.prototype.getQueryTimerExtension = function() { return null == this.disjointQueryTimerExtension && (this.disjointQueryTimerExtension = re(this.gl, this.debug, 2 === i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\") ? \"EXT_disjoint_timer_query_webgl2\" : \"EXT_disjoint_timer_query\")), this.disjointQueryTimerExtension }, t.prototype.getQueryTimerExtensionWebGL2 = function() { return this.getQueryTimerExtension() }, t.prototype.getQueryTimerExtensionWebGL1 = function() { return this.getQueryTimerExtension() }, t.prototype.beginQuery = function() {\r\n                if (2 === i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")) {\r\n                    var t = this.gl,\r\n                        e = this.getQueryTimerExtensionWebGL2(),\r\n                        n = t.createQuery();\r\n                    return t.beginQuery(e.TIME_ELAPSED_EXT, n), n\r\n                }\r\n                var r = this.getQueryTimerExtensionWebGL1(),\r\n                    o = r.createQueryEXT();\r\n                return r.beginQueryEXT(r.TIME_ELAPSED_EXT, o), o\r\n            }, t.prototype.endQuery = function() {\r\n                if (2 !== i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")) {\r\n                    var t = this.getQueryTimerExtensionWebGL1();\r\n                    t.endQueryEXT(t.TIME_ELAPSED_EXT);\r\n                } else {\r\n                    var e = this.gl,\r\n                        n = this.getQueryTimerExtensionWebGL2();\r\n                    e.endQuery(n.TIME_ELAPSED_EXT);\r\n                }\r\n            }, t.prototype.waitForQueryAndGetTime = function(t) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var e = this;\r\n                    return r(this, (function(n) {\r\n                        switch (n.label) {\r\n                            case 0:\r\n                                return [4, F((function() { return e.disposed || e.isQueryAvailable(t, i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")) }))];\r\n                            case 1:\r\n                                return n.sent(), [2, this.getQueryTime(t, i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\"))]\r\n                        }\r\n                    }))\r\n                }))\r\n            }, t.prototype.getQueryTime = function(t, e) { if (0 === e) return null; if (2 === e) { var n = this.gl; return n.getQueryParameter(t, n.QUERY_RESULT) / 1e6 } var r = this.getQueryTimerExtensionWebGL1(); return r.getQueryObjectEXT(t, r.QUERY_RESULT_EXT) / 1e6 }, t.prototype.isQueryAvailable = function(t, e) {\r\n                if (0 === e) return !0;\r\n                if (2 === e) {\r\n                    var n = this.gl,\r\n                        r = this.getQueryTimerExtensionWebGL2(),\r\n                        o = n.getQueryParameter(t, n.QUERY_RESULT_AVAILABLE);\r\n                    return null == this.disjoint && (this.disjoint = this.gl.getParameter(r.GPU_DISJOINT_EXT)), o && !this.disjoint\r\n                }\r\n                o = (r = this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t, r.QUERY_RESULT_AVAILABLE_EXT);\r\n                return null == this.disjoint && (this.disjoint = this.gl.getParameter(r.GPU_DISJOINT_EXT)), o && !this.disjoint\r\n            }, t.prototype.pollFence = function(t) { var e = this; return new Promise((function(n) { e.addItemToPoll((function() { return t.isFencePassed() }), (function() { return n() })); })) }, t.prototype.pollItems = function() {\r\n                for (var t = function(t) { for (var e = 0; e < t.length; ++e) { if (!t[e]()) break } return e - 1 }(this.itemsToPoll.map((function(t) { return t.isDoneFn }))), e = 0; e <= t; ++e) {\r\n                    (0, this.itemsToPoll[e].resolveFn)();\r\n                }\r\n                this.itemsToPoll = this.itemsToPoll.slice(t + 1);\r\n            }, t.prototype.addItemToPoll = function(t, e) {\r\n                var n = this;\r\n                this.itemsToPoll.push({ isDoneFn: t, resolveFn: e }), this.itemsToPoll.length > 1 || F((function() { return n.pollItems(), 0 === n.itemsToPoll.length }));\r\n            }, t.prototype.bindTextureToFrameBuffer = function(t) { this.throwIfDisposed(), Ce(this.gl, this.debug, t, this.framebuffer), this.debug && Re(this.gl); }, t.prototype.unbindTextureToFrameBuffer = function() { null != this.outputTexture ? (Ce(this.gl, this.debug, this.outputTexture, this.framebuffer), this.debug && Re(this.gl)) : Ee(this.gl, this.debug, this.framebuffer); }, t.prototype.downloadMatrixDriver = function(t, e) { this.bindTextureToFrameBuffer(t); var n = e(); return this.unbindTextureToFrameBuffer(), n }, t.prototype.setOutputMatrixTextureDriver = function(t, e, n) {\r\n                this.throwIfDisposed();\r\n                var r = this.gl;\r\n                Ce(r, this.debug, t, this.framebuffer), this.debug && Re(r), this.outputTexture = t, Jt(r, this.debug, (function() { return r.viewport(0, 0, e, n) })), Jt(r, this.debug, (function() { return r.scissor(0, 0, e, n) }));\r\n            }, t.prototype.setOutputMatrixWriteRegionDriver = function(t, e, n, r) {\r\n                var o = this;\r\n                this.throwIfDisposed(), Jt(this.gl, this.debug, (function() { return o.gl.scissor(t, e, n, r) }));\r\n            }, t.prototype.throwIfDisposed = function() { if (this.disposed) throw new Error(\"Attempted to use disposed GPGPUContext.\") }, t.prototype.throwIfNoProgram = function() { if (null == this.program) throw new Error(\"No GPU program is currently set.\") }, t\r\n        }();\r\n\r\n    function Pi(t, e) {\r\n        if (t.length !== e.length) throw Error(\"Binary was compiled with \" + t.length + \" inputs, but was executed with \" + e.length + \" inputs\");\r\n        t.forEach((function(t, n) {\r\n            var r = t.logicalShape,\r\n                o = e[n],\r\n                a = o.shape;\r\n            if (!S(r, a)) throw Error(\"Binary was compiled with different shapes than the current args. Shapes \" + r + \" and \" + a + \" must match\");\r\n            if (!t.isUniform || !o.isUniform) {\r\n                var i = t.texShape,\r\n                    s = o.isUniform ? null : o.texData.texShape;\r\n                if (!S(i, s)) throw Error(\"Binary was compiled with different texture shapes than the current args. Shape \" + i + \" and \" + s + \" must match\")\r\n            }\r\n        }));\r\n    }\r\n    var Li = function(t, e, n) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t;\r\n            for (var r = n.filterWidth, o = n.inChannels, a = n.strideWidth, i = n.strideHeight, s = n.padInfo, u = n.outWidth, c = n.dilationWidth, l = n.dilationHeight, h = n.dataFormat, f = s.left, d = s.top, p = o * r, v = ua(), m = \"channelsLast\" === h, g = m ? 0 : 1, y = m ? 1 : 2, x = \"\", b = 0; b <= 1; b++)\r\n                for (var w = 0; w <= 1; w++) x += \"\\n          blockIndex = rc.y + \" + w + \";\\n          pos = rc.x + \" + b + \";\\n\\n          if(blockIndex < \" + t[1] + \" && pos < \" + t[0] + \") {\\n            offsetY = int(blockIndex / (\" + u + \")) * \" + i + \" - \" + d + \";\\n            d0 = offsetY + \" + l + \" * (pos / \" + p + \");\\n\\n            if(d0 < \" + e[g] + \" && d0 >= 0) {\\n\\n              offsetX = int(mod(float(blockIndex), \" + u + \".) * \" + a + \". - \" + f + \".);\\n              d1 = offsetX + \" + c + \" * (int(mod(float(pos), \" + p + \".) / \" + o + \".));\\n\\n              if(d1 < \" + e[y] + \" && d1 >= 0) {\\n\\n                ch = int(mod(float(pos), \" + o + \".));\\n\\n                if (\" + m + \") {\\n                  innerDims = vec2(d1, ch);\\n                  result[\" + (2 * b + w) + \"] = getChannel(\\n                    getA(d0, int(innerDims.x),\\n                    int(innerDims.y)), innerDims);\\n                } else {\\n                  innerDims = vec2(d0, d1);\\n                  result[\" + (2 * b + w) + \"] = getChannel(\\n                    getA(ch, int(innerDims.x),\\n                    int(innerDims.y)), innerDims);\\n                }\\n              }\\n            }\\n          }\\n        \";\r\n            this.userCode = \"\\n      void main() {\\n        ivec2 rc = getOutputCoords();\\n\\n        vec4 result = vec4(0);\\n\\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\\n        vec2 innerDims;\\n\\n        \" + x + \"\\n\\n        \" + v.output + \" = result;\\n      }\\n    \";\r\n        },\r\n        Wi = function(t, e, n, r, o) {\r\n            this.variableNames = [\"x\"], this.outputShape = [];\r\n            var a, i = e,\r\n                s = t[3] - 1;\r\n            this.outputShape = t;\r\n            var u = \"float(\" + n + \") + float(\" + r + \") * sum\";\r\n            a = .5 === o ? \"inversesqrt(\" + u + \")\" : 1 === o ? \"1.0/(\" + u + \")\" : \"exp(log(\" + u + \") * float(-\" + o + \"));\", this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int r = coords[1];\\n        int c = coords[2];\\n        int d = coords[3];\\n        float x = getX(b, r, c, d);\\n        float sum = 0.0;\\n        for (int j = -\" + i + \"; j <= \" + i + \"; j++) {\\n          int idx = d + j;\\n          if (idx >= 0 && idx <=  \" + s + \") {\\n            float z = getX(b, r, c, idx);\\n            sum += z * z;\\n          }\\n        }\\n        float val = x * \" + a + \";\\n        setOutput(val);\\n      }\\n    \";\r\n        },\r\n        Ui = function(t, e, n, r, o) { this.variableNames = [\"inputImage\", \"outputImage\", \"dy\"], this.outputShape = [], this.outputShape = t, this.depth = t[3], this.depthRadius = e, this.bias = n, this.alpha = r, this.beta = o, this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float result = 0.0;\\n        for (int d = 0; d < \" + this.depth + \"; ++d) {\\n          int depthBegin = int(max(0.0, float(d - \" + e + \")));\\n          int depthEnd = int(min(float(\" + this.depth + \"),\\n              float(d + \" + e + \" + 1)));\\n\\n          const int MIN_DEPTH_BEGIN = 0;\\n          const int MAX_DEPTH_END = \" + this.depth + \";\\n\\n          float norm = 0.0;\\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\\n            if (k < depthBegin){\\n              continue;\\n            }\\n            else if (k >= depthBegin && k < depthEnd) {\\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\\n            }\\n            else {\\n              break;\\n            }\\n          }\\n\\n          norm = float(\" + r + \") * norm + float(\" + n + \");\\n\\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\\n            if (k < depthBegin){\\n              continue;\\n            }\\n            else if (k >= depthBegin && k < depthEnd){\\n              float dyi = -2.0 * float(\" + r + \")\\n                * float(\" + o + \")\\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\\n                / norm;\\n              if (k == d) {\\n                dyi += pow(norm, -1.0 * \" + o + \");\\n              }\\n              if (k == coords[3]) {\\n                dyi *= getDy(b, r, c, d);\\n                result += dyi;\\n              }\\n            }\\n            else {\\n              break;\\n            }\\n          }\\n      }\\n      setOutput(result);\\n      }\\n    \"; },\r\n        Vi = function(t, e, n, r, o) {\r\n            this.variableNames = [\"x\"], this.outputShape = [], this.packedInputs = !0, this.packedOutput = !0;\r\n            var a, i = e,\r\n                s = t[3] - 1;\r\n            this.outputShape = t;\r\n            var u = \"float(\" + n + \") + float(\" + r + \") * sum\";\r\n            a = .5 === o ? \"inversesqrt(\" + u + \")\" : 1 === o ? \"1.0/(\" + u + \")\" : \"exp(log(\" + u + \") * float(-\" + o + \"));\", this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords.x;\\n        int r = coords.y;\\n        int c = coords.z;\\n        int d = coords.w;\\n\\n        bool hasNextCol = d < \" + this.outputShape[3] + \";\\n        bool hasNextRow = c < \" + this.outputShape[2] + \";\\n\\n        vec4 sum = vec4(0.);\\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\\n\\n        vec4 xAtOutputCoords = vec4(\\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\\n          hasNextCol ?\\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\\n          hasNextRow ?\\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\\n        );\\n\\n        int firstChannel = d - \" + i + \";\\n        vec2 cache = vec2(0.);\\n        if(firstChannel >= 0){\\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\\n            if(hasNextRow){\\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\\n            }\\n        }\\n\\n        ivec2 depth = ivec2(d, d + 1);\\n        for (int j = - \" + i + \"; j <= \" + i + \"; j++) {\\n          ivec2 idx = depth + j;\\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(\" + s + \"));\\n\\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\\n\\n          if(depthInRange || depthPlusOneInRange){\\n            vec4 z = vec4(0.);\\n            vec4 xFragAtCurrentDepth;\\n            z.xz = cache.xy;\\n            if(depthPlusOneInRange && hasNextCol){\\n              xFragAtCurrentDepth = idx.y != d ?\\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\\n              if(hasNextRow){\\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\\n              }\\n            }\\n            cache.xy = z.yw;\\n            sum += z * z;\\n          }\\n        }\\n        vec4 result = xAtOutputCoords * \" + a + \";\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        zi = function(t) {\r\n            this.variableNames = [\"dy\", \"maxPos\"], this.outputShape = t.inShape;\r\n            var e = t.strideHeight,\r\n                n = t.strideWidth,\r\n                r = t.dilationHeight,\r\n                o = t.effectiveFilterHeight,\r\n                a = t.effectiveFilterWidth,\r\n                i = o - 1 - t.padInfo.top,\r\n                s = a - 1 - t.padInfo.left,\r\n                u = o * a - 1;\r\n            this.userCode = \"\\n      const ivec2 pads = ivec2(\" + i + \", \" + s + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 dyRCCorner = coords.yz - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + o + \";\\n          wR += \" + r + \") {\\n          float dyR = float(dyRCorner + wR) / \" + e + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \" + a + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + n + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(b, idyR, idyC, d);\\n            int maxPosValue = \" + u + \" - int(getMaxPos(b, idyR, idyC, d));\\n\\n            // Get the current value, check it against the value from the\\n            // position matrix.\\n            int curPosValue = wR * \" + a + \" + wC;\\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\\n\\n            dotProd += dyValue * mask;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Gi = function(t) {\r\n            this.variableNames = [\"dy\", \"maxPos\"], this.outputShape = t.inShape;\r\n            var e = t.strideDepth,\r\n                n = t.strideHeight,\r\n                r = t.strideWidth,\r\n                o = t.dilationDepth,\r\n                a = t.dilationHeight,\r\n                i = t.dilationWidth,\r\n                s = t.effectiveFilterDepth,\r\n                u = t.effectiveFilterHeight,\r\n                c = t.effectiveFilterWidth,\r\n                l = s - 1 - t.padInfo.front,\r\n                h = u - 1 - t.padInfo.top,\r\n                f = c - 1 - t.padInfo.left,\r\n                d = s * u * c - 1;\r\n            this.userCode = \"\\n      const ivec3 pads = ivec3(\" + l + \", \" + h + \", \" + f + \");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int ch = coords.u;\\n\\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\\n        int dyDCorner = dyCorner.x;\\n        int dyRCorner = dyCorner.y;\\n        int dyCCorner = dyCorner.z;\\n\\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\\n        // dx(xD, xR, xC, ch).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int wD = 0; wD < \" + s + \";\\n           wD += \" + o + \") {\\n          float dyD = float(dyDCorner + wD) / \" + e + \".0;\\n\\n          if (dyD < 0.0 || dyD >= \" + t.outDepth + \".0 || fract(dyD) > 0.0) {\\n            continue;\\n          }\\n          int idyD = int(dyD);\\n\\n          for (int wR = 0; wR < \" + u + \";\\n              wR += \" + a + \") {\\n            float dyR = float(dyRCorner + wR) / \" + n + \".0;\\n\\n            if (dyR < 0.0 || dyR >= \" + t.outHeight + \".0 ||\\n                fract(dyR) > 0.0) {\\n              continue;\\n            }\\n            int idyR = int(dyR);\\n\\n            for (int wC = 0; wC < \" + c + \";\\n                wC += \" + i + \") {\\n              float dyC = float(dyCCorner + wC) / \" + r + \".0;\\n\\n              if (dyC < 0.0 || dyC >= \" + t.outWidth + \".0 ||\\n                  fract(dyC) > 0.0) {\\n                continue;\\n              }\\n              int idyC = int(dyC);\\n\\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\\n              int maxPosValue = \" + d + \" -\\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\\n\\n              // Get the current value, check it against the value from the\\n              // position matrix.\\n              int curPosValue =\\n                  wD * \" + u + \" * \" + c + \" +\\n                  wR * \" + c + \" + wC;\\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\\n\\n              dotProd += dyValue * mask;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\r\n        },\r\n        Hi = function(t, e, n, r, o, a, i) {\r\n            void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 === o && (o = !1), void 0 === a && (a = null), void 0 === i && (i = !1), this.variableNames = [\"matrixA\", \"matrixB\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = e;\r\n            var s = n ? t[1] : t[2],\r\n                u = Math.ceil(s / 2),\r\n                c = n ? \"i * 2, rc.y\" : \"rc.y, i * 2\",\r\n                l = r ? \"rc.z, i * 2\" : \"i * 2, rc.z\",\r\n                h = n ? [\"a.xxyy\", \"a.zzww\"] : [\"a.xxzz\", \"a.yyww\"],\r\n                f = r ? [\"b.xzxz\", \"b.ywyw\"] : [\"b.xyxy\", \"b.zwzw\"],\r\n                d = \"\",\r\n                p = \"\";\r\n            a && (d = i ? \"vec4 activation(vec4 a) {\\n          vec4 b = getPreluActivationWeightsAtOutCoords();\\n          \" + a + \"\\n        }\" : \"vec4 activation(vec4 x) {\\n          \" + a + \"\\n        }\", p = \"result = activation(result);\");\r\n            var v = o ? \"result += getBiasAtOutCoords();\" : \"\";\r\n            o && this.variableNames.push(\"bias\"), i && this.variableNames.push(\"preluActivationWeights\"), this.userCode = \"\\n      \" + d + \"\\n\\n      const float sharedDimension = \" + u + \".0;\\n\\n      vec4 dot2x2ARowBCol(ivec3 rc) {\\n        vec4 result = vec4(0);\\n        for (int i = 0; i < \" + u + \"; i++) {\\n          vec4 a = getMatrixA(rc.x, \" + c + \");\\n          vec4 b = getMatrixB(rc.x, \" + l + \");\\n\\n          // These swizzled products need to be separately added.\\n          // See: https://github.com/tensorflow/tfjs/issues/1735\\n          result += (\" + h[0] + \" * \" + f[0] + \");\\n          result += (\" + h[1] + \" * \" + f[1] + \");\\n        }\\n        return result;\\n      }\\n\\n      void main() {\\n        ivec3 rc = getOutputCoords();\\n        vec4 result = dot2x2ARowBCol(rc);\\n\\n        \" + v + \"\\n\\n        \" + p + \"\\n\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        qi = function() {\r\n            function t(t, e, n) { this.variableNames = [\"probs\"], this.outputShape = [t, n], this.userCode = \"\\n      uniform float seed;\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n\\n        float r = random(seed);\\n        float cdf = 0.0;\\n\\n        for (int i = 0; i < \" + (e - 1) + \"; i++) {\\n          cdf += getProbs(batch, i);\\n\\n          if (r < cdf) {\\n            setOutput(float(i));\\n            return;\\n          }\\n        }\\n\\n        // If no other event happened, last event happened.\\n        setOutput(float(\" + (e - 1) + \"));\\n      }\\n    \"; }\r\n            return t.prototype.getCustomSetupFunc = function(t) { var e = this; return function(n, r) { null == e.seedLoc && (e.seedLoc = n.getUniformLocation(r, \"seed\")), n.gl.uniform1f(e.seedLoc, t); } }, t\r\n        }(),\r\n        Ki = function(t, e, n, r) { this.variableNames = [\"indices\"], this.outputShape = [t, e], this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int index = round(getIndices(coords.x));\\n        setOutput(mix(float(\" + r + \"), float(\" + n + \"),\\n                      float(index == coords.y)));\\n      }\\n    \"; },\r\n        ji = function(t) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !1, this.packedOutput = !0, this.outputShape = t;\r\n            var e = t.length;\r\n            if (0 === e) this.userCode = \"\\n        void main() {\\n          setOutput(vec4(getA(), 0., 0., 0.));\\n        }\\n      \";\r\n            else {\r\n                var n = sa(\"rc\", e),\r\n                    r = wa(e),\r\n                    o = function(t, e, n) { if (1 === t) return \"rc > \" + e[0]; for (var r = \"\", o = t - 2; o < t; o++) r += n[o] + \" >= \" + e[o], o < t - 1 && (r += \"||\"); return r }(e, t, n),\r\n                    a = function(t, e, n, r) { if (1 === t) return \"\"; var o = r.slice(-2); return \"\\n    int r = \" + o[0] + \";\\n    int c = \" + o[1] + \";\\n    int rp1 = r + 1;\\n    int cp1 = c + 1;\\n\\n    bool cEdge = cp1 >= \" + e + \";\\n    bool rEdge = rp1 >= \" + n + \";\\n  \" }(e, t[t.length - 1], t[t.length - 2], n),\r\n                    i = function(t, e) {\r\n                        var n = t.length,\r\n                            r = function(t, e) {\r\n                                for (var n = [], r = 0; r <= 1; r++)\r\n                                    for (var o = 0; o <= 1; o++) {\r\n                                        for (var a = (0 === r ? \"r\" : \"rp1\") + \", \" + (0 === o ? \"c\" : \"cp1\"), i = 2; i < t; i++) a = e[e.length - 1 - i] + \",\" + a;\r\n                                        n.push(a);\r\n                                    }\r\n                                return n\r\n                            }(n, e);\r\n                        return 1 === n ? \"getA(rc),\\n            rc + 1 >= \" + t[0] + \" ? 0. : getA(rc + 1),\\n            0, 0\" : \"getA(\" + r[0] + \"),\\n          cEdge ? 0. : getA(\" + r[1] + \"),\\n          rEdge ? 0. : getA(\" + r[2] + \"),\\n          rEdge || cEdge ? 0. : getA(\" + r[3] + \")\"\r\n                    }(t, n);\r\n                this.userCode = \"\\n        void main() {\\n          \" + r + \" rc = getOutputCoords();\\n\\n          if(\" + o + \") {\\n            setOutput(vec4(0));\\n          } else {\\n            \" + a + \"\\n\\n            setOutput(vec4(\" + i + \"));\\n          }\\n        }\\n      \";\r\n            }\r\n        };\r\n    var Xi = function(t, e, n) {\r\n            this.variableNames = [\"x\"], this.outputShape = e.map((function(e, n) { return e[0] + t[n] + e[1] }));\r\n            var r = t.length,\r\n                o = wa(r),\r\n                a = e.map((function(t) { return t[0] })).join(\",\"),\r\n                i = e.map((function(e, n) { return e[0] + t[n] })).join(\",\"),\r\n                s = [\"coords[0]\", \"coords[1]\", \"coords[2]\", \"coords[3]\"].slice(0, r);\r\n            this.userCode = 1 !== r ? \"\\n      \" + o + \" start = \" + o + \"(\" + a + \");\\n      \" + o + \" end = \" + o + \"(\" + i + \");\\n\\n      void main() {\\n        \" + o + \" outC = getOutputCoords();\\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\\n          setOutput(float(\" + n + \"));\\n        } else {\\n          \" + o + \" coords = outC - start;\\n          setOutput(getX(\" + s + \"));\\n        }\\n      }\\n    \" : \"\\n        int start = \" + a + \";\\n        int end = \" + i + \";\\n\\n        void main() {\\n          int outC = getOutputCoords();\\n          if (outC < start || outC >= end) {\\n            setOutput(float(\" + n + \"));\\n          } else {\\n            setOutput(getX(outC - start));\\n          }\\n        }\\n      \";\r\n        },\r\n        Yi = function(t, e, n) {\r\n            this.variableNames = [\"x\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = e.map((function(e, n) { return e[0] + t[n] + e[1] }));\r\n            for (var r = t.length, o = wa(r), a = e.map((function(t) { return t[0] })).join(\",\"), i = e.map((function(e, n) { return e[0] + t[n] })).join(\",\"), s = sa(\"rc\", r), u = sa(\"source\", r), c = s[r - 1] + \" < \" + this.outputShape[r - 1], l = 1 === r ? \"source\" : \"vec2(\" + u.slice(-2).join() + \")\", h = [o + \" rc = outputLoc;\", s[r - 1] + \" += 1;\\n       if(\" + c + \") {\\n      \", 1 === r ? \"\" : \"}\\n       rc = outputLoc;\\n       \" + s[r - 2] + \" += 1;\\n       if(\" + s[r - 2] + \" < \" + this.outputShape[r - 2] + \") {\", 1 === r ? \"\" : \"  \" + s[r - 1] + \" += 1;\\n         if(\" + c + \") {\"], f = 1 === r ? \"rc < start || rc >= end\" : \"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))\", d = \"\", p = 0, v = 1 === r ? 2 : 4; p < v; p++) d += \"\\n        \" + h[p] + \"\\n        if (\" + f + \") {\\n          result[\" + p + \"] = float(\" + n + \");\\n        } else {\\n          \" + o + \" source = rc - start;\\n          result[\" + p + \"] = getChannel(getX(\" + u.join() + \"), \" + l + \");\\n        }\\n      \";\r\n            d += 1 === r ? \"} \" : \"}}\", this.userCode = \"\\n      const \" + o + \" start = \" + o + \"(\" + a + \");\\n      const \" + o + \" end = \" + o + \"(\" + i + \");\\n\\n      void main() {\\n        \" + o + \" outputLoc = getOutputCoords();\\n        vec4 result = vec4(0.);\\n        \" + d + \"\\n        setOutput(result);\\n      }\\n    \";\r\n        },\r\n        $i = function(t, e, n) {\r\n            if (this.variableNames = [\"x\"], \"avg\" === e && n) throw new Error(\"Cannot compute positions for average pool.\");\r\n            var r = t.filterWidth,\r\n                o = t.strideHeight,\r\n                a = t.strideWidth,\r\n                i = t.dilationHeight,\r\n                s = t.dilationWidth,\r\n                u = t.effectiveFilterHeight,\r\n                c = t.effectiveFilterWidth,\r\n                l = t.padInfo.top,\r\n                h = t.padInfo.left;\r\n            this.outputShape = t.outShape;\r\n            var f = \"avg\" === e,\r\n                d = \"0.0\";\r\n            if (f || (d = \"-1.0 / 1e-20\"), n) this.userCode = \"\\n        const ivec2 strides = ivec2(\" + o + \", \" + a + \");\\n        const ivec2 pads = ivec2(\" + l + \", \" + h + \");\\n\\n        void main() {\\n          ivec4 coords = getOutputCoords();\\n          int batch = coords[0];\\n          int d = coords[3];\\n\\n          ivec2 xRCCorner = coords.yz * strides - pads;\\n          int xRCorner = xRCCorner.x;\\n          int xCCorner = xRCCorner.y;\\n\\n          // max/min x(?, ?, d) to get y(yR, yC, d).\\n          // ? = to be determined\\n          float minMaxValue = 0.0;\\n          float minMaxValueFound = 0.0;\\n          int minMaxPosition = 0;\\n          float avgValue = 0.0;\\n\\n          for (int wR = 0; wR < \" + u + \";\\n              wR += \" + i + \") {\\n            int xR = xRCorner + wR;\\n\\n            if (xR < 0 || xR >= \" + t.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \" + c + \";\\n                wC += \" + s + \") {\\n              int xC = xCCorner + wC;\\n\\n              if (xC < 0 || xC >= \" + t.inWidth + \") {\\n                continue;\\n              }\\n\\n              float value = getX(batch, xR, xC, d);\\n\\n              // If a min / max value has already been found, use it. If not,\\n              // use the current value.\\n              float currMinMaxValue = mix(\\n                  value, minMaxValue, minMaxValueFound);\\n              if (value >= currMinMaxValue) {\\n                minMaxValue = value;\\n                minMaxValueFound = 1.0;\\n                minMaxPosition = wR * \" + c + \" + wC;\\n              }\\n            }\\n          }\\n          setOutput(float(minMaxPosition));\\n        }\\n      \";\r\n            else {\r\n                var p = e + \"(\" + e + \"(\" + e + \"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])\";\r\n                \"avg\" === e && (p = \"avgValue / count\");\r\n                var v = 4 * Math.floor(r / 4),\r\n                    m = r % 4,\r\n                    g = \"\\n      if (\" + f + \") {\\n        avgValue += dot(values, ones);\\n      } else {\\n        minMaxValue = max(values, minMaxValue);\\n      }\\n    \";\r\n                this.userCode = \"\\n      const ivec2 strides = ivec2(\" + o + \", \" + a + \");\\n      const ivec2 pads = ivec2(\" + l + \", \" + h + \");\\n      const float initializationValue = \" + d + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float count = 0.0;\\n\\n      float getValue(int batch, int xR, int xC, int d) {\\n        if (xC < 0 || xC >= \" + t.inWidth + \") {\\n          return initializationValue;\\n        }\\n        count += 1.0;\\n        return getX(batch, xR, xC, d);\\n      }\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // max/min x(?, ?, d) to get y(yR, yC, d).\\n        // ? = to be determined\\n        vec4 minMaxValue = vec4(\" + d + \");\\n        float avgValue = 0.0;\\n        count = 0.0;\\n\\n        for (int wR = 0; wR < \" + u + \";\\n            wR += \" + i + \") {\\n          int xR = xRCorner + wR;\\n\\n          if (xR < 0 || xR >= \" + t.inHeight + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + v + \"; wC += 4) {\\n            int xC = xCCorner + wC * \" + s + \";\\n\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + \" + s + \", d),\\n              getValue(batch, xR, xC + 2 * \" + s + \", d),\\n              getValue(batch, xR, xC + 3 * \" + s + \", d)\\n            );\\n\\n            \" + g + \"\\n          }\\n\\n          int xC = xCCorner + \" + v + \";\\n          if (\" + (1 === m) + \") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              initializationValue,\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \" + g + \"\\n          } else if (\" + (2 === m) + \") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + \" + s + \", d),\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \" + g + \"\\n          } else if (\" + (3 === m) + \") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + \" + s + \", d),\\n              getValue(batch, xR, xC + 2 * \" + s + \", d),\\n              initializationValue\\n            );\\n\\n            \" + g + \"\\n          }\\n        }\\n        setOutput(\" + p + \");\\n      }\\n    \";\r\n            }\r\n        },\r\n        Qi = function(t, e, n) {\r\n            if (this.variableNames = [\"x\"], \"avg\" === e && n) throw new Error(\"Cannot compute positions for average pool.\");\r\n            var r = t.filterWidth,\r\n                o = t.strideDepth,\r\n                a = t.strideHeight,\r\n                i = t.strideWidth,\r\n                s = t.dilationDepth,\r\n                u = t.dilationHeight,\r\n                c = t.dilationWidth,\r\n                l = t.effectiveFilterDepth,\r\n                h = t.effectiveFilterHeight,\r\n                f = t.effectiveFilterWidth,\r\n                d = t.padInfo.front,\r\n                p = t.padInfo.top,\r\n                v = t.padInfo.left;\r\n            this.outputShape = t.outShape;\r\n            var m = \"avg\" === e,\r\n                g = \"0.0\";\r\n            if (m || (g = \"-1.0 / 1e-20\"), n) this.userCode = \"\\n        const ivec3 strides =\\n            ivec3(\" + o + \", \" + a + \", \" + i + \");\\n        const ivec3 pads = ivec3(\" + d + \", \" + p + \", \" + v + \");\\n\\n        void main() {\\n          ivec5 coords = getOutputCoords();\\n          int batch = coords.x;\\n          int ch = coords.u;\\n\\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\\n          int xDCorner = xCorner.x;\\n          int xRCorner = xCorner.y;\\n          int xCCorner = xCorner.z;\\n\\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\\n          // ? = to be determined\\n          float minMaxValue = 0.0;\\n          float minMaxValueFound = 0.0;\\n          int minMaxPosition = 0;\\n\\n          for (int wD = 0; wD < \" + l + \";\\n              wD += \" + s + \") {\\n            int xD = xDCorner + wD;\\n\\n            if (xD < 0 || xD >= \" + t.inDepth + \") {\\n              continue;\\n            }\\n\\n            for (int wR = 0; wR < \" + h + \";\\n                wR += \" + u + \") {\\n              int xR = xRCorner + wR;\\n\\n              if (xR < 0 || xR >= \" + t.inHeight + \") {\\n                continue;\\n              }\\n\\n              for (int wC = 0; wC < \" + f + \";\\n                  wC += \" + c + \") {\\n                int xC = xCCorner + wC;\\n\\n                if (xC < 0 || xC >= \" + t.inWidth + \") {\\n                  continue;\\n                }\\n\\n                float value = getX(batch, xD, xR, xC, ch);\\n\\n                // If a min / max value has already been found, use it. If not,\\n                // use the current value.\\n                float currMinMaxValue = mix(\\n                    value, minMaxValue, minMaxValueFound);\\n                if (value >= currMinMaxValue) {\\n                  minMaxValue = value;\\n                  minMaxValueFound = 1.0;\\n                  minMaxPosition =\\n                      wD * \" + h + \" * \" + f + \" +\\n                      wR * \" + f + \" + wC;;\\n                }\\n              }\\n            }\\n          }\\n          setOutput(float(minMaxPosition));\\n        }\\n      \";\r\n            else {\r\n                var y = e + \"(\" + e + \"(\" + e + \"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])\";\r\n                \"avg\" === e && (y = \"avgValue / count\");\r\n                var x = 4 * Math.floor(r / 4),\r\n                    b = r % 4,\r\n                    w = \"\\n      if (\" + m + \") {\\n        avgValue += dot(values, ones);\\n      } else {\\n        minMaxValue = max(values, minMaxValue);\\n      }\\n    \";\r\n                this.userCode = \"\\n      const ivec3 strides =\\n        ivec3(\" + o + \", \" + a + \", \" + i + \");\\n      const ivec3 pads = ivec3(\" + d + \", \" + p + \", \" + v + \");\\n      const float initializationValue = \" + g + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float count = 0.0;\\n\\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\\n        if (xC < 0 || xC >= \" + t.inWidth + \") {\\n          return initializationValue;\\n        }\\n        count += 1.0;\\n        return getX(batch, xD, xR, xC, ch);\\n      }\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int ch = coords.u;\\n\\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\\n        int xDCorner = xCorner.x;\\n        int xRCorner = xCorner.y;\\n        int xCCorner = xCorner.z;\\n\\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\\n        // ? = to be determined\\n        vec4 minMaxValue = vec4(\" + g + \");\\n        float avgValue = 0.0;\\n        count = 0.0;\\n\\n        for (int wD = 0; wD < \" + l + \";\\n            wD += \" + s + \") {\\n          int xD = xDCorner + wD;\\n\\n          if (xD < 0 || xD >= \" + t.inDepth + \") {\\n            continue;\\n          }\\n\\n          for (int wR = 0; wR < \" + h + \";\\n            wR += \" + u + \") {\\n            int xR = xRCorner + wR;\\n\\n            if (xR < 0 || xR >= \" + t.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \" + x + \"; wC += 4) {\\n              int xC = xCCorner + wC * \" + c + \";\\n\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                getValue(batch, xD, xR, xC + \" + c + \", ch),\\n                getValue(batch, xD, xR, xC + 2 * \" + c + \", ch),\\n                getValue(batch, xD, xR, xC + 3 * \" + c + \", ch)\\n              );\\n\\n              \" + w + \"\\n            }\\n\\n            int xC = xCCorner + \" + x + \";\\n            if (\" + (1 === b) + \") {\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                initializationValue,\\n                initializationValue,\\n                initializationValue\\n              );\\n\\n              \" + w + \"\\n            } else if (\" + (2 === b) + \") {\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                getValue(batch, xD, xR, xC + \" + c + \", ch),\\n                initializationValue,\\n                initializationValue\\n              );\\n\\n              \" + w + \"\\n            } else if (\" + (3 === b) + \") {\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                getValue(batch, xD, xR, xC + \" + c + \", ch),\\n                getValue(batch, xD, xR, xC + 2 * \" + c + \", ch),\\n                initializationValue\\n              );\\n\\n              \" + w + \"\\n            }\\n          }\\n          setOutput(\" + y + \");\\n        }\\n      }\\n    \";\r\n            }\r\n        },\r\n        Ji = function(t, e) {\r\n            this.variableNames = [\"x\"];\r\n            var n = t.windowSize,\r\n                r = t.batchSize,\r\n                o = t.inSize,\r\n                a = Math.ceil(o / n);\r\n            this.outputShape = [r, a];\r\n            var i = \"0.0\",\r\n                s = \"\";\r\n            \"prod\" === e ? i = \"1.0\" : \"min\" === e ? (i = \"1.0 / 1e-20\", s = \"min\") : \"max\" === e && (i = \"-1.0 / 1e-20\", s = \"max\");\r\n            var u = e + \"(\" + e + \"(\" + e + \"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])\";\r\n            \"sum\" === e ? u = \"sumValue\" : \"prod\" === e ? u = \"prodValue\" : \"all\" === e ? u = \"allValue\" : \"any\" === e && (u = \"anyValue\");\r\n            var c = 4 * Math.floor(n / 4),\r\n                l = n % 4,\r\n                h = \"\\n      if (\" + (\"sum\" === e) + \") {\\n        sumValue += dot(values, ones);\\n      } else if (\" + (\"prod\" === e) + \") {\\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\\n        prodValue *= tmp[0] * tmp[1];\\n      } else {\\n        minMaxValue = \" + s + \"(values, minMaxValue);\\n      }\\n    \",\r\n                f = \"vec4\";\r\n            \"all\" === e ? (i = \"1.0\", h = \"\\n        bool reducedAllValue = all(values);\\n        float floatedReducedAllValue = float(reducedAllValue);\\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\\n      \", f = \"bvec4\") : \"any\" === e && (i = \"0.0\", h = \"\\n        bool reducedAnyValue = any(values);\\n        float floatedReducedAnyValue = float(reducedAnyValue);\\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\\n      \", f = \"bvec4\");\r\n            var d = \"\";\r\n            o % n > 0 && (d = \"\\n        if (inIdx < 0 || inIdx >= \" + o + \") {\\n          return initializationValue;\\n        }\\n      \"), this.userCode = \"\\n      const float initializationValue = \" + i + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float getValue(int batch, int inIdx) {\\n        \" + d + \"\\n        return getX(batch, inIdx);\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \" + n + \";\\n\\n        vec4 minMaxValue = vec4(\" + i + \");\\n        float prodValue = 1.0;\\n        float sumValue = 0.0;\\n        float allValue = 1.0;\\n        float anyValue = 0.0;\\n\\n        for (int i = 0; i < \" + c + \"; i += 4) {\\n          int inIdx = inOffset + i;\\n          \" + f + \" values = \" + f + \"(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            getValue(batch, inIdx + 3)\\n          );\\n\\n          \" + h + \"\\n        }\\n\\n        int inIdx = inOffset + \" + c + \";\\n        if (\" + (1 === l) + \") {\\n          \" + f + \" values = \" + f + \"(\\n            getValue(batch, inIdx),\\n            initializationValue,\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          \" + h + \"\\n        } else if (\" + (2 === l) + \") {\\n          \" + f + \" values = \" + f + \"(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          \" + h + \"\\n        } else if (\" + (3 === l) + \") {\\n          \" + f + \" values = \" + f + \"(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            initializationValue\\n          );\\n\\n          \" + h + \"\\n        }\\n        setOutput(\" + u + \");\\n      }\\n    \";\r\n        },\r\n        Zi = function(t, e) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t;\r\n            for (var n = \"\", r = 0; r < 4; r++) {\r\n                var o = \"thisRC = rc;\";\r\n                r % 2 == 1 && (o += \"thisRC.z += 1;\"), r > 1 && (o += \"thisRC.y += 1;\"), n += \"\\n        \" + o + \"\\n        \" + (r > 0 ? \"if(thisRC.y < rows && thisRC.z < cols){\" : \"\") + \"\\n          int flatIndex = getFlatIndex(thisRC);\\n\\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\\n\\n          result[\" + r + \"] =\\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\\n        \" + (r > 0 ? \"}\" : \"\") + \"\\n      \";\r\n            }\r\n            this.userCode = \"\\n      \\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\\n      \" + ca([\"r\", \"c\", \"d\"], e) + \"\\n      return ivec3(r, c, d);\\n    }\\n  \\n      \" + la(t) + \"\\n\\n      void main() {\\n        ivec3 rc = getOutputCoords();\\n\\n        vec4 result = vec4(0.);\\n\\n        ivec3 thisRC;\\n        int rows = \" + t[1] + \";\\n        int cols = \" + t[2] + \";\\n\\n        \" + n + \"\\n\\n        setOutput(result);\\n      }\\n    \";\r\n        };\r\n    var ts = function(t, e, n) {\r\n            this.variableNames = [\"dy\"], this.outputShape = [], this.outputShape = e.shape;\r\n            var r = e.shape,\r\n                o = r[1],\r\n                a = r[2],\r\n                i = t.shape,\r\n                s = i[1],\r\n                u = i[2],\r\n                c = [n && s > 1 ? o - 1 : o, n && u > 1 ? a - 1 : a],\r\n                l = [n && s > 1 ? s - 1 : s, n && u > 1 ? u - 1 : u],\r\n                h = c[0] / l[0],\r\n                f = c[1] / l[1],\r\n                d = 1 / h,\r\n                p = 1 / f,\r\n                v = 2 * Math.ceil(d) + 2,\r\n                m = 2 * Math.ceil(p) + 2;\r\n            this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float accumulator = 0.0;\\n\\n        const float heightScale = float(\" + h + \");\\n        const float widthScale = float(\" + f + \");\\n\\n        const float invHeightScale = float(\" + d + \");\\n        const float invWidthScale = float(\" + p + \");\\n\\n        const int winHeight = int(\" + v + \");\\n        const int winWidth = int(\" + m + \");\\n\\n        // Compute bounds for where in dy we will look\\n        float startRLerp = floor(float(r) * invHeightScale);\\n        int startDyR = int(startRLerp - float(winHeight / 2));\\n\\n        float startCLerp = floor(float(c) * invWidthScale);\\n        int startDyC = int(startCLerp - float(winWidth / 2));\\n\\n        // Loop over dy\\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\\n          int dyR = dyROffset + startDyR;\\n\\n          // Guard against the window exceeding the bounds of dy\\n          if (dyR < 0 || dyR >= \" + s + \") {\\n            continue;\\n          }\\n\\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\\n            int dyC = dyCOffset + startDyC;\\n\\n            // Guard against the window exceeding the bounds of dy\\n            if (dyC < 0 || dyC >= \" + u + \") {\\n              continue;\\n            }\\n\\n            float dxR = float(dyR) * heightScale;\\n            int topDxRIndex = int(floor(dxR));\\n            int bottomDxRIndex = int(min(ceil(dxR), \" + (o - 1) + \".0));\\n            float dxRLerp = dxR - float(topDxRIndex);\\n            float inverseDxRLerp = 1.0 - dxRLerp;\\n\\n            float dxC = float(dyC) * widthScale;\\n            int leftDxCIndex = int(floor(dxC));\\n            int rightDxCIndex = int(min(ceil(dxC), \" + (a - 1) + \".0));\\n            float dxCLerp = dxC - float(leftDxCIndex);\\n            float inverseDxCLerp = 1.0 - dxCLerp;\\n\\n            if (r == topDxRIndex && c == leftDxCIndex) {\\n              // topLeft\\n              accumulator +=\\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\\n            }\\n\\n            if (r == topDxRIndex && c == rightDxCIndex) {\\n              // topRight\\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\\n            }\\n\\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\\n              // bottomLeft\\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\\n            }\\n\\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\\n              // bottomRight\\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\\n            }\\n          }\\n        }\\n        // End loop over dy\\n\\n        setOutput(accumulator);\\n      }\\n    \";\r\n        },\r\n        es = function(t, e, n, r) {\r\n            this.variableNames = [\"A\"], this.outputShape = [];\r\n            var o = t[0],\r\n                a = t[1],\r\n                i = t[2],\r\n                s = t[3];\r\n            this.outputShape = [o, e, n, s];\r\n            var u = [r && e > 1 ? a - 1 : a, r && n > 1 ? i - 1 : i],\r\n                c = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n];\r\n            this.userCode = \"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \" + u[0] / c[0] + \",\\n          \" + u[1] / c[1] + \");\\n      const vec2 inputShapeRC = vec2(\" + a + \".0, \" + i + \".0);\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        ivec2 yRC = coords.yz;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the four integer indices.\\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\\n        ivec2 sourceCeilRC = ivec2(\\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\\n\\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\\n\\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\\n\\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\\n        float newValue = top + (bottom - top) * fracRC.x;\\n\\n        setOutput(newValue);\\n      }\\n    \";\r\n        },\r\n        ns = function(t, e, n, r) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = [];\r\n            var o = t[0],\r\n                a = t[1],\r\n                i = t[2],\r\n                s = t[3];\r\n            this.outputShape = [o, e, n, s];\r\n            var u = [r && e > 1 ? a - 1 : a, r && n > 1 ? i - 1 : i],\r\n                c = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n];\r\n            this.userCode = \"\\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\\n          \" + u[0] / c[0] + \",\\n          \" + u[1] / c[1] + \",\\n          \" + u[1] / c[1] + \");\\n      const vec3 inputShapeRC = vec3(\" + a + \".0, \" + i + \".0,\\n                                     \" + i + \".0);\\n\\n      float getAValue(int b, int r, int c, int d) {\\n        return getChannel(getA(b, r, c, d), vec2(c, d));\\n      }\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        // Calculate values for next column in yRC.z.\\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\\n\\n        // Fractional source index.\\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the four integer indices.\\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\\n        ivec3 sourceCeilRC = ivec3(\\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\\n\\n        // Should we calculate next column and row elements in 2x2 packed cell.\\n        bool hasNextCol = d < \" + (s - 1) + \";\\n        bool hasNextRow = coords.z < \" + (n - 1) + \";\\n\\n        // In parallel, construct four corners for all four components in\\n        // packed 2x2 cell.\\n        vec4 topLeft = vec4(\\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\\n\\n        vec4 bottomLeft = vec4(\\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\\n\\n        vec4 topRight = vec4(\\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\\n\\n        vec4 bottomRight = vec4(\\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\\n\\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\\n\\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\\n        vec4 newValue = mix(top, bottom, fracRC.x);\\n\\n        setOutput(newValue);\\n      }\\n    \";\r\n        },\r\n        rs = function(t, e, n) {\r\n            this.variableNames = [\"dy\"], this.outputShape = [], this.outputShape = e.shape;\r\n            var r = e.shape,\r\n                o = r[1],\r\n                a = r[2],\r\n                i = t.shape,\r\n                s = i[1],\r\n                u = i[2],\r\n                c = [n && s > 1 ? o - 1 : o, n && u > 1 ? a - 1 : a],\r\n                l = [n && s > 1 ? s - 1 : s, n && u > 1 ? u - 1 : u],\r\n                h = c[0] / l[0],\r\n                f = c[1] / l[1],\r\n                d = 1 / h,\r\n                p = 1 / f,\r\n                v = 2 * Math.ceil(d) + 2,\r\n                m = 2 * Math.ceil(p) + 2;\r\n            this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float accumulator = 0.0;\\n\\n        const float heightScale = float(\" + h + \");\\n        const float widthScale = float(\" + f + \");\\n\\n        const float invHeightScale = float(\" + d + \");\\n        const float invWidthScale = float(\" + p + \");\\n\\n        const int winHeight = int(\" + v + \");\\n        const int winWidth = int(\" + m + \");\\n\\n        // Compute bounds for where in dy we will look\\n        float startRLerp = floor(float(r) * invHeightScale);\\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\\n\\n        float startCLerp = floor(float(c) * invWidthScale);\\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\\n\\n        // Loop over dy\\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\\n          int dyR = dyROffset + startDyR;\\n\\n          // Guard against the window exceeding the bounds of dy\\n          if (dyR < 0 || dyR >= \" + s + \") {\\n            continue;\\n          }\\n\\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\\n            int dyC = dyCOffset + startDyC;\\n\\n            // Guard against the window exceeding the bounds of dy\\n            if (dyC < 0 || dyC >= \" + u + \") {\\n              continue;\\n            }\\n\\n            float sourceFracRow =\\n              float(\" + c[0] + \") *\\n                (float(dyR) / float(\" + l[0] + \"));\\n\\n            float sourceFracCol =\\n                float(\" + c[1] + \") *\\n                  (float(dyC) / float(\" + l[1] + \"));\\n\\n            int sourceNearestRow = int(min(\\n                float(int(\" + o + \") - 1),\\n                \" + n + \" ? float(round(sourceFracRow)) :\\n                                  float(floor(sourceFracRow))));\\n\\n            int sourceNearestCol = int(min(\\n                float(int(\" + a + \") - 1),\\n                \" + n + \" ? float(round(sourceFracCol)) :\\n                                  float(floor(sourceFracCol))));\\n\\n            if (r == sourceNearestRow && c == sourceNearestCol) {\\n              accumulator += getDy(b, dyR, dyC, d);\\n            }\\n          }\\n        }\\n        // End loop over dy\\n\\n        setOutput(accumulator);\\n      }\\n    \";\r\n        },\r\n        os = function(t, e, n, r) {\r\n            this.variableNames = [\"A\"], this.outputShape = [];\r\n            var o = t[0],\r\n                a = t[1],\r\n                i = t[2],\r\n                s = t[3];\r\n            this.outputShape = [o, e, n, s];\r\n            var u = [r && e > 1 ? a - 1 : a, r && n > 1 ? i - 1 : i],\r\n                c = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n],\r\n                l = r ? \"0.5\" : \"0.0\";\r\n            this.userCode = \"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \" + u[0] / c[0] + \",\\n          \" + u[1] / c[1] + \");\\n      const vec2 inputShapeRC = vec2(\" + a + \".0, \" + i + \".0);\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        ivec2 yRC = coords.yz;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the coordinators of nearest neighbor point.\\n        ivec2 sourceNearestRC = ivec2(\\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + \" + l + \")));\\n\\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\\n\\n        setOutput(newValue);\\n      }\\n    \";\r\n        },\r\n        as = function(t, e) {\r\n            this.variableNames = [\"x\"];\r\n            var n = t.length;\r\n            if (n > 4) throw new Error(\"WebGL backend: Reverse of rank-\" + n + \" tensor is not yet supported\");\r\n            if (this.outputShape = t, 1 !== n) {\r\n                var r = t.map((function(n, r) { return function(n) { return -1 !== e.indexOf(n) && 1 !== t[n] ? t[n] + \" - coords[\" + n + \"] - 1\" : \"coords[\" + n + \"]\" }(r) })).join(\",\"),\r\n                    o = wa(n);\r\n                this.userCode = \"\\n      void main() {\\n        \" + o + \" coords = getOutputCoords();\\n        setOutput(getX(\" + r + \"));\\n      }\\n    \";\r\n            } else this.userCode = \"\\n        void main() {\\n          int coord = getOutputCoords();\\n          setOutput(getX(\" + t[0] + \" - coord - 1));\\n        }\\n      \";\r\n        },\r\n        is = function(t, e) {\r\n            this.variableNames = [\"x\"], this.packedInputs = !0, this.packedOutput = !0;\r\n            var n = t.length;\r\n            if (n > 4) throw new Error(\"WebGL backend: Reverse of rank-\" + n + \" tensor is not yet supported\");\r\n            this.outputShape = t;\r\n            var r = sa(\"rc\", n),\r\n                o = r[n - 1] + \" + 1 < \" + this.outputShape[n - 1],\r\n                a = r[n - 2] + \" + 1 < \" + this.outputShape[n - 2],\r\n                i = wa(n);\r\n\r\n            function s(n) { var r = t.map((function(r, o) { return function(n, r) { return -1 !== e.indexOf(n) && 1 !== t[n] ? t[n] + \" - \" + r[n] + \" - 1\" : \"\" + r[n] }(o, n) })); return \"getChannel(getX(\" + r.join(\",\") + \"), vec2(\" + r.slice(-2).join(\",\") + \"))\" }\r\n            this.userCode = 1 === n ? \"\\n        void main(){\\n          int rc = getOutputCoords();\\n          vec4 result = vec4(0.);\\n          result.r = getChannel(getX(\" + t[0] + \" - rc - 1),\\n            \" + t[0] + \" - rc - 1);\\n          if(\" + o + \"){\\n              result.g = getChannel(getX(\" + t[0] + \" - (rc  + 1) - 1),\\n                \" + t[0] + \" - (rc  + 1) - 1);\\n          }\\n          setOutput(result);\\n        }\\n      \" : \"\\n        void main() {\\n          \" + i + \" rc = getOutputCoords();\\n          vec4 result = vec4(0.);\\n          result.r = \" + function(t) { return s(t) }(r.slice()) + \";\\n          if(\" + o + \"){\\n            result.g = \" + function(t) { return t[n - 1] = \"(\" + t[n - 1] + \" + 1)\", s(t) }(r.slice()) + \";\\n          }\\n          if(\" + a + \") {\\n            result.b = \" + function(t) { return t[n - 2] = \"(\" + t[n - 2] + \" + 1)\", s(t) }(r.slice()) + \";\\n            if(\" + o + \") {\\n              result.a = \" + function(t) { return t[n - 1] = \"(\" + t[n - 1] + \" + 1)\", t[n - 2] = \"(\" + t[n - 2] + \" + 1)\", s(t) }(r.slice()) + \";\\n            }\\n          }\\n          setOutput(result);\\n        }\\n    \";\r\n        },\r\n        ss = function(t, e, n, r, o, a, i) {\r\n            this.variableNames = [\"updates\", \"indices\", \"defaultValue\"], this.outputShape = a;\r\n            var s = wa(o.length),\r\n                u = wa(a.length),\r\n                c = \"\";\r\n            1 === n ? c = \"i\" : 2 === n && (c = \"i, j\");\r\n            var l = \"getIndices(\" + c + \")\",\r\n                h = \"\";\r\n            1 === r ? h = \"i\" : 2 === r && (h = \"i, coords[1]\");\r\n            var f = \"getUpdates(\" + h + \")\",\r\n                d = e > 1 ? \"strides[j]\" : \"strides\";\r\n            this.userCode = \"\\n        \" + s + \" strides = \" + s + \"(\" + o + \");\\n\\n        void main() {\\n          \" + u + \" coords = getOutputCoords();\\n          float sum = 0.0;\\n          bool found = false;\\n          for (int i = 0; i < \" + t + \"; i++) {\\n            int flattenedIndex = 0;\\n            for (int j = 0; j < \" + e + \"; j++) {\\n              int index = round(\" + l + \");\\n              flattenedIndex += index * \" + d + \";\\n            }\\n            if (flattenedIndex == coords[0]) {\\n              sum += \" + f + \";\\n              found = true;\\n            }\\n          }\\n          setOutput(mix(getDefaultValue(), sum, float(found)));\\n        }\\n      \";\r\n        },\r\n        us = function(t, e) {\r\n            this.variableNames = [\"x\", \"segmentIds\"];\r\n            var n = t.windowSize,\r\n                r = t.batchSize,\r\n                o = t.inSize,\r\n                a = t.numSegments,\r\n                i = a * Math.ceil(o / n);\r\n            this.outputShape = [r, i];\r\n            var s = 4 * Math.floor(n / 4),\r\n                u = n % 4,\r\n                c = \"\\n        sumValue += dot(values, segFilter);\\n    \",\r\n                l = \"\";\r\n            o % n > 0 && (l = \"\\n        if (inIdx < 0 || inIdx >= \" + o + \") {\\n          return initializationValue;\\n        }\\n      \");\r\n            var h = \"\";\r\n            o % n > 0 && (h = \"\\n        if (inIdx < 0 || inIdx >= \" + o + \") {\\n          return -1.0;\\n        }\\n      \"), this.userCode = \"\\n      const float initializationValue = 0.0;\\n\\n      float getValue(int batch, int inIdx) {\\n        \" + l + \"\\n        return getX(batch, inIdx);\\n      }\\n\\n      float getSegmentIdAtIndex(int inIdx) {\\n        \" + h + \"\\n        return getSegmentIds(inIdx);\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = int(floor(float(outIdx) / float(\\n          \" + a + \")) * float(\" + n + \"));\\n        int currentSeg = int(mod(float(outIdx), float(\" + a + \")));\\n\\n        float sumValue = 0.0;\\n\\n        for (int i = 0; i < \" + s + \"; i += 4) {\\n          int inIdx = inOffset + i;\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            getValue(batch, inIdx + 3)\\n          );\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\\n          );\\n\\n          \" + c + \"\\n        }\\n\\n        int inIdx = inOffset + \" + s + \";\\n        if (\" + (1 === u) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            initializationValue,\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            0,\\n            0,\\n            0\\n          );\\n\\n          \" + c + \"\\n        } else if (\" + (2 === u) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\\n              0,\\n              0\\n          );\\n\\n          \" + c + \"\\n        } else if (\" + (3 === u) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            initializationValue\\n          );\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\\n            0\\n          );\\n\\n          \" + c + \"\\n        }\\n        setOutput(sumValue);\\n      }\\n    \";\r\n        },\r\n        cs = function(t, e, n) {\r\n            var r, o;\r\n            if (this.variableNames = [\"c\", \"a\", \"b\"], this.outputShape = e, n > 4) throw Error(\"Where for rank \" + n + \" is not yet supported\");\r\n            if (1 === n) o = \"resRC\", r = \"resRC\";\r\n            else {\r\n                for (var a = [\"resRC.x\", \"resRC.y\", \"resRC.z\", \"resRC.w\"], i = [], s = [], u = 0; u < e.length; u++) s.push(\"\" + a[u]), u < t && i.push(\"\" + a[u]);\r\n                r = i.join(), o = s.join();\r\n            }\r\n            var c = wa(n);\r\n            this.userCode = \"\\n      void main() {\\n        \" + c + \" resRC = getOutputCoords();\\n        float cVal = getC(\" + r + \");\\n        if (cVal >= 1.0) {\\n          setOutput(getA(\" + o + \"));\\n        } else {\\n          setOutput(getB(\" + o + \"));\\n        }\\n      }\\n    \";\r\n        },\r\n        ls = function() {\r\n            function t(t) {\r\n                this.variableNames = [\"source\"], this.outputShape = t, this.rank = t.length;\r\n                var e, n = wa(this.rank),\r\n                    r = \"uniform int start[\" + this.rank + \"];\",\r\n                    o = function(t) { if (1 === t) return \"sourceLoc\"; if (t <= 6) return hs.slice(0, t).map((function(t) { return \"sourceLoc.\" + t })).join(\",\"); throw Error(\"Slicing for rank \" + t + \" is not yet supported\") }(this.rank);\r\n                e = \"\\n        \" + n + \" sourceLoc;\\n        \" + n + \" coords = getOutputCoords();\\n        \" + t.map((function(t, e) { return \"sourceLoc.\" + hs[e] + \" = start[\" + e + \"] + coords.\" + hs[e] + \";\" })).join(\"\\n\") + \"\\n      \", this.userCode = \"\\n      \" + r + \"\\n      void main() {\\n        \" + e + \"\\n        setOutput(getSource(\" + o + \"));\\n      }\\n    \";\r\n            }\r\n            return t.prototype.getCustomSetupFunc = function(t) { var e = this; if (t.length !== this.rank) throw Error(\"The rank (\" + this.rank + \") of the program must match the length of start (\" + t.length + \")\"); return function(n, r) { null == e.startLoc && (e.startLoc = n.getUniformLocationNoThrow(r, \"start\"), null == e.startLoc) || n.gl.uniform1iv(e.startLoc, t); } }, t\r\n        }(),\r\n        hs = [\"x\", \"y\", \"z\", \"w\", \"u\", \"v\"];\r\n    var fs = function() {\r\n            function t(t) {\r\n                this.variableNames = [\"source\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t, this.rank = t.length;\r\n                var e = wa(this.rank),\r\n                    n = sa(\"coords\", this.rank),\r\n                    r = sa(\"sourceLoc\", this.rank),\r\n                    o = 1 === this.rank ? \"sourceLoc\" : \"vec2(\" + r.slice(-2).join() + \")\",\r\n                    a = \"getChannel(getSource(\" + r.join() + \"), \" + o + \")\",\r\n                    i = \"\\n      result.x = \" + a + \";\\n      if (++\" + n[this.rank - 1] + \" < \" + t[this.rank - 1] + \") {\\n        ++\" + r[this.rank - 1] + \";\\n        result.y = \" + a + \";\\n        --\" + r[this.rank - 1] + \";\\n      }\\n    \",\r\n                    s = 1 === this.rank ? \"\" : \"\\n      --\" + n[this.rank - 1] + \";\\n      if (++\" + n[this.rank - 2] + \" < \" + t[this.rank - 2] + \") {\\n        ++\" + r[this.rank - 2] + \";\\n        result.z = \" + a + \";\\n        if (++\" + n[this.rank - 1] + \" < \" + t[this.rank - 1] + \") {\\n          ++\" + r[this.rank - 1] + \";\\n          result.w = \" + a + \";\\n        }\\n      }\\n    \",\r\n                    u = this.rank <= 4 ? \"sourceLoc = coords +\\n            \" + e + \"(\" + t.map((function(t, e) { return \"start[\" + e + \"]\" })).join() + \");\" : t.map((function(t, e) { return r[e] + \" = \" + n[e] + \" + start[\" + e + \"];\" })).join(\"\\n\");\r\n                this.userCode = \"\\n      uniform int start[\" + this.rank + \"];\\n      void main() {\\n        \" + e + \" coords = getOutputCoords();\\n        \" + e + \" sourceLoc;\\n        \" + u + \"\\n        vec4 result = vec4(0.);\\n        \" + i + \"\\n        \" + s + \"\\n        setOutput(result);\\n      }\\n    \";\r\n            }\r\n            return t.prototype.getCustomSetupFunc = function(t) { var e = this; if (t.length !== this.rank) throw Error(\"The rank (\" + this.rank + \") of the program must match the length of start (\" + t.length + \")\"); return function(n, r) { null == e.startLoc && (e.startLoc = n.getUniformLocationNoThrow(r, \"start\"), null == e.startLoc) || n.gl.uniform1iv(e.startLoc, t); } }, t\r\n        }(),\r\n        ds = function(t, e, n) {\r\n            this.variableNames = [\"x\"], this.outputShape = n;\r\n            var r = n.length,\r\n                o = wa(n.length),\r\n                a = wa(n.length),\r\n                i = \"\";\r\n            if (1 === r) i = \"coords * strides + begin\";\r\n            else {\r\n                var s = 0;\r\n                i = n.map((function(t, e) { return s++, 1 === n.length ? \"coords * strides[\" + e + \"] + begin[\" + e + \"]\" : \"coords[\" + (s - 1) + \"] * strides[\" + e + \"] + begin[\" + e + \"]\" })).join(\",\");\r\n            }\r\n            this.userCode = \"\\n      \" + o + \" begin = \" + o + \"(\" + t + \");\\n      \" + o + \" strides = \" + o + \"(\" + e + \");\\n\\n      void main() {\\n        \" + a + \" coords = getOutputCoords();\\n        setOutput(getX(\" + i + \"));\\n      }\\n    \";\r\n        },\r\n        ps = function() {\r\n            function t(t) { this.gpgpu = t, this.numUsedTextures = 0, this.numFreeTextures = 0, this.freeTextures = {}, this.logEnabled = !1, this.usedTextures = {}; }\r\n            return t.prototype.acquireTexture = function(t, e, n) {\r\n                var r, o = vs(e, n),\r\n                    a = ms(t, o, n);\r\n                if (a in this.freeTextures || (this.freeTextures[a] = []), a in this.usedTextures || (this.usedTextures[a] = []), this.freeTextures[a].length > 0) { this.numFreeTextures--, this.numUsedTextures++, this.log(); var i = this.freeTextures[a].shift(); return this.usedTextures[a].push(i), i }\r\n                return this.numUsedTextures++, this.log(), o === Gt.PACKED_2X2_FLOAT32 ? r = this.gpgpu.createPackedMatrixTexture(t[0], t[1]) : o === Gt.PACKED_2X2_FLOAT16 ? r = this.gpgpu.createFloat16PackedMatrixTexture(t[0], t[1]) : o === Gt.UNPACKED_FLOAT32 ? r = this.gpgpu.createFloat32MatrixTexture(t[0], t[1]) : o === Gt.UNPACKED_FLOAT16 ? r = this.gpgpu.createFloat16MatrixTexture(t[0], t[1]) : o === Gt.PACKED_4X1_UNSIGNED_BYTE && (r = this.gpgpu.createUnsignedBytesMatrixTexture(t[0], t[1])), this.usedTextures[a].push(r), r\r\n            }, t.prototype.releaseTexture = function(t, e, n, r) {\r\n                if (null != this.freeTextures) {\r\n                    var o = ms(e, vs(n, r), r);\r\n                    o in this.freeTextures || (this.freeTextures[o] = []), this.freeTextures[o].push(t), this.numFreeTextures++, this.numUsedTextures--;\r\n                    var a = this.usedTextures[o],\r\n                        i = a.indexOf(t);\r\n                    if (i < 0) throw new Error(\"Cannot release a texture that was never provided by this texture manager\");\r\n                    a.splice(i, 1), this.log();\r\n                }\r\n            }, t.prototype.log = function() {\r\n                if (this.logEnabled) {\r\n                    var t = this.numFreeTextures + this.numUsedTextures;\r\n                    console.log(\"Free/Used\", this.numFreeTextures + \" / \" + this.numUsedTextures, \"(\" + t + \")\");\r\n                }\r\n            }, t.prototype.getNumUsedTextures = function() { return this.numUsedTextures }, t.prototype.getNumFreeTextures = function() { return this.numFreeTextures }, t.prototype.dispose = function() {\r\n                var t = this;\r\n                if (null != this.freeTextures) {\r\n                    for (var e in this.freeTextures) this.freeTextures[e].forEach((function(e) { t.gpgpu.deleteMatrixTexture(e); }));\r\n                    for (var e in this.usedTextures) this.usedTextures[e].forEach((function(e) { t.gpgpu.deleteMatrixTexture(e); }));\r\n                    this.freeTextures = null, this.usedTextures = null, this.numUsedTextures = 0, this.numFreeTextures = 0;\r\n                }\r\n            }, t\r\n        }();\r\n\r\n    function vs(t, e) { if (t === zt.UPLOAD) return Gt.PACKED_2X2_FLOAT32; if (t === zt.RENDER || null == t) return function(t) { return i().getBool(\"WEBGL_RENDER_FLOAT32_ENABLED\") ? t ? Gt.PACKED_2X2_FLOAT32 : Gt.UNPACKED_FLOAT32 : t ? Gt.PACKED_2X2_FLOAT16 : Gt.UNPACKED_FLOAT16 }(e); if (t === zt.DOWNLOAD || t === zt.PIXELS) return Gt.PACKED_4X1_UNSIGNED_BYTE; throw new Error(\"Unknown logical texture type \" + t) }\r\n\r\n    function ms(t, e, n) { return t[0] + \"_\" + t[1] + \"_\" + e + \"_\" + n }\r\n    var gs = function(t, e) {\r\n        this.variableNames = [\"A\"];\r\n        for (var n = new Array(t.length), r = 0; r < n.length; r++) n[r] = t[r] * e[r];\r\n        this.outputShape = n, this.rank = n.length;\r\n        var o = wa(this.rank),\r\n            a = function(t) { var e = t.length; if (e > 5) throw Error(\"Tile for rank \" + e + \" is not yet supported\"); if (1 === e) return \"imod(resRC, \" + t[0] + \")\"; for (var n = [\"resRC.x\", \"resRC.y\", \"resRC.z\", \"resRC.w\", \"resRC.u\"], r = [], o = 0; o < t.length; o++) r.push(\"imod(\" + n[o] + \", \" + t[o] + \")\"); return r.join() }(t);\r\n        this.userCode = \"\\n      void main() {\\n        \" + o + \" resRC = getOutputCoords();\\n        setOutput(getA(\" + a + \"));\\n      }\\n    \";\r\n    };\r\n    var ys = function(t, e) {\r\n        this.variableNames = [\"A\"];\r\n        for (var n = new Array(t.length), r = 0; r < n.length; r++) n[r] = t[e[r]];\r\n        this.outputShape = n, this.rank = n.length;\r\n        var o = wa(this.rank),\r\n            a = function(t) { var e = t.length; if (e > 6) throw Error(\"Transpose for rank \" + e + \" is not yet supported\"); for (var n = [\"resRC.x\", \"resRC.y\", \"resRC.z\", \"resRC.w\", \"resRC.u\", \"resRC.v\"], r = new Array(e), o = 0; o < t.length; o++) r[t[o]] = n[o]; return r.join() }(e);\r\n        this.userCode = \"\\n    void main() {\\n      \" + o + \" resRC = getOutputCoords();\\n      setOutput(getA(\" + a + \"));\\n    }\\n    \";\r\n    };\r\n    var xs = function(t, e) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0;\r\n            for (var n = new Array(t.length), r = 0; r < n.length; r++) n[r] = t[e[r]];\r\n            if (this.outputShape = n, this.rank = n.length, this.rank > 6) throw Error(\"Packed transpose for rank \" + this.rank + \" is not yet supported.\");\r\n            var o = wa(this.rank),\r\n                a = ia(\"rc\", this.rank),\r\n                i = new Array(this.rank);\r\n            for (r = 0; r < e.length; r++) i[e[r]] = a[r];\r\n            var s = \"vec2(\" + i.slice(-2).join() + \")\",\r\n                u = \"++\" + a[this.rank - 1] + \" < \" + n[this.rank - 1],\r\n                c = \"getChannel(getA(\" + i.join() + \"), \" + s + \")\";\r\n            this.userCode = \"\\n    void main() {\\n      \" + o + \" rc = getOutputCoords();\\n      vec4 result = vec4(0.);\\n      result[0] = \" + c + \";\\n      if(\" + u + \") {\\n        result[1] = \" + c + \";\\n      }\\n      --\" + a[this.rank - 1] + \";\\n      if(++\" + a[this.rank - 2] + \" < \" + n[this.rank - 2] + \") {\\n        result[2] = \" + c + \";\\n        if(\" + u + \") {\\n          result[3] = \" + c + \";\\n        }\\n      }\\n      setOutput(result);\\n    }\\n    \";\r\n        },\r\n        bs = 1.7580993408473768,\r\n        ws = 1.0507009873554805,\r\n        Cs = function(t, e) { this.variableNames = [\"A\"], this.outputShape = t, this.userCode = \"\\n      float unaryOperation(float x) {\\n        \" + e + \"\\n      }\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        float y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \"; },\r\n        Es = \"if (isnan(x)) return x;\",\r\n        Rs = \"return x;\",\r\n        Is = \"return abs(x);\",\r\n        ks = Es + \"\\n  return (x < 0.0) ? 0.0 : x;\\n\",\r\n        Ss = Es + \"\\n  return (x < 0.0) ? 0.0 : min(6.0, x);\\n\",\r\n        As = \"return (x >= 0.0) ? x : (exp(x) - 1.0);\",\r\n        Ds = \"\\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\\n  // see: https://arxiv.org/abs/1706.02515\\n  float scaleAlpha = \" + bs + \";\\n  float scale = \" + ws + \";\\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\\n\";\r\n    var Ts = \"return -x;\",\r\n        Ns = \"return ceil(x);\",\r\n        Fs = \"return floor(x);\",\r\n        _s = \"return exp(x);\",\r\n        Os = \"return exp(x) - 1.0;\",\r\n        Ms = Es + \"\\n  return sin(x);\\n\",\r\n        Bs = Es + \"\\n  return cos(x);\\n\",\r\n        Ps = Es + \"\\n  if (abs(x) > 1.) {\\n    return NAN;\\n  }\\n  return asin(x);\\n\",\r\n        Ls = Es + \"\\n  if (abs(x) > 1.) {\\n    return NAN;\\n  }\\n  return acos(x);\\n\",\r\n        Ws = Es + \"\\n  return atan(x);\\n\",\r\n        Us = Es + \"return log(x + sqrt(x * x + 1.0));\",\r\n        Vs = Es + \"\\n  if (x < 1.0) return NAN;\\n  return log(x + sqrt(x * x - 1.0));\",\r\n        zs = Es + \"\\n  if ((x < -1.0) || (x > 1.0)) return NAN;\\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;\",\r\n        Gs = \"return x;\",\r\n        Hs = \"return x;\",\r\n        qs = \"\\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\\n  bvec4 isNaN = isnan(x);\\n\\n  result.r = isNaN.r ? x.r : result.r;\\n  result.g = isNaN.g ? x.g : result.g;\\n  result.b = isNaN.b ? x.b : result.b;\\n  result.a = isNaN.a ? x.a : result.a;\\n\\n  return result;\\n\",\r\n        Ks = \"\\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\\n  bvec4 isNaN = isnan(x);\\n\\n  result.r = isNaN.r ? x.r : result.r;\\n  result.g = isNaN.g ? x.g : result.g;\\n  result.b = isNaN.b ? x.b : result.b;\\n  result.a = isNaN.a ? x.a : result.a;\\n\\n  return result;\\n\",\r\n        js = \"\\n  vec4 result;\\n\\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\\n\\n  return result;\\n\",\r\n        Xs = function(t, e) { this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !0, this.outputShape = t, this.userCode = \"\\n      vec4 unaryOperation(vec4 x) {\\n        \" + e + \"\\n      }\\n\\n      void main() {\\n        vec4 x = getAAtOutCoords();\\n        vec4 y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \"; },\r\n        Ys = function(t) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !0, this.packedOutput = !1, this.outputShape = t;\r\n            var e = t.length,\r\n                n = sa(\"rc\", e),\r\n                r = wa(e),\r\n                o = function(t, e) { if (1 === t) return \"rc\"; for (var n = \"\", r = 0; r < t; r++) n += e[r], r < t - 1 && (n += \",\"); return n }(e, n),\r\n                a = n.slice(-2),\r\n                i = e <= 1 ? \"rc\" : \"vec2(\" + a.join(\",\") + \")\";\r\n            this.userCode = \"\\n      void main() {\\n        \" + r + \" rc = getOutputCoords();\\n        vec4 packedInput = getA(\" + o + \");\\n\\n        setOutput(getChannel(packedInput, \" + i + \"));\\n      }\\n    \";\r\n        },\r\n        $s = {};\r\n\r\n    function Qs(t, e) { if (void 0 === e && (e = !1), \"linear\" === t) return e ? Hs : Rs; if (\"relu\" === t) return e ? qs : ks; if (\"elu\" === t) return e ? js : As; if (\"relu6\" === t) return e ? Ks : Ss; if (\"prelu\" === t) return e ? Pa : Ma; throw new Error(\"Activation \" + t + \" has not been implemented for the WebGL backend.\") }\r\n    var Js = 600;\r\n    var Zs = function(t) {\r\n        function o(e) {\r\n            var n, r = t.call(this) || this;\r\n            if (r.pendingRead = new WeakMap, r.pendingDisposal = new WeakSet, r.dataRefCount = new WeakMap, r.numBytesInGPU = 0, r.uploadWaitMs = 0, r.downloadWaitMs = 0, r.warnedAboutMemory = !1, r.pendingDeletes = 0, r.disposed = !1, !i().getBool(\"HAS_WEBGL\")) throw new Error(\"WebGL is not supported on this device\");\r\n            if (null == e) {\r\n                var o = jt(i().getNumber(\"WEBGL_VERSION\"));\r\n                r.binaryCache = (n = i().getNumber(\"WEBGL_VERSION\")) in $s ? $s[n] : ($s[n] = {}, $s[n]), r.gpgpu = new Bi(o), r.canvas = o.canvas, r.gpgpuCreatedLocally = !0;\r\n            } else r.gpgpu = e, r.binaryCache = {}, r.gpgpuCreatedLocally = !1, r.canvas = e.gl.canvas;\r\n            return r.textureManager = new ps(r.gpgpu), r.numMBBeforeWarning = null == i().global.screen ? 1024 : i().global.screen.height * i().global.screen.width * window.devicePixelRatio * Js / 1024 / 1024, r.texData = new xo(r, Lt), r\r\n        }\r\n        return e(o, t), o.prototype.numDataIds = function() { return this.texData.numDataIds() + (this.cpuBackend ? this.cpuBackend.numDataIds() : 0) - this.pendingDeletes }, o.prototype.write = function(t, e, n) { if (i().getBool(\"DEBUG\") && this.checkNumericalProblems(t), \"complex64\" === n && null != t) throw new Error(\"Cannot write to a complex64 dtype. Please use tf.complex(real, imag).\"); var r = {}; return this.texData.set(r, { shape: e, dtype: n, values: t, usage: zt.UPLOAD }), r }, o.prototype.move = function(t, e, n, r) {\r\n            if (i().getBool(\"DEBUG\") && this.checkNumericalProblems(e), \"complex64\" === r) throw new Error(\"Cannot write to a complex64 dtype. Please use tf.complex(real, imag).\");\r\n            this.texData.set(t, { shape: n, dtype: r, values: e, usage: zt.UPLOAD });\r\n        }, o.prototype.readSync = function(t) {\r\n            var e = this.texData.get(t),\r\n                n = e.values,\r\n                r = e.dtype,\r\n                o = e.complexTensors,\r\n                a = e.slice,\r\n                i = e.shape,\r\n                s = e.isPacked;\r\n            if (null != a) {\r\n                var u = void 0;\r\n                u = s ? new Xs(i, Gs) : new Cs(i, Gs);\r\n                var c = this.runWebGLProgram(u, [{ dataId: t, shape: i, dtype: r }], r),\r\n                    l = this.readSync(c.dataId);\r\n                return this.disposeData(c.dataId), l\r\n            }\r\n            if (null != n) return this.convertAndCacheOnCPU(t);\r\n            if (\"string\" === r) return n;\r\n            var h, f, d = null != this.activeTimers;\r\n            (d && (h = et()), \"complex64\" === r) ? f = Vo(o.real.dataSync(), o.imag.dataSync()): f = this.getValuesFromTexture(t);\r\n            return d && (this.downloadWaitMs += et() - h), this.convertAndCacheOnCPU(t, f)\r\n        }, o.prototype.read = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e, n, o, a, s, u, c, l, h, f, d, p, v, m, g, y, x, b, w, C, E, R;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            if (this.pendingRead.has(t)) return e = this.pendingRead.get(t), [2, new Promise((function(t) { return e.push(t) }))];\r\n                            if (n = this.texData.get(t), o = n.values, a = n.shape, s = n.slice, u = n.dtype, c = n.complexTensors, l = n.isPacked, null != s) return h = void 0, h = l ? new Xs(a, Gs) : new Cs(a, Gs), f = this.runWebGLProgram(h, [{ dataId: t, shape: a, dtype: u }], u), d = this.read(f.dataId), this.disposeData(f.dataId), [2, d];\r\n                            if (null != o) return [2, this.convertAndCacheOnCPU(t)];\r\n                            if (!i().getBool(\"WEBGL_DOWNLOAD_FLOAT_ENABLED\") && 2 === i().getNumber(\"WEBGL_VERSION\")) throw new Error(\"tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.\");\r\n                            return p = null, \"complex64\" !== u && i().get(\"WEBGL_BUFFER_SUPPORTED\") && (v = this.decode(t), m = this.texData.get(v.dataId), p = (R = this.gpgpu).createBufferFromTexture.apply(R, [m.texture].concat(Yt(a)))), this.pendingRead.set(t, []), \"complex64\" === u ? [3, 2] : [4, this.gpgpu.createAndWaitForFence()];\r\n                        case 1:\r\n                            r.sent(), r.label = 2;\r\n                        case 2:\r\n                            return \"complex64\" !== u ? [3, 4] : [4, Promise.all([c.real.data(), c.imag.data()])];\r\n                        case 3:\r\n                            return y = r.sent(), x = y[0], b = y[1], g = Vo(x, b), [3, 5];\r\n                        case 4:\r\n                            null == p ? g = this.getValuesFromTexture(t) : (w = k(a), g = this.gpgpu.downloadFloat32MatrixFromBuffer(p, w)), r.label = 5;\r\n                        case 5:\r\n                            return null != v && this.disposeData(v.dataId), C = this.convertAndCacheOnCPU(t, g), E = this.pendingRead.get(t), this.pendingRead.delete(t), E.forEach((function(t) { return t(C) })), this.pendingDisposal.has(t) && (this.pendingDisposal.delete(t), this.disposeData(t), this.pendingDeletes--), [2, C]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.checkNumericalProblems = function(t) {\r\n            if (null != t)\r\n                for (var e = 0; e < t.length; e++) { var n = t[e]; if (!ee(n)) { if (i().getBool(\"WEBGL_RENDER_FLOAT32_CAPABLE\")) throw Error(\"The value \" + n + \" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'\"); throw Error(\"The value \" + n + \" cannot be represented on this device.\") } }\r\n        }, o.prototype.getValuesFromTexture = function(t) {\r\n            var e, n = this.texData.get(t),\r\n                r = n.shape,\r\n                o = n.dtype,\r\n                a = n.isPacked,\r\n                s = k(r);\r\n            if (i().getBool(\"WEBGL_DOWNLOAD_FLOAT_ENABLED\")) {\r\n                var u = this.decode(t),\r\n                    c = this.texData.get(u.dataId),\r\n                    l = (e = this.gpgpu).downloadMatrixFromPackedTexture.apply(e, [c.texture].concat(Yt(r))).subarray(0, s);\r\n                return this.disposeData(u.dataId), l\r\n            }\r\n            var h = i().getBool(\"WEBGL_PACK\") && !0 === a,\r\n                f = h ? Te(r) : r,\r\n                d = h ? new ci(f) : new ui(f),\r\n                p = this.runWebGLProgram(d, [{ shape: f, dtype: o, dataId: t }], \"float32\"),\r\n                v = this.texData.get(p.dataId),\r\n                m = this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture, v.texShape[0], v.texShape[1]).subarray(0, s);\r\n            return this.disposeData(p.dataId), m\r\n        }, o.prototype.time = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e, n, o, a, s, u, c;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return e = this.activeTimers, n = [], o = !1, null == this.programTimersStack ? (this.programTimersStack = n, o = !0) : this.activeTimers.push(n), this.activeTimers = n, t(), a = I(this.activeTimers.map((function(t) { return t.query }))).filter((function(t) { return null != t })), s = I(this.activeTimers.map((function(t) { return t.name }))).filter((function(t) { return null != t })), this.activeTimers = e, o && (this.programTimersStack = null), u = { uploadWaitMs: this.uploadWaitMs, downloadWaitMs: this.downloadWaitMs, kernelMs: null, wallMs: null }, i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\") > 0 ? [4, Promise.all(a)] : [3, 2];\r\n                        case 1:\r\n                            return c = r.sent(), u.kernelMs = w(c), u.getExtraProfileInfo = function() { return c.map((function(t, e) { return { name: s[e], ms: t } })).map((function(t) { return t.name + \": \" + t.ms })).join(\", \") }, [3, 3];\r\n                        case 2:\r\n                            u.kernelMs = { error: \"WebGL query timers are not supported in this environment.\" }, r.label = 3;\r\n                        case 3:\r\n                            return this.uploadWaitMs = 0, this.downloadWaitMs = 0, [2, u]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.memory = function() { return { unreliable: !1, numBytesInGPU: this.numBytesInGPU } }, o.prototype.startTimer = function() { return i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\") > 0 ? this.gpgpu.beginQuery() : { startMs: et(), endMs: null } }, o.prototype.endTimer = function(t) { return i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\") > 0 ? (this.gpgpu.endQuery(), t) : (t.endMs = et(), t) }, o.prototype.getQueryTime = function(t) { return n(this, void 0, void 0, (function() { var e; return r(this, (function(n) { return i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\") > 0 ? [2, this.gpgpu.waitForQueryAndGetTime(t)] : [2, (e = t).endMs - e.startMs] })) })) }, o.prototype.disposeData = function(t) {\r\n            if (!this.pendingDisposal.has(t)) {\r\n                if (this.pendingRead.has(t)) return this.pendingDisposal.add(t), void this.pendingDeletes++;\r\n                if (this.texData.has(t)) {\r\n                    this.releaseGPUData(t);\r\n                    var e = this.texData.get(t).complexTensors;\r\n                    null != e && (e.real.dispose(), e.imag.dispose()), this.texData.delete(t);\r\n                }\r\n            }\r\n        }, o.prototype.releaseGPUData = function(t) {\r\n            var e = this.texData.get(t),\r\n                n = e.texture,\r\n                r = e.dtype,\r\n                o = e.texShape,\r\n                a = e.usage,\r\n                i = e.isPacked,\r\n                s = e.slice,\r\n                u = s && s.origDataId || t,\r\n                c = this.dataRefCount.get(u);\r\n            c > 1 ? this.dataRefCount.set(u, c - 1) : (this.dataRefCount.delete(u), null != n && (this.numBytesInGPU -= this.computeBytes(o, r), this.textureManager.releaseTexture(n, o, a, i)));\r\n            var l = this.texData.get(t);\r\n            l.texture = null, l.texShape = null, l.isPacked = !1, l.slice = null;\r\n        }, o.prototype.getTexture = function(t) { return this.uploadToGPU(t), this.texData.get(t).texture }, o.prototype.getDataInfo = function(t) { return this.texData.get(t) }, o.prototype.getCPUBackend = function() { return i().getBool(\"WEBGL_CPU_FORWARD\") ? (null == this.cpuBackend && (this.cpuBackend = Lt.findBackend(\"cpu\")), this.cpuBackend) : null }, o.prototype.shouldExecuteOnCPU = function(t, e) { var n = this; return void 0 === e && (e = 128), null != this.getCPUBackend() && t.every((function(t) { return null == n.texData.get(t.dataId).texture && t.size < e })) }, o.prototype.getGPGPUContext = function() { return this.gpgpu }, o.prototype.complex = function(t, e) { var n = this.makeOutput(t.shape, \"complex64\"); return this.texData.get(n.dataId).complexTensors = { real: Lt.keep(t.clone()), imag: Lt.keep(e.clone()) }, n }, o.prototype.real = function(t) { return this.texData.get(t.dataId).complexTensors.real.clone() }, o.prototype.imag = function(t) { return this.texData.get(t.dataId).complexTensors.imag.clone() }, o.prototype.slice = function(t, e, n) {\r\n            if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.slice(t, e, n);\r\n            if (0 === k(n)) return Fn([], n, t.dtype);\r\n            var r = this.texData.get(t.dataId).isPacked,\r\n                o = io(t.shape, e, n);\r\n            if (r || !o) {\r\n                var a = i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\") ? new fs(n) : new ls(n),\r\n                    s = a.getCustomSetupFunc(e);\r\n                return this.compileAndRun(a, [t], null, s)\r\n            }\r\n            return this.uploadToGPU(t.dataId), this.shallowSlice(t, e, n)\r\n        }, o.prototype.shallowSlice = function(t, e, n) {\r\n            var r = this.texData.get(t.dataId),\r\n                o = this.makeOutput(n, t.dtype),\r\n                a = this.texData.get(o.dataId);\r\n            Object.assign(a, r), a.shape = n, a.dtype = t.dtype;\r\n            var i = so(e, t.strides);\r\n            r.slice && (i += r.slice.flatOffset), a.slice = { flatOffset: i, origDataId: r.slice && r.slice.origDataId || t.dataId };\r\n            var s = this.dataRefCount.get(a.slice.origDataId) || 1;\r\n            return this.dataRefCount.set(a.slice.origDataId, s + 1), o\r\n        }, o.prototype.stridedSlice = function(t, e, n, r) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.stridedSlice(t, e, n, r); var o = ro(e, n, r); if (o.some((function(t) { return 0 === t }))) return Fn([], o); var a = new ds(e, r, o); return this.compileAndRun(a, [t]) }, o.prototype.reverse = function(t, e) { var n = i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\") ? new is(t.shape, e) : new as(t.shape, e); return this.compileAndRun(n, [t]) }, o.prototype.concat = function(t, e) {\r\n            if (\"complex64\" === t[0].dtype) {\r\n                var n = t.map((function(t) { return Tn(t) })),\r\n                    r = t.map((function(t) { return Nn(t) }));\r\n                return Dn(this.concat(n, e), this.concat(r, e))\r\n            }\r\n            if (this.shouldExecuteOnCPU(t)) return this.cpuBackend.concat(t, e);\r\n            if (1 === t.length) return t[0];\r\n            if (t.length > i().getNumber(\"WEBGL_MAX_TEXTURES_IN_SHADER\")) {\r\n                var o = Math.floor(t.length / 2),\r\n                    a = this.concat(t.slice(0, o), e),\r\n                    s = this.concat(t.slice(o), e);\r\n                return this.concat([a, s], e)\r\n            }\r\n            if (i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\") && t[0].rank > 1) { var u = new Ga(t.map((function(t) { return t.shape })), e); return this.compileAndRun(u, t) }\r\n            var c = Sn(t.map((function(t) { return t.shape })), e),\r\n                l = t.map((function(t) { return t.as2D(-1, k(t.shape.slice(e))) })),\r\n                h = new za(l.map((function(t) { return t.shape })));\r\n            return this.compileAndRun(h, l).reshape(c)\r\n        }, o.prototype.neg = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.neg(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, Ts, t.dtype); var e = new Cs(t.shape, Ts); return this.compileAndRun(e, [t]) }, o.prototype.batchMatMul = function(t, e, n, r) {\r\n            var o = n ? t.shape[2] : t.shape[1],\r\n                a = r ? e.shape[1] : e.shape[2],\r\n                i = n ? t.shape[1] : t.shape[2],\r\n                s = t.shape[0];\r\n            if ((1 === o || 1 === a) && i > 1e3) {\r\n                n && (t = t.transpose([0, 2, 1])), r && (e = e.transpose([0, 2, 1]));\r\n                var u = 1 === a ? t : t.as3D(s, i, 1),\r\n                    c = 1 === a ? 2 : 1,\r\n                    l = 1 === a ? e.as3D(s, 1, i) : e;\r\n                return this.multiply(u, l).sum(c, !0)\r\n            }\r\n            var h = Dt(t.dtype, e.dtype),\r\n                f = new Hi(t.shape, [s, o, a], n, r);\r\n            return this.compileAndRun(f, [t, e], h)\r\n        }, o.prototype.fusedBatchMatMul = function(t) {\r\n            var e = t.a,\r\n                n = t.b,\r\n                r = t.transposeA,\r\n                o = t.transposeB,\r\n                a = t.bias,\r\n                i = t.activation,\r\n                s = t.preluActivationWeights,\r\n                u = r ? e.shape[2] : e.shape[1],\r\n                c = o ? n.shape[1] : n.shape[2],\r\n                l = e.shape[0],\r\n                h = Dt(e.dtype, n.dtype),\r\n                f = null != a,\r\n                d = null != s,\r\n                p = i ? Qs(i, !0) : null,\r\n                v = new Hi(e.shape, [l, u, c], r, o, f, p, d),\r\n                m = [e, n];\r\n            return a && m.push(a), s && m.push(s), this.compileAndRun(v, m, h)\r\n        }, o.prototype.multiply = function(t, e) {\r\n            if (\"complex64\" === t.dtype) {\r\n                var n = this.texData.get(t.dataId),\r\n                    r = this.texData.get(e.dataId),\r\n                    o = new Na(Da, t.shape, e.shape),\r\n                    a = new Na(Ta, t.shape, e.shape),\r\n                    s = [this.makeComplexComponentTensorInfo(t, n.complexTensors.real), this.makeComplexComponentTensorInfo(t, n.complexTensors.imag), this.makeComplexComponentTensorInfo(e, r.complexTensors.real), this.makeComplexComponentTensorInfo(e, r.complexTensors.imag)],\r\n                    u = this.compileAndRun(o, s),\r\n                    c = this.compileAndRun(a, s),\r\n                    l = this.complex(u, c);\r\n                return u.dispose(), c.dispose(), l\r\n            }\r\n            if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.multiply(t, e);\r\n            if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, Oa, t.dtype);\r\n            var h = new Ba(Oa, t.shape, e.shape);\r\n            return this.compileAndRun(h, [t, e], t.dtype)\r\n        }, o.prototype.batchNormalization = function(t, e, n, r, o, a) {\r\n            var s = [t, e, n],\r\n                u = null;\r\n            null != a && (u = a.shape, s.push(a));\r\n            var c = null;\r\n            if (null != o && (c = o.shape, s.push(o)), i().getBool(\"WEBGL_PACK_NORMALIZATION\")) { var l = new Aa(t.shape, e.shape, n.shape, u, c, r); return this.compileAndRun(l, s) }\r\n            var h = new Sa(t.shape, e.shape, n.shape, u, c, r);\r\n            return this.compileAndRun(h, s)\r\n        }, o.prototype.localResponseNormalization4D = function(t, e, n, r, o) { var a = i().getBool(\"WEBGL_PACK_NORMALIZATION\") ? new Vi(t.shape, e, n, r, o) : new Wi(t.shape, e, n, r, o); return this.compileAndRun(a, [t]) }, o.prototype.LRNGrad = function(t, e, n, r, o, a, i) { var s = new Ui(e.shape, r, o, a, i); return this.compileAndRun(s, [e, n, t]) }, o.prototype.tile = function(t, e) { if (\"string\" === t.dtype) { var n = this.readSync(t.dataId).map((function(t) { return ot(t) })); return ta(dr(t.shape, t.dtype, n), e) } var r = new gs(t.shape, e); return this.compileAndRun(r, [t]) }, o.prototype.pad = function(t, e, n) { var r = i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\") ? new Yi(t.shape, e, n) : new Xi(t.shape, e, n); return this.compileAndRun(r, [t]) }, o.prototype.transpose = function(t, e) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.transpose(t, e); var n = i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\") ? new xs(t.shape, e) : new ys(t.shape, e); return this.compileAndRun(n, [t]) }, o.prototype.gather = function(t, e, n) { if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.gather(t, e, n); var r = new mi(t.shape, e.size, n); return this.compileAndRun(r, [t, e]) }, o.prototype.batchToSpaceND = function(t, e, n) {\r\n            C(t.rank <= 4, (function() { return \"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet\" }));\r\n            var r = e.reduce((function(t, e) { return t * e })),\r\n                o = zr(t.shape, e, r),\r\n                a = Gr(o.length, e.length),\r\n                i = Hr(t.shape, e, r),\r\n                s = qr(n, e.length),\r\n                u = Kr(i, n, e.length);\r\n            return t.reshape(o).transpose(a).reshape(i).slice(s, u)\r\n        }, o.prototype.spaceToBatchND = function(t, e, n) {\r\n            C(t.rank <= 4, (function() { return \"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet\" }));\r\n            var r = e.reduce((function(t, e) { return t * e })),\r\n                o = [\r\n                    [0, 0]\r\n                ];\r\n            o.push.apply(o, n);\r\n            for (var a = 1 + e.length; a < t.shape.length; ++a) o.push([0, 0]);\r\n            var i = t.pad(o),\r\n                s = zr(i.shape, e, r, !1),\r\n                u = Gr(s.length, e.length, !1),\r\n                c = Hr(i.shape, e, r, !1);\r\n            return i.reshape(s).transpose(u).reshape(c)\r\n        }, o.prototype.reduce = function(t, e, n) {\r\n            var r = t.shape[0],\r\n                o = t.shape[1],\r\n                a = $r(o),\r\n                i = new Ji({ windowSize: a, inSize: o, batchSize: r }, e),\r\n                s = this.compileAndRun(i, [t], n);\r\n            return 1 === s.shape[1] ? s : this.reduce(s, e, n)\r\n        }, o.prototype.argReduce = function(t, e, n) {\r\n            void 0 === n && (n = null);\r\n            var r = t.shape[0],\r\n                o = t.shape[1];\r\n            null != n && (r = n.shape[0], o = n.shape[1]);\r\n            var a = $r(o),\r\n                i = new aa({ windowSize: a, inSize: o, batchSize: r }, e, null == n),\r\n                s = [t];\r\n            null != n && s.push(n);\r\n            var u = this.compileAndRun(i, s, \"int32\");\r\n            return 1 === u.shape[1] ? u : this.argReduce(t, e, u)\r\n        }, o.prototype.argReducePacked = function(t, e, n) {\r\n            void 0 === n && (n = null);\r\n            var r = null != n ? n.shape : t.shape,\r\n                o = $r(r[r.length - 1]),\r\n                a = new Ra(r, o, e, null == n),\r\n                i = null == n ? [t] : [t, n],\r\n                s = this.compileAndRun(a, i, \"int32\");\r\n            return s.rank === t.rank ? this.argReducePacked(t, e, s) : s\r\n        }, o.prototype.sum = function(t, e) {\r\n            Cn(\"sum\", e, t.rank);\r\n            var n = bn(t.shape, e),\r\n                r = n[0],\r\n                o = k(n[1]),\r\n                a = t.as2D(-1, o),\r\n                i = Tt(t.dtype);\r\n            return this.reduce(a, \"sum\", i).reshape(r)\r\n        }, o.prototype.prod = function(t, e) {\r\n            if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.prod(t, e);\r\n            var n = bn(t.shape, e),\r\n                r = n[0],\r\n                o = k(n[1]),\r\n                a = t.as2D(-1, o),\r\n                i = Tt(t.dtype);\r\n            return this.reduce(a, \"prod\", i).reshape(r)\r\n        }, o.prototype.unsortedSegmentSum = function(t, e, n) {\r\n            var r = 0,\r\n                o = En([r], t.rank),\r\n                a = t;\r\n            null != o && (a = t.transpose(o), r = In(1, t.rank)[0]);\r\n            var i = function(t, e, n) { for (var r = [], o = t.length, a = 0; a < o; a++) a !== e ? r.push(t[a]) : r.push(n); return r }(a.shape, r, n),\r\n                s = k([a.shape[r]]),\r\n                u = a.as2D(-1, s),\r\n                c = Tt(t.dtype),\r\n                l = this.segOpCompute(u, \"unsortedSegmentSum\", e, c, n).reshape(i);\r\n            return null != o && (l = l.transpose(Rn(o))), l\r\n        }, o.prototype.segOpCompute = function(t, e, n, r, o) {\r\n            var a = t.shape[0],\r\n                i = t.shape[1],\r\n                s = function(t, e) { var n, r = !1; for (t <= Yr ? (n = t, r = !0) : n = Y(t, Math.floor(Math.sqrt(t))); !r;) n > e || n === t ? r = !0 : n = Y(t, n + 1); return n }(i, o),\r\n                u = new us({ windowSize: s, inSize: i, batchSize: a, numSegments: o }, e),\r\n                c = this.compileAndRun(u, [t, n], r);\r\n            return c.shape[1] === o ? c : (n = Kn(0, o).tile([i / s]), this.segOpCompute(c, e, n, r, o))\r\n        }, o.prototype.argMinMaxReduce = function(t, e, n) {\r\n            var r = [e];\r\n            if (Cn(\"arg\" + n.charAt(0).toUpperCase() + n.slice(1), r, t.rank), !i().getBool(\"WEBGL_PACK_REDUCE\") || t.rank <= 2) {\r\n                var o = bn(t.shape, r),\r\n                    a = o[0],\r\n                    s = k(o[1]),\r\n                    u = t.as2D(-1, s);\r\n                return this.argReduce(u, n).reshape(a)\r\n            }\r\n            return this.argReducePacked(t, n)\r\n        }, o.prototype.argMin = function(t, e) { return this.argMinMaxReduce(t, e, \"min\") }, o.prototype.argMax = function(t, e) { return this.argMinMaxReduce(t, e, \"max\") }, o.prototype.cumsum = function(t, e, n, r) { if (e !== t.rank - 1) throw new Error(\"WebGL cumsum shader expects an inner-most axis=\" + (t.rank - 1) + \" but got axis=\" + e); var o = new ni(t.shape, n, r); return this.compileAndRun(o, [t]) }, o.prototype.equal = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(equal(a, b));\\n\", \"bool\"); var n = new Ba(\"return float(a == b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.notEqual = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(notEqual(a, b));\\n\", \"bool\"); var n = new Ba(\"return float(a != b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.less = function(t, e) { if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.less(t, e); if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(lessThan(a, b));\\n\", \"bool\"); var n = new Ba(\"return float(a < b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.lessEqual = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(lessThanEqual(a, b));\\n\", \"bool\"); var n = new Ba(\"return float(a <= b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.greater = function(t, e) { if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.greater(t, e); if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(greaterThan(a, b));\\n\", \"bool\"); var n = new Ba(\"return float(a > b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.greaterEqual = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(greaterThanEqual(a, b));\\n\", \"bool\"); var n = new Ba(\"return float(a >= b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.logicalNot = function(t) { var e = new Cs(t.shape, \"return float(!(x >= 1.0));\"); return this.compileAndRun(e, [t]) }, o.prototype.logicalAnd = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return vec4(\\n    vec4(greaterThanEqual(a, vec4(1.0))) *\\n    vec4(greaterThanEqual(b, vec4(1.0))));\\n\", \"bool\"); var n = new Ba(\"return float(a >= 1.0 && b >= 1.0);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.logicalOr = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  return min(\\n    vec4(greaterThanEqual(a, vec4(1.0))) +\\n    vec4(greaterThanEqual(b, vec4(1.0))),\\n    vec4(1.0));\\n\", \"bool\"); var n = new Ba(\"return float(a >= 1.0 || b >= 1.0);\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"bool\") }, o.prototype.select = function(t, e, n) { var r = new cs(t.rank, e.shape, e.rank); return this.compileAndRun(r, [t, e, n], Dt(e.dtype, n.dtype)) }, o.prototype.where = function(t) { dn(\"tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead\"); var e = t.dataSync(); return na(t.shape, e) }, o.prototype.topk = function(t, e, n) { return ea(t.dataSync(), t.shape, t.dtype, e) }, o.prototype.min = function(t, e) {\r\n            Cn(\"min\", e, t.rank);\r\n            var n = bn(t.shape, e),\r\n                r = n[0],\r\n                o = k(n[1]),\r\n                a = t.as2D(-1, o);\r\n            return this.reduce(a, \"min\", a.dtype).reshape(r)\r\n        }, o.prototype.minimum = function(t, e) { if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.minimum(t, e); var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"\\n  vec4 result = vec4(min(a, b));\\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\", t.shape, e.shape) : new Ba(\"\\n  if (isnan(a)) return a;\\n  if (isnan(b)) return b;\\n\\n  return min(a, b);\\n\", t.shape, e.shape); return this.compileAndRun(n, [t, e]) }, o.prototype.mod = function(t, e) { var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"\\n  vec4 result = mod(a, b);\\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\", t.shape, e.shape) : new Ba(\"if (b == 0.0) return NAN;\\n  return mod(a, b);\", t.shape, e.shape); return this.compileAndRun(n, [t, e]) }, o.prototype.max = function(t, e) {\r\n            if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.max(t, e);\r\n            Cn(\"max\", e, t.rank);\r\n            var n = bn(t.shape, e),\r\n                r = n[0],\r\n                o = k(n[1]),\r\n                a = t.as2D(-1, o);\r\n            return this.reduce(a, \"max\", a.dtype).reshape(r)\r\n        }, o.prototype.maximum = function(t, e) { if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.maximum(t, e); var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"\\n  vec4 result = vec4(max(a, b));\\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\", t.shape, e.shape) : new Ba(\"\\n  if (isnan(a)) return a;\\n  if (isnan(b)) return b;\\n\\n  return max(a, b);\\n\", t.shape, e.shape); return this.compileAndRun(n, [t, e]) }, o.prototype.all = function(t, e) {\r\n            Cn(\"all\", e, t.rank);\r\n            var n = bn(t.shape, e),\r\n                r = n[0],\r\n                o = k(n[1]),\r\n                a = t.as2D(-1, o);\r\n            return this.reduce(a, \"all\", a.dtype).reshape(r)\r\n        }, o.prototype.any = function(t, e) {\r\n            Cn(\"any\", e, t.rank);\r\n            var n = bn(t.shape, e),\r\n                r = n[0],\r\n                o = k(n[1]),\r\n                a = t.as2D(-1, o);\r\n            return this.reduce(a, \"any\", a.dtype).reshape(r)\r\n        }, o.prototype.realDivide = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) { return this.packedBinaryOp(t, e, \"\\n  // vec4 one = vec4(equal(a, b));\\n  // return one + (vec4(1.0) - one) * a / b;\\n  vec4 result = a / b;\\n  if(a.x == b.x) {\\n    result.x = 1.;\\n  }\\n  if(a.y == b.y) {\\n    result.y = 1.;\\n  }\\n  if(a.z == b.z) {\\n    result.z = 1.;\\n  }\\n  if(a.w == b.w) {\\n    result.w = 1.;\\n  }\\n\\n  return result;\\n\", \"float32\", !0) } var n = new Ba(\"\\nif (a == b) {\\n  return 1.0;\\n};\\nreturn a / b;\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"float32\") }, o.prototype.floorDiv = function(t, e) { if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, \"\\n  ivec4 ia = round(a);\\n  ivec4 ib = round(b);\\n  bvec4 cond = notEqual(ib, ivec4(0));\\n  ivec4 result = ivec4(0);\\n  vec4 s = sign(a) * sign(b);\\n\\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\\n  if (cond[0]) {\\n    result[0] = idiv(ia[0], ib[0], s[0]);\\n  }\\n  if (cond[1]) {\\n    result[1] = idiv(ia[1], ib[1], s[1]);\\n  }\\n  if (cond[2]) {\\n    result[2] = idiv(ia[2], ib[2], s[2]);\\n  }\\n  if (cond[3]) {\\n    result[3] = idiv(ia[3], ib[3], s[3]);\\n  }\\n  return vec4(result);\\n\", \"int32\"); var n = new Ba(\"\\n  float s = sign(a) * sign(b);\\n  int ia = round(a);\\n  int ib = round(b);\\n  if (ib != 0) {\\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\\n    return float(idiv(ia, ib, s));\\n  } else {\\n    return NAN;\\n  }\\n\", t.shape, e.shape); return this.compileAndRun(n, [t, e], \"int32\") }, o.prototype.add = function(t, e) { if (\"complex64\" === t.dtype && \"complex64\" === e.dtype) return this.complexSeparableBinaryOp(t, e, Fa); if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.add(t, e); var n = Dt(t.dtype, e.dtype); if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, Fa, n); var r = new Ba(Fa, t.shape, e.shape); return this.compileAndRun(r, [t, e], n) }, o.prototype.packedUnaryOp = function(t, e, n) { var r = new Xs(t.shape, e); return this.compileAndRun(r, [t], n) }, o.prototype.packedBinaryOp = function(t, e, n, r, o) { void 0 === o && (o = !1); var a = new La(n, t.shape, e.shape, o); return this.compileAndRun(a, [t, e], r) }, o.prototype.complexSeparableBinaryOp = function(t, e, n) {\r\n            var r = this,\r\n                o = this.texData.get(t.dataId),\r\n                a = this.texData.get(e.dataId),\r\n                i = [\r\n                    [o.complexTensors.real, a.complexTensors.real],\r\n                    [o.complexTensors.imag, a.complexTensors.imag]\r\n                ].map((function(o) {\r\n                    var a = o[0],\r\n                        i = o[1],\r\n                        s = r.makeComplexComponentTensorInfo(t, a),\r\n                        u = r.makeComplexComponentTensorInfo(e, i),\r\n                        c = new Ba(n, t.shape, e.shape);\r\n                    return r.compileAndRun(c, [s, u], Dt(a.dtype, i.dtype))\r\n                })),\r\n                s = i[0],\r\n                u = i[1],\r\n                c = this.complex(s, u);\r\n            return s.dispose(), u.dispose(), c\r\n        }, o.prototype.makeComplexComponentTensorInfo = function(t, e) { return { dataId: e.dataId, dtype: e.dtype, shape: t.shape } }, o.prototype.addN = function(t) {\r\n            if (1 === t.length) return t[0];\r\n            if (t.length > i().get(\"WEBGL_MAX_TEXTURES_IN_SHADER\")) {\r\n                var e = Math.floor(t.length / 2),\r\n                    n = this.addN(t.slice(0, e)),\r\n                    r = this.addN(t.slice(e));\r\n                return this.addN([n, r])\r\n            }\r\n            var o = t.map((function(t) { return t.dtype })).reduce((function(t, e) { return Dt(t, e) })),\r\n                a = t.map((function(t) { return t.shape })),\r\n                s = i().getBool(\"WEBGL_PACK\") ? new oa(t[0].shape, a) : new ra(t[0].shape, a);\r\n            return this.compileAndRun(s, t, o)\r\n        }, o.prototype.subtract = function(t, e) { if (\"complex64\" === t.dtype && \"complex64\" === e.dtype) return this.complexSeparableBinaryOp(t, e, _a); if (this.shouldExecuteOnCPU([t, e])) return this.cpuBackend.subtract(t, e); var n = Dt(t.dtype, e.dtype); if (i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")) return this.packedBinaryOp(t, e, _a, t.dtype); var r = new Ba(_a, t.shape, e.shape); return this.compileAndRun(r, [t, e], n) }, o.prototype.pow = function(t, e) {\r\n            var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"\\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\\n  vec4 result = multiplier * pow(abs(a), b);\\n\\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\\n  bvec4 isExpZero = equal(b, vec4(0.0));\\n  result.r = isExpZero.r ? 1.0 : result.r;\\n  result.g = isExpZero.g ? 1.0 : result.g;\\n  result.b = isExpZero.b ? 1.0 : result.b;\\n  result.a = isExpZero.a ? 1.0 : result.a;\\n\\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\", t.shape, e.shape) : new Ba(\"\\nif(a < 0.0 && floor(b) < b){\\n  return NAN;\\n}\\nif (b == 0.0) {\\n  return 1.0;\\n}\\nreturn (round(mod(b, 2.0)) != 1) ?\\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\\n\", t.shape, e.shape),\r\n                r = Dt(t.dtype, e.dtype);\r\n            return this.compileAndRun(n, [t, e], r)\r\n        }, o.prototype.ceil = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.ceil(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, Ns, t.dtype); var e = new Cs(t.shape, Ns); return this.compileAndRun(e, [t]) }, o.prototype.floor = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.floor(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, Fs, t.dtype); var e = new Cs(t.shape, Fs); return this.compileAndRun(e, [t]) }, o.prototype.sign = function(t) { var e = new Cs(t.shape, \"\\n  if (isnan(x)) { return 0.0; }\\n  return sign(x);\\n\"); return this.compileAndRun(e, [t]) }, o.prototype.isNaN = function(t) { var e = new Cs(t.shape, \"return float(isnan(x));\"); return this.compileAndRun(e, [t], \"bool\") }, o.prototype.isInf = function(t) { var e = new Cs(t.shape, \"return float(isinf(x));\"); return this.compileAndRun(e, [t], \"bool\") }, o.prototype.isFinite = function(t) { var e = new Cs(t.shape, \"return float(!isnan(x) && !isinf(x));\"); return this.compileAndRun(e, [t], \"bool\") }, o.prototype.round = function(t) { var e = new Cs(t.shape, \"\\n  // OpenGL ES does not support round function.\\n  // The algorithm is based on banker's rounding.\\n  float base = floor(x);\\n  if ((x - base) < 0.5) {\\n    return floor(x);\\n  } else if ((x - base) > 0.5) {\\n    return ceil(x);\\n  } else {\\n    if (mod(base, 2.0) == 0.0) {\\n      return base;\\n    } else {\\n      return base + 1.0;\\n    }\\n  }\\n\"); return this.compileAndRun(e, [t]) }, o.prototype.exp = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.exp(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, _s, t.dtype); var e = new Cs(t.shape, _s); return this.compileAndRun(e, [t]) }, o.prototype.expm1 = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.expm1(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, Os, t.dtype); var e = new Cs(t.shape, Os); return this.compileAndRun(e, [t]) }, o.prototype.softmax = function(t, e) {\r\n            var n = O([e], t.shape),\r\n                r = this.max(t, n),\r\n                o = wn(r.shape, n),\r\n                a = this.subtract(t, r.reshape(o)),\r\n                i = this.exp(a),\r\n                s = this.sum(i, n).reshape(o);\r\n            return this.realDivide(i, s)\r\n        }, o.prototype.log = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.log(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, \"\\n  vec4 result = log(x);\\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\\n\\n  return result;\\n\", t.dtype); var e = new Cs(t.shape, \"if (x < 0.0) return NAN;\\n  return log(x);\"); return this.compileAndRun(e, [t]) }, o.prototype.log1p = function(t) { var e = new Cs(t.shape, \"return log(1.0 + x);\"); return this.compileAndRun(e, [t]) }, o.prototype.sqrt = function(t) { var e = new Cs(t.shape, \"return sqrt(x);\"); return this.compileAndRun(e, [t]) }, o.prototype.rsqrt = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.rsqrt(t); var e = new Cs(t.shape, \"return inversesqrt(x);\"); return this.compileAndRun(e, [t]) }, o.prototype.reciprocal = function(t) { var e = new Cs(t.shape, \"return 1.0 / x;\"); return this.compileAndRun(e, [t]) }, o.prototype.relu = function(t) { var e; return e = i().getBool(\"WEBGL_PACK\") ? new Xs(t.shape, qs) : new Cs(t.shape, ks), this.compileAndRun(e, [t]) }, o.prototype.relu6 = function(t) { var e; return e = i().getBool(\"WEBGL_PACK\") ? new Xs(t.shape, Ks) : new Cs(t.shape, Ss), this.compileAndRun(e, [t]) }, o.prototype.prelu = function(t, e) { var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(Pa, t.shape, e.shape) : new Ba(Ma, t.shape, e.shape); return this.compileAndRun(n, [t, e]) }, o.prototype.elu = function(t) { if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, js, t.dtype); var e = new Cs(t.shape, As); return this.compileAndRun(e, [t]) }, o.prototype.eluDer = function(t, e) { var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"\\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\\n\", t.shape, e.shape) : new Ba(\"return (b >= 1.0) ? a : a * (b + 1.0);\", t.shape, e.shape); return this.compileAndRun(n, [t, e]) }, o.prototype.selu = function(t) { var e = new Cs(t.shape, Ds); return this.compileAndRun(e, [t]) }, o.prototype.int = function(t) { var e = new Cs(t.shape, \"return float(int(x));\"); return this.compileAndRun(e, [t], \"int32\") }, o.prototype.clip = function(t, e, n) { var r, o = (r = i().getBool(\"WEBGL_PACK_CLIP\") ? new Ua(t.shape) : new Wa(t.shape)).getCustomSetupFunc(e, n); return this.compileAndRun(r, [t], null, o) }, o.prototype.abs = function(t) { if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.abs(t); if (i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\")) return this.packedUnaryOp(t, Is, t.dtype); var e = new Cs(t.shape, Is); return this.compileAndRun(e, [t]) }, o.prototype.complexAbs = function(t) {\r\n            var e = this.texData.get(t.dataId),\r\n                n = new Va(t.shape),\r\n                r = [this.makeComplexComponentTensorInfo(t, e.complexTensors.real), this.makeComplexComponentTensorInfo(t, e.complexTensors.imag)];\r\n            return this.compileAndRun(n, r)\r\n        }, o.prototype.sigmoid = function(t) { var e = new Cs(t.shape, \"return 1.0 / (1.0 + exp(-1.0 * x));\"); return this.compileAndRun(e, [t]) }, o.prototype.softplus = function(t) { var e = new Cs(t.shape, \"\\n  float epsilon = 1.1920928955078125e-7;\\n  float threshold = log(epsilon) + 2.0;\\n\\n  bool too_large = x > -threshold;\\n  bool too_small = x < threshold;\\n\\n  float result;\\n  float exp_x = exp(x);\\n\\n  if (too_large){\\n    result = x;\\n  }\\n  else if (too_small){\\n    result = exp_x;\\n  }\\n  else{\\n    result = log(exp_x + 1.0);\\n  }\\n  return result;\\n\"); return this.compileAndRun(e, [t]) }, o.prototype.sin = function(t) { var e = new Cs(t.shape, Ms); return this.compileAndRun(e, [t]) }, o.prototype.cos = function(t) { var e = new Cs(t.shape, Bs); return this.compileAndRun(e, [t]) }, o.prototype.tan = function(t) { var e = new Cs(t.shape, \"return tan(x);\"); return this.compileAndRun(e, [t]) }, o.prototype.asin = function(t) { var e = new Cs(t.shape, Ps); return this.compileAndRun(e, [t]) }, o.prototype.acos = function(t) { var e = new Cs(t.shape, Ls); return this.compileAndRun(e, [t]) }, o.prototype.atan = function(t) { var e = new Cs(t.shape, Ws); return this.compileAndRun(e, [t]) }, o.prototype.atan2 = function(t, e) { var n = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"\\n  vec4 result = atan(a, b);\\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\", t.shape, e.shape) : new Ba(\"\\n  if (isnan(a)) return a;\\n  if (isnan(b)) return b;\\n\\n  return atan(a, b);\\n\", t.shape, e.shape); return this.compileAndRun(n, [t, e]) }, o.prototype.sinh = function(t) { var e = new Cs(t.shape, \"\\n  float e2x = exp(x);\\n  return (e2x - 1.0 / e2x) / 2.0;\\n\"); return this.compileAndRun(e, [t]) }, o.prototype.cosh = function(t) { var e = new Cs(t.shape, \"\\n  float e2x = exp(-x);\\n  return (e2x + 1.0 / e2x) / 2.0;\\n\"); return this.compileAndRun(e, [t]) }, o.prototype.tanh = function(t) { var e = new Cs(t.shape, \"\\n  float e2x = exp(-2.0 * abs(x));\\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\\n\"); return this.compileAndRun(e, [t]) }, o.prototype.asinh = function(t) { var e = new Cs(t.shape, Us); return this.compileAndRun(e, [t]) }, o.prototype.acosh = function(t) { var e = new Cs(t.shape, Vs); return this.compileAndRun(e, [t]) }, o.prototype.atanh = function(t) { var e = new Cs(t.shape, zs); return this.compileAndRun(e, [t]) }, o.prototype.erf = function(t) { var e = new Cs(t.shape, '\\n  // Error function is calculated approximately with elementary function.\\n  // See \"Handbook of Mathematical Functions with Formulas,\\n  // Graphs, and Mathematical Tables\", Abramowitz and Stegun.\\n  float p = 0.3275911;\\n  float a1 = 0.254829592;\\n  float a2 = -0.284496736;\\n  float a3 = 1.421413741;\\n  float a4 = -1.453152027;\\n  float a5 = 1.061405429;\\n\\n  float sign = sign(x);\\n  x = abs(x);\\n  float t = 1.0 / (1.0 + p * x);\\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\\n'); return this.compileAndRun(e, [t]) }, o.prototype.step = function(t, e) { var n = new Cs(t.shape, function(t) { return void 0 === t && (t = 0), Es + \"\\n    return x > 0.0 ? 1.0 : float(\" + t + \");\\n  \" }(e)); return this.compileAndRun(n, [t]) }, o.prototype.conv2dByMatMul = function(t, e, n, r, o, a) {\r\n            var s = t.shape,\r\n                u = this.texData.get(t.dataId),\r\n                c = n.inChannels,\r\n                l = s[0] * s[1] * s[2],\r\n                h = n.outChannels,\r\n                f = \"channelsLast\" === n.dataFormat,\r\n                d = (1 === l || 1 === h) && c > 1e3,\r\n                p = s[2] % 2 != 0 && !!u.isPacked;\r\n            if (d || !i().getBool(\"WEBGL_LAZILY_UNPACK\") || !i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") || !p) {\r\n                var v = f ? s[0] * s[1] * s[2] : s[0] * s[2] * s[3],\r\n                    m = this.reshape(t, [1, v, n.inChannels]),\r\n                    g = this.reshape(e, [1, n.inChannels, n.outChannels]);\r\n                return this.reshape(this.fusedBatchMatMul({ a: m, b: g, transposeA: !1, transposeB: !1, bias: r, activation: o, preluActivationWeights: a }), n.outShape)\r\n            }\r\n            var y = f ? s[0] * s[1] * (s[2] + 1) : s[0] * s[2] * (s[3] + 1),\r\n                x = { dataId: t.dataId, shape: [1, y, n.inChannels], dtype: t.dtype },\r\n                b = u.shape;\r\n            u.shape = u.shape.slice(), u.shape[u.shape.length - 2]++, C(_e(u.shape, x.shape), (function() { return \"packed reshape \" + u.shape + \" to \" + x.shape + \" isn't free\" }));\r\n            var w = this.reshape(e, [1, n.inChannels, n.outChannels]),\r\n                E = this.fusedBatchMatMul({ a: x, b: w, transposeA: !1, transposeB: !1, bias: r, activation: o, preluActivationWeights: a }),\r\n                R = this.texData.get(E.dataId);\r\n            return C(R.isPacked, (function() { return \"batchMatMul result is expected to be packed\" })), u.shape = b, R.shape = n.outShape, Lt.makeTensorFromDataId(E.dataId, n.outShape, E.dtype)\r\n        }, o.prototype.conv2dWithIm2Row = function(t, e, n, r, o, a) {\r\n            var i = n.filterWidth,\r\n                s = n.filterHeight,\r\n                u = n.inChannels,\r\n                c = n.outWidth,\r\n                l = n.outHeight,\r\n                h = \"channelsLast\" === n.dataFormat,\r\n                f = i * s * u,\r\n                d = l * c,\r\n                p = [f, d],\r\n                v = t.squeeze([0]),\r\n                m = e.reshape([1, f, -1]),\r\n                g = new Li(p, v.shape, n),\r\n                y = this.compileAndRun(g, [v]).reshape([1, p[0], p[1]]),\r\n                x = null != r,\r\n                b = null != a,\r\n                w = o ? Qs(o, !0) : null,\r\n                C = new Hi(y.shape, [1, d, n.outChannels], !0, !1, x, w, b),\r\n                E = [y, m];\r\n            r && E.push(r), b && E.push(a);\r\n            var R = this.compileAndRun(C, E);\r\n            return h ? R.reshape([1, l, c, n.outChannels]) : R.reshape([1, n.outChannels, l, c])\r\n        }, o.prototype.fusedConv2d = function(t) {\r\n            var e = t.input,\r\n                n = t.filter,\r\n                r = t.convInfo,\r\n                o = t.bias,\r\n                a = t.activation,\r\n                s = t.preluActivationWeights;\r\n            if (1 === r.filterHeight && 1 === r.filterWidth && 1 === r.dilationHeight && 1 === r.dilationWidth && 1 === r.strideHeight && 1 === r.strideWidth && (\"SAME\" === r.padInfo.type || \"VALID\" === r.padInfo.type)) return this.conv2dByMatMul(e, n, r, o, a, s);\r\n            if (i().getBool(\"WEBGL_CONV_IM2COL\") && 1 === e.shape[0]) return this.conv2dWithIm2Row(e, n, r, o, a, s);\r\n            var u = null != o,\r\n                c = null != s,\r\n                l = a ? Qs(a, !1) : null,\r\n                h = new Qa(r, u, l, c),\r\n                f = [e, n];\r\n            return o && f.push(o), s && f.push(s), this.compileAndRun(h, f)\r\n        }, o.prototype.conv2d = function(t, e, n) { if (1 === n.filterHeight && 1 === n.filterWidth && 1 === n.dilationHeight && 1 === n.dilationWidth && 1 === n.strideHeight && 1 === n.strideWidth && (\"SAME\" === n.padInfo.type || \"VALID\" === n.padInfo.type)) return this.conv2dByMatMul(t, e, n); if (i().getBool(\"WEBGL_CONV_IM2COL\") && 1 === t.shape[0]) return this.conv2dWithIm2Row(t, e, n); var r = new Qa(n); return this.compileAndRun(r, [t, e]) }, o.prototype.conv2dDerInput = function(t, e, n) { var r = new Ka(n); return this.compileAndRun(r, [t, e]) }, o.prototype.conv2dDerFilter = function(t, e, n) { var r = new qa(n); return this.compileAndRun(r, [t, e]) }, o.prototype.fusedDepthwiseConv2D = function(t) {\r\n            var e, n = t.input,\r\n                r = t.filter,\r\n                o = t.convInfo,\r\n                a = t.bias,\r\n                s = t.activation,\r\n                u = t.preluActivationWeights,\r\n                c = i().getBool(\"WEBGL_PACK_DEPTHWISECONV\") && o.strideWidth <= 2 && o.outChannels / o.inChannels == 1,\r\n                l = s ? Qs(s, c) : null,\r\n                h = [n, r],\r\n                f = null != a,\r\n                d = null != u;\r\n            return f && h.push(a), d && h.push(u), c ? (e = new ti(o, f, l, d), this.compileAndRun(e, h)) : (e = new Za(o, f, l, d), this.compileAndRun(e, h))\r\n        }, o.prototype.depthwiseConv2D = function(t, e, n) { var r; return i().getBool(\"WEBGL_PACK_DEPTHWISECONV\") && n.strideWidth <= 2 && n.outChannels / n.inChannels == 1 ? (r = new ti(n), this.compileAndRun(r, [t, e])) : (r = new Za(n), this.compileAndRun(r, [t, e])) }, o.prototype.depthwiseConv2DDerInput = function(t, e, n) { var r = new $a(n); return this.compileAndRun(r, [t, e]) }, o.prototype.depthwiseConv2DDerFilter = function(t, e, n) { var r = new Ya(n); return this.compileAndRun(r, [t, e]) }, o.prototype.conv3d = function(t, e, n) { var r = new Ja(n); return this.compileAndRun(r, [t, e]) }, o.prototype.conv3dDerInput = function(t, e, n) { var r = new Xa(n); return this.compileAndRun(r, [t, e]) }, o.prototype.conv3dDerFilter = function(t, e, n) { var r = new ja(n); return this.compileAndRun(r, [t, e]) }, o.prototype.maxPool = function(t, e) { var n = new $i(e, \"max\", !1); return this.compileAndRun(n, [t]) }, o.prototype.avgPool = function(t, e) { var n = new $i(e, \"avg\", !1); return this.compileAndRun(n, [t], \"float32\") }, o.prototype.maxPoolBackprop = function(t, e, n, r) {\r\n            var o = new $i(r, \"max\", !0),\r\n                a = this.compileAndRun(o, [e]),\r\n                i = new zi(r),\r\n                s = this.compileAndRun(i, [t, a], e.dtype);\r\n            return a.dispose(), s\r\n        }, o.prototype.avgPoolBackprop = function(t, e, n) { var r = new Ia(n); return this.compileAndRun(r, [t], e.dtype) }, o.prototype.cast = function(t, e) { return Po(t, e, this) }, o.prototype.unstack = function(t, e) {\r\n            for (var n = t.shape[e], r = new Array(t.rank - 1), o = 0, a = 0; a < t.rank; a++) a !== e && (r[o++] = t.shape[a]);\r\n            var i = new Array(t.rank).fill(0),\r\n                s = t.shape.slice();\r\n            s[e] = 1;\r\n            var u = new Array(n);\r\n            for (a = 0; a < u.length; a++) i[e] = a, u[a] = this.slice(t, i, s).reshape(r);\r\n            return u\r\n        }, o.prototype.avgPool3d = function(t, e) { var n = new Qi(e, \"avg\", !1); return this.compileAndRun(n, [t], \"float32\") }, o.prototype.avgPool3dBackprop = function(t, e, n) { var r = new ka(n); return this.compileAndRun(r, [t], e.dtype) }, o.prototype.maxPool3d = function(t, e) { var n = new Qi(e, \"max\", !1); return this.compileAndRun(n, [t], \"float32\") }, o.prototype.maxPool3dBackprop = function(t, e, n, r) {\r\n            var o = new Qi(r, \"max\", !0),\r\n                a = this.compileAndRun(o, [e]),\r\n                i = new Gi(r),\r\n                s = this.compileAndRun(i, [t, a], e.dtype);\r\n            return a.dispose(), s\r\n        }, o.prototype.reshape = function(t, e) { var n = this.texData.get(t.dataId); if (n.isPacked && !_e(t.shape, e) && (null === n.texture || !_e(n.shape, e))) { var r = this.packedReshape(t, e); return Lt.makeTensorFromDataId(r.dataId, r.shape, r.dtype) } return Lo(t, e) }, o.prototype.resizeBilinear = function(t, e, n, r) { var o = i().getBool(\"WEBGL_PACK_IMAGE_OPERATIONS\") ? new ns(t.shape, e, n, r) : new es(t.shape, e, n, r); return this.compileAndRun(o, [t], \"float32\") }, o.prototype.resizeBilinearBackprop = function(t, e, n) { var r = new ts(t, e, n); return this.compileAndRun(r, [t]) }, o.prototype.resizeNearestNeighbor = function(t, e, n, r) { var o = new os(t.shape, e, n, r); return this.compileAndRun(o, [t]) }, o.prototype.resizeNearestNeighborBackprop = function(t, e, n) { var r = new rs(t, e, n); return this.compileAndRun(r, [t]) }, o.prototype.multinomial = function(t, e, n, r) {\r\n            var o = e ? t : go(t),\r\n                a = o.shape[0],\r\n                i = o.shape[1],\r\n                s = new qi(a, i, n),\r\n                u = s.getCustomSetupFunc(r);\r\n            return this.compileAndRun(s, [o], \"int32\", u)\r\n        }, o.prototype.oneHot = function(t, e, n, r) { var o = new Ki(t.size, e, n, r); return this.compileAndRun(o, [t]) }, o.prototype.diag = function(t) { var e = new si(t.size); return this.compileAndRun(e, [t]) }, o.prototype.nonMaxSuppression = function(t, e, n, r, o) { return dn(\"tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead\"), jo(t.dataSync(), e.dataSync(), n, r, o) }, o.prototype.cropAndResize = function(t, e, n, r, o, a) { var i = new ei(t.shape, e.shape, r, o, a); return this.compileAndRun(i, [t, e, n], \"float32\") }, o.prototype.depthToSpace = function(t, e, n) {\r\n            C(e > 1, (function() { return \"blockSize should be > 1 for depthToSpace, but was: \" + e }));\r\n            var r = t.shape[0],\r\n                o = \"NHWC\" === n ? t.shape[1] : t.shape[2],\r\n                a = \"NHWC\" === n ? t.shape[2] : t.shape[3],\r\n                i = \"NHWC\" === n ? t.shape[3] : t.shape[1],\r\n                s = o * e,\r\n                u = a * e,\r\n                c = i / (e * e),\r\n                l = new ii(\"NHWC\" === n ? [r, s, u, c] : [r, c, s, u], e, n);\r\n            return this.compileAndRun(l, [t])\r\n        }, o.prototype.split = function(t, e, n) { return Zo(t, e, n) }, o.prototype.scatterND = function(t, e, n) {\r\n            var r = Zr(0, t, n),\r\n                o = r.sliceRank,\r\n                a = r.numUpdates,\r\n                i = r.sliceSize,\r\n                s = r.strides,\r\n                u = r.outputSize,\r\n                c = [u / i, i],\r\n                l = t.reshape([a, o]),\r\n                h = e.reshape([a, i]);\r\n            if (0 === u) return Lo(Fn([]), n);\r\n            var f = On(0),\r\n                d = new ss(a, o, l.rank, h.rank, s, c);\r\n            return this.compileAndRun(d, [h, l, f]).reshape(n)\r\n        }, o.prototype.sparseToDense = function(t, e, n, r) {\r\n            var o = Zr(0, t, n),\r\n                a = o.sliceRank,\r\n                i = o.numUpdates,\r\n                s = o.strides,\r\n                u = o.outputSize,\r\n                c = new ss(i, a, t.rank, e.rank, s, [u, 1], !1);\r\n            return this.compileAndRun(c, [e, t, r]).reshape(n)\r\n        }, o.prototype.fft = function(t) { return this.fftImpl(t, !1) }, o.prototype.ifft = function(t) { return this.fftImpl(t, !0) }, o.prototype.fftImpl = function(t, e) {\r\n            var n = this.texData.get(t.dataId),\r\n                r = new pi(fi, t.shape, e),\r\n                o = new pi(di, t.shape, e),\r\n                a = [this.makeComplexComponentTensorInfo(t, n.complexTensors.real), this.makeComplexComponentTensorInfo(t, n.complexTensors.imag)],\r\n                i = this.compileAndRun(r, a),\r\n                s = this.compileAndRun(o, a),\r\n                u = this.complex(i, s).as2D(t.shape[0], t.shape[1]);\r\n            return i.dispose(), s.dispose(), u\r\n        }, o.prototype.gatherND = function(t, e) {\r\n            var n = e.shape,\r\n                r = n[n.length - 1],\r\n                o = jr(t, e),\r\n                a = o[0],\r\n                i = o[1],\r\n                s = o[2],\r\n                u = o[3],\r\n                c = e.reshape([i, r]),\r\n                l = t.reshape([t.size / s, s]),\r\n                h = new gi(r, u, [i, s]);\r\n            return this.compileAndRun(h, [l, c]).reshape(a)\r\n        }, o.prototype.fill = function(t, e, n) {\r\n            if (\"string\" === (n = n || j(e))) { var r = P(n, k(t)); return r.fill(e), Lt.makeTensor(r, t, n, this) }\r\n            var o = new vi(t, e),\r\n                a = o.getCustomSetupFunc(e);\r\n            return this.compileAndRun(o, [], n, a)\r\n        }, o.prototype.onesLike = function(t) { if (\"string\" === t.dtype) throw new Error(\"onesLike is not supported under string dtype\"); return this.fill(t.shape, 1, t.dtype) }, o.prototype.zerosLike = function(t) { return this.fill(t.shape, \"string\" === t.dtype ? \"\" : 0, t.dtype) }, o.prototype.linspace = function(t, e, n) { return Wo(t, e, n) }, o.prototype.makeTensorInfo = function(t, e) { var n = this.write(null, t, e); return this.texData.get(n).usage = null, { dataId: n, shape: t, dtype: e } }, o.prototype.makeOutput = function(t, e) { var n = this.makeTensorInfo(t, e).dataId; return Lt.makeTensorFromDataId(n, t, e, this) }, o.prototype.unpackTensor = function(t) { var e = new Ys(t.shape); return this.runWebGLProgram(e, [t], t.dtype) }, o.prototype.packTensor = function(t) { var e = new ji(t.shape); return this.runWebGLProgram(e, [t], t.dtype, null, !0) }, o.prototype.packedReshape = function(t, e) {\r\n            var n = [Ae(t.shape)].concat(De(t.shape)),\r\n                r = { dtype: t.dtype, shape: n, dataId: t.dataId },\r\n                o = [Ae(e)].concat(De(e)),\r\n                a = new Zi(o, n),\r\n                i = this.runWebGLProgram(a, [r], t.dtype, null, !0);\r\n            return { dataId: i.dataId, shape: e, dtype: i.dtype }\r\n        }, o.prototype.decode = function(t) {\r\n            var e, n = this.texData.get(t),\r\n                r = n.isPacked,\r\n                o = n.shape,\r\n                a = n.dtype,\r\n                i = Te(o);\r\n            e = r ? new ai(i) : new oi(i);\r\n            return { dtype: a, shape: o, dataId: this.runWebGLProgram(e, [{ shape: i, dtype: a, dataId: t }], a, null, !0).dataId }\r\n        }, o.prototype.runWebGLProgram = function(t, e, n, r, o) {\r\n            var a = this;\r\n            void 0 === o && (o = !1);\r\n            var s = this.makeTensorInfo(t.outputShape, n),\r\n                u = this.texData.get(s.dataId);\r\n            if (t.packedOutput && (u.isPacked = !0), t.outPackingScheme === Vt.DENSE) {\r\n                var c = Yt(t.outputShape);\r\n                u.texShape = c.map((function(t) { return 2 * t }));\r\n            }\r\n            if (null != t.outTexUsage && (u.usage = t.outTexUsage), 0 === k(s.shape)) return u.values = B(s.dtype, 0), s;\r\n            var l = [],\r\n                h = e.map((function(e) {\r\n                    if (\"complex64\" === e.dtype) throw new Error(\"GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.\");\r\n                    var n = a.texData.get(e.dataId);\r\n                    if (null == n.texture) {\r\n                        if (!t.packedInputs && k(e.shape) <= i().getNumber(\"WEBGL_SIZE_UPLOAD_UNIFORM\")) return { shape: e.shape, texData: null, isUniform: !0, uniformValues: n.values };\r\n                        t.packedInputs && (n.isPacked = !0, n.shape = e.shape);\r\n                    } else if (!!n.isPacked != !!t.packedInputs) e = n.isPacked ? a.unpackTensor(e) : a.packTensor(e), l.push(e), n = a.texData.get(e.dataId);\r\n                    else if (n.isPacked && !_e(n.shape, e.shape)) {\r\n                        var r = e,\r\n                            o = e.shape;\r\n                        e.shape = n.shape, e = a.packedReshape(e, o), l.push(e), n = a.texData.get(e.dataId), r.shape = o;\r\n                    }\r\n                    return a.uploadToGPU(e.dataId), { shape: e.shape, texData: n, isUniform: !1 }\r\n                }));\r\n            this.uploadToGPU(s.dataId);\r\n            var f, d = { shape: s.shape, texData: u, isUniform: !1 },\r\n                p = function(t, e, n) {\r\n                    var r = \"\";\r\n                    e.concat(n).forEach((function(t) {\r\n                        var e = null != t.texData && null != t.texData.slice && t.texData.slice.flatOffset > 0,\r\n                            n = t.isUniform ? \"uniform\" : t.texData.texShape;\r\n                        r += t.shape + \"_\" + n + \"_\" + e;\r\n                    }));\r\n                    var o = t.userCode,\r\n                        a = t.constructor.name;\r\n                    return a += \"_\" + r + \"_\" + o\r\n                }(t, h, d),\r\n                v = this.getAndSaveBinary(p, (function() {\r\n                    return function(t, e, n, r) {\r\n                        var o = e.userCode,\r\n                            a = n.map((function(t, n) { var r = { logicalShape: t.shape, texShape: t.isUniform ? null : t.texData.texShape, isUniform: t.isUniform, isPacked: !t.isUniform && t.texData.isPacked, flatOffset: null }; return null != t.texData && null != t.texData.slice && t.texData.slice.flatOffset > 0 && (r.flatOffset = t.texData.slice.flatOffset), { name: e.variableNames[n], shapeInfo: r } })),\r\n                            s = a.map((function(t) { return t.shapeInfo })),\r\n                            u = { logicalShape: r.shape, texShape: r.texData.texShape, isUniform: !1, isPacked: r.texData.isPacked, flatOffset: null },\r\n                            c = fa(a, u, o, e.packedInputs),\r\n                            l = t.createProgram(c),\r\n                            h = null,\r\n                            f = t.getUniformLocation(l, \"NAN\", !1);\r\n                        1 === i().getNumber(\"WEBGL_VERSION\") && (h = t.getUniformLocation(l, \"INFINITY\", !1));\r\n                        for (var d = {}, p = 0; p < e.variableNames.length; p++) {\r\n                            var v = e.variableNames[p];\r\n                            d[v] = t.getUniformLocation(l, v, !1), d[\"offset\" + v] = t.getUniformLocation(l, \"offset\" + v, !1);\r\n                        }\r\n                        return { program: e, source: c, webGLProgram: l, uniformLocations: d, inShapeInfos: s, outShapeInfo: u, infLoc: h, nanLoc: f }\r\n                    }(a.gpgpu, t, h, d)\r\n                })),\r\n                m = null != this.activeTimers;\r\n            if (m && (f = this.startTimer()), function(t, e, n, r, o) {\r\n                    Pi(e.inShapeInfos, n), Pi([e.outShapeInfo], [r]);\r\n                    var a = r.texData.texture,\r\n                        s = r.texData.texShape;\r\n                    r.texData.isPacked ? t.setOutputPackedMatrixTexture(a, s[0], s[1]) : t.setOutputMatrixTexture(a, s[0], s[1]), t.setProgram(e.webGLProgram), 1 === i().getNumber(\"WEBGL_VERSION\") && null !== e.infLoc && t.gl.uniform1f(e.infLoc, 1 / 0), null !== e.nanLoc && t.gl.uniform1f(e.nanLoc, NaN), n.forEach((function(n, r) {\r\n                        var o = e.program.variableNames[r],\r\n                            a = e.uniformLocations[o],\r\n                            i = e.uniformLocations[\"offset\" + o];\r\n                        if (null != a)\r\n                            if (n.isUniform)\r\n                                if (k(n.shape) < 2) t.gl.uniform1f(a, n.uniformValues[0]);\r\n                                else {\r\n                                    var s = n.uniformValues;\r\n                                    s instanceof Float32Array || (s = new Float32Array(s)), t.gl.uniform1fv(a, s);\r\n                                }\r\n                        else null != n.texData.slice && null != i && t.gl.uniform1i(i, n.texData.slice.flatOffset), t.setInputMatrixTexture(n.texData.texture, a, r);\r\n                    })), null != o && o(t, e.webGLProgram), t.executeProgram();\r\n                }(this.gpgpu, v, h, d, r), l.forEach((function(t) { return a.disposeData(t.dataId) })), m && (f = this.endTimer(f), this.activeTimers.push({ name: t.constructor.name, query: this.getQueryTime(f) })), !i().getBool(\"WEBGL_LAZILY_UNPACK\") && u.isPacked && !1 === o) { var g = this.unpackTensor(s); return this.disposeData(s.dataId), g }\r\n            return s\r\n        }, o.prototype.compileAndRun = function(t, e, n, r, o) { void 0 === o && (o = !1), n = n || e[0].dtype; var a = this.runWebGLProgram(t, e, n, r, o); return Lt.makeTensorFromDataId(a.dataId, a.shape, a.dtype) }, o.prototype.getAndSaveBinary = function(t, e) { return t in this.binaryCache || (this.binaryCache[t] = e()), this.binaryCache[t] }, o.prototype.getTextureManager = function() { return this.textureManager }, o.prototype.dispose = function() {\r\n            var t = this;\r\n            if (!this.disposed) {\r\n                if (!i().getBool(\"IS_TEST\")) Object.keys(this.binaryCache).forEach((function(e) { t.gpgpu.deleteProgram(t.binaryCache[e].webGLProgram), delete t.binaryCache[e]; }));\r\n                this.textureManager.dispose(), null != this.canvas && \"undefined\" != typeof HTMLCanvasElement && this.canvas instanceof HTMLCanvasElement ? this.canvas.remove() : this.canvas = null, this.gpgpuCreatedLocally && (this.gpgpu.program = null, this.gpgpu.dispose()), this.disposed = !0;\r\n            }\r\n        }, o.prototype.floatPrecision = function() {\r\n            var t = this;\r\n            return null == this.floatPrecisionValue && (this.floatPrecisionValue = Ze((function() {\r\n                if (!i().get(\"WEBGL_RENDER_FLOAT32_ENABLED\")) {\r\n                    var e = i().getBool(\"DEBUG\");\r\n                    i().set(\"DEBUG\", !1);\r\n                    var n = t.abs(On(1e-8)).dataSync()[0];\r\n                    if (i().set(\"DEBUG\", e), n > 0) return 32\r\n                }\r\n                return 16\r\n            }))), this.floatPrecisionValue\r\n        }, o.prototype.epsilon = function() { return 32 === this.floatPrecision() ? 1e-7 : 1e-4 }, o.prototype.uploadToGPU = function(t) {\r\n            var e, n = this.texData.get(t),\r\n                r = n.shape,\r\n                o = n.dtype,\r\n                a = n.values,\r\n                i = n.texture,\r\n                s = n.usage,\r\n                u = n.isPacked;\r\n            if (null == i) {\r\n                var c, l = null != this.activeTimers;\r\n                l && (c = et());\r\n                var h = n.texShape;\r\n                if (null == h && (h = Ne(r, u), n.texShape = h), null != a) {\r\n                    var f = Te(r),\r\n                        d = void 0,\r\n                        p = h[1],\r\n                        v = h[0],\r\n                        m = a instanceof Uint8Array;\r\n                    u ? (p = (e = $t(h[0], h[1]))[0], v = e[1], d = new hi(f, [v, p], m)) : d = new li(f, [v, p], m);\r\n                    var g = this.makeTensorInfo([v, p], o);\r\n                    this.texData.get(g.dataId).usage = m ? zt.PIXELS : zt.UPLOAD, this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId), p, v, a);\r\n                    var y = this.runWebGLProgram(d, [g], o, null, !0),\r\n                        x = this.texData.get(y.dataId);\r\n                    n.texture = x.texture, n.texShape = x.texShape, n.isPacked = x.isPacked, n.usage = x.usage, this.disposeData(g.dataId), this.texData.delete(y.dataId), n.values = null, l && (this.uploadWaitMs += et() - c);\r\n                } else {\r\n                    var b = this.acquireTexture(h, s, o, u);\r\n                    n.texture = b;\r\n                }\r\n            }\r\n        }, o.prototype.convertAndCacheOnCPU = function(t, e) {\r\n            var n = this.texData.get(t),\r\n                r = n.dtype;\r\n            return this.releaseGPUData(t), null != e && (n.values = function(t, e) { if (\"float32\" === e || \"complex64\" === e) return t; if (\"int32\" === e || \"bool\" === e) { for (var n = \"int32\" === e ? new Int32Array(t.length) : new Uint8Array(t.length), r = 0; r < n.length; ++r) n[r] = Math.round(t[r]); return n } throw new Error(\"Unknown dtype \" + e) }(e, r)), n.values\r\n        }, o.prototype.acquireTexture = function(t, e, n, r) {\r\n            if (this.numBytesInGPU += this.computeBytes(t, n), !this.warnedAboutMemory && this.numBytesInGPU > 1024 * this.numMBBeforeWarning * 1024) {\r\n                var o = (this.numBytesInGPU / 1024 / 1024).toFixed(2);\r\n                this.warnedAboutMemory = !0, console.warn(\"High memory usage in GPU: \" + o + \" MB, most likely due to a memory leak\");\r\n            }\r\n            return this.textureManager.acquireTexture(t, e, r)\r\n        }, o.prototype.computeBytes = function(t, e) { return t[0] * t[1] * z(e) }, o\r\n    }(bo);\r\n    Wt() && Lt.registerBackend(\"webgl\", (function() { return new Zs }), 2);\r\n    var tu = An({\r\n            square_: function(t) {\r\n                var e = mn(t, \"x\", \"square\"),\r\n                    n = [e];\r\n                return Lt.runKernelFunc((function(t, n) { return n([e]), t.square(e) }), { x: e }, null, \"Square\", {}, n, [])\r\n            }\r\n        }),\r\n        eu = \"SquaredDifference\";\r\n    var nu = An({\r\n        squaredDifference_: function(t, e) {\r\n            var n, r = mn(t, \"a\", \"squaredDifference\"),\r\n                o = mn(e, \"b\", \"squaredDifference\");\r\n            n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape);\r\n            var a = { a: r, b: o },\r\n                i = [r, o];\r\n            return Lt.runKernelFunc((function(t, e) { var n = t.squaredDifference(r, o); return e([r, o]), n }), a, (function(t, e) {\r\n                var n = e[0],\r\n                    r = e[1],\r\n                    o = On(2);\r\n                return { a: function() { return t.mul(n.sub(r).mul(o)) }, b: function() { return t.mul(r.sub(n).mul(o)) } }\r\n            }), eu, {}, i, [])\r\n        }\r\n    });\r\n    var ru = An({ abs_: function(t) { var e = mn(t, \"x\", \"abs\"); return \"complex64\" === e.dtype ? Lt.runKernelFunc((function(t) { return t.complexAbs(e) }), { $x: e }) : Lt.runKernelFunc((function(t, n) { var r = t.abs(e); return n([e]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return t.mul(n.toFloat().step(-1)) } } }), \"Abs\") } }),\r\n        ou = An({ acos_: function(t) { var e = mn(t, \"x\", \"acos\"); return Lt.runKernelFunc((function(t, n) { var r = t.acos(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.divStrict(On(1).sub(n.toFloat().square()).sqrt()).neg() } } })) } }),\r\n        au = An({ acosh_: function(t) { var e = mn(t, \"x\", \"acosh\"); return Lt.runKernelFunc((function(t, n) { var r = t.acosh(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.divStrict(n.toFloat().square().sub(1).sqrt()) } } })) } }),\r\n        iu = An({ asin_: function(t) { var e = mn(t, \"x\", \"asin\"); return Lt.runKernelFunc((function(t, n) { var r = t.asin(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.divStrict(On(1).sub(n.toFloat().square()).sqrt()) } } })) } }),\r\n        su = An({ asinh_: function(t) { var e = mn(t, \"x\", \"asinh\"); return Lt.runKernelFunc((function(t, n) { var r = t.asinh(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.divStrict(On(1).add(n.toFloat().square()).sqrt()) } } })) } }),\r\n        uu = An({ atan_: function(t) { var e = mn(t, \"x\", \"atan\"); return Lt.runKernelFunc((function(t, n) { var r = t.atan(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.div(n.toFloat().square().add(1)) } } })) } }),\r\n        cu = An({ atanh_: function(t) { var e = mn(t, \"x\", \"atanh\"); return Lt.runKernelFunc((function(t, n) { var r = t.atanh(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.div(On(1).sub(n.toFloat().square())) } } })) } }),\r\n        lu = An({ ceil_: function(t) { var e = mn(t, \"x\", \"ceil\"); return Lt.runKernelFunc((function(t) { return t.ceil(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        hu = An({\r\n            clipByValue_: function(t, e, n) {\r\n                var r = mn(t, \"x\", \"clipByValue\");\r\n                C(e <= n, (function() { return \"Error in clip: min (\" + e + \") must be less than or equal to max (\" + n + \").\" }));\r\n                var o = [r],\r\n                    a = { min: e, max: n };\r\n                return Lt.runKernelFunc((function(t, o) { var a = t.clip(r, e, n); return o([r]), a }), { x: r }, (function(t, r) { var o = r[0]; return { x: function() { return t.where(o.greaterEqual(e).logicalAnd(o.lessEqual(n)), Xn(t)) } } }), \"ClipByValue\", a, o)\r\n            }\r\n        }),\r\n        fu = An({\r\n            cos_: function(t) {\r\n                var e = mn(t, \"x\", \"cos\"),\r\n                    n = [e];\r\n                return Lt.runKernelFunc((function(t, n) { var r = t.cos(e); return n([e]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return n.toFloat().sin().neg().mul(t) } } }), \"Cos\", {}, n)\r\n            }\r\n        }),\r\n        du = An({ cosh_: function(t) { var e = mn(t, \"x\", \"cosh\"); return Lt.runKernelFunc((function(t, n) { var r = t.cosh(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return n.toFloat().sinh().mulStrict(t) } } })) } }),\r\n        pu = An({ erf_: function(t) { var e = mn(t, \"x\", \"erf\"); return C(\"int32\" === e.dtype || \"float32\" === e.dtype, (function() { return \"Input dtype must be `int32` or `float32`.\" })), \"int32\" === e.dtype && (e = e.toFloat()), Lt.runKernelFunc((function(t, n) { var r = t.erf(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.mul(n.square().neg().exp().mul(2 / Math.sqrt(Math.PI))) } } })) } }),\r\n        vu = An({ exp_: function(t) { var e = mn(t, \"x\", \"exp\"); return Lt.runKernelFunc((function(t, n) { var r = t.exp(e); return n([r]), r }), { x: e }, (function(t, e) { return { x: function() { return t.mulStrict(e[0]) } } }), \"Exp\", {}, [], [!0]) } }),\r\n        mu = An({ expm1_: function(t) { var e = mn(t, \"x\", \"expm1\"); return Lt.runKernelFunc((function(t, n) { var r = t.expm1(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.mul(n.exp()) } } })) } }),\r\n        gu = An({ floor_: function(t) { var e = mn(t, \"x\", \"floor\"); return Lt.runKernelFunc((function(t) { return t.floor(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        yu = An({\r\n            log_: function(t) {\r\n                var e = mn(t, \"x\", \"log\"),\r\n                    n = [e];\r\n                return Lt.runKernelFunc((function(t, n) { var r = t.log(e); return n([e]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return t.div(n.toFloat()) } } }), \"Log\", {}, n)\r\n            }\r\n        }),\r\n        xu = An({ log1p_: function(t) { var e = mn(t, \"x\", \"log1p\"); return Lt.runKernelFunc((function(t, n) { var r = t.log1p(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.div(n.add(1)) } } })) } }),\r\n        bu = An({ logSigmoid_: function(t) { var e = mn(t, \"x\", \"logSigmoid\"); return Lt.runKernelFunc((function(t, n) { var r = t.softplus(e.neg()).neg(); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.mul(n.neg().sigmoid()) } } })) } }),\r\n        wu = An({\r\n            neg_: function(t) {\r\n                var e = mn(t, \"x\", \"neg\"),\r\n                    n = [e];\r\n                return Lt.runKernelFunc((function(t) { return t.neg(e) }), { x: e }, (function(t) { return { x: function() { return t.neg() } } }), \"Neg\", {}, n)\r\n            }\r\n        }),\r\n        Cu = An({ reciprocal_: function(t) { var e = mn(t, \"x\", \"reciprocal\"); return Lt.runKernelFunc((function(t, n) { var r = t.reciprocal(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.div(n.square().neg()) } } })) } }),\r\n        Eu = An({ round_: function(t) { var e = mn(t, \"x\", \"round\"); return Lt.runKernelFunc((function(t) { return t.round(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        Ru = An({\r\n            rsqrt_: function(t) {\r\n                var e = mn(t, \"x\", \"rsqrt\"),\r\n                    n = [e];\r\n                return Lt.runKernelFunc((function(t, n) { var r = t.rsqrt(e); return n([e]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return t.div(n.pow(1.5).mul(2)).neg() } } }), \"Rsqrt\", {}, n)\r\n            }\r\n        }),\r\n        Iu = An({ sigmoid_: function(t) { var e = mn(t, \"x\", \"sigmoid\"); return Lt.runKernelFunc((function(t, n) { var r = t.sigmoid(e); return n([r]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return t.mul(n.mul(On(1).sub(n))) } } }), \"Sigmoid\") } }),\r\n        ku = An({ sign_: function(t) { var e = mn(t, \"x\", \"sign\"); return Lt.runKernelFunc((function(t) { return t.sign(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        Su = An({ isNaN_: function(t) { var e = mn(t, \"x\", \"isNaN\"); return Lt.runKernelFunc((function(t) { return t.isNaN(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        Au = An({ isInf_: function(t) { var e = mn(t, \"x\", \"isInf\"); return Lt.runKernelFunc((function(t) { return t.isInf(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        Du = An({ isFinite_: function(t) { var e = mn(t, \"x\", \"isFinite\"); return Lt.runKernelFunc((function(t) { return t.isFinite(e) }), { $x: e }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        Tu = An({\r\n            sin_: function(t) {\r\n                var e = mn(t, \"x\", \"sin\"),\r\n                    n = [e];\r\n                return Lt.runKernelFunc((function(t, n) { var r = t.sin(e); return n([e]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return n.toFloat().cos().mul(t) } } }), \"Sin\", {}, n)\r\n            }\r\n        }),\r\n        Nu = An({ sinh_: function(t) { var e = mn(t, \"x\", \"sinh\"); return Lt.runKernelFunc((function(t, n) { var r = t.sinh(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return n.toFloat().cosh().mulStrict(t) } } })) } }),\r\n        Fu = An({ softplus_: function(t) { var e = mn(t, \"x\", \"softplus\"); return Lt.runKernelFunc((function(t, n) { var r = t.softplus(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.mul(n.sigmoid()) } } })) } }),\r\n        _u = An({ sqrt_: function(t) { var e = mn(t, \"x\", \"sqrt\"); return Lt.runKernelFunc((function(t, n) { var r = t.sqrt(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.div(n.toFloat().sqrt().mul(2)) } } })) } }),\r\n        Ou = An({ step_: function(t, e) { void 0 === e && (e = 0); var n = mn(t, \"x\", \"step\"); return Lt.runKernelFunc((function(t) { return t.step(n, e) }), { $x: n }, (function(t) { return { $x: function() { return Xn(t) } } })) } }),\r\n        Mu = An({ tan_: function(t) { var e = mn(t, \"x\", \"tan\"); return Lt.runKernelFunc((function(t, n) { var r = t.tan(e); return n([e]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return t.div(n.cos().square()) } } })) } }),\r\n        Bu = An({ tanh_: function(t) { var e = mn(t, \"x\", \"tanh\"); return Lt.runKernelFunc((function(t, n) { var r = t.tanh(e); return n([r]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return On(1).sub(n.square()).mulStrict(t) } } }), \"Tanh\", {}, null, [!0]) } });\r\n\r\n    function Pu(t, e, n, r, o, a) {\r\n        var i, s, u = mn(t, \"x\", \"batchNorm\"),\r\n            c = mn(e, \"mean\", \"batchNorm\"),\r\n            l = mn(n, \"variance\", \"batchNorm\");\r\n        return null != o && (i = mn(o, \"scale\", \"batchNorm\")), null != r && (s = mn(r, \"offset\", \"batchNorm\")), C(2 === u.rank, (function() { return \"Error in batchNorm3D: x must be rank 3 but got rank \" + u.rank + \".\" })), C(2 === c.rank || 1 === c.rank, (function() { return \"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank \" + c.rank + \".\" })), C(2 === l.rank || 1 === l.rank, (function() { return \"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank \" + l.rank + \".\" })), null != i && C(2 === i.rank || 1 === i.rank, (function() { return \"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank \" + i.rank + \".\" })), null != s && C(2 === s.rank || 1 === s.rank, (function() { return \"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank \" + s.rank + \".\" })), Uu(u, c, l, s, i, a)\r\n    }\r\n\r\n    function Lu(t, e, n, r, o, a) {\r\n        var i, s, u = mn(t, \"x\", \"batchNorm\"),\r\n            c = mn(e, \"mean\", \"batchNorm\"),\r\n            l = mn(n, \"variance\", \"batchNorm\");\r\n        return null != o && (i = mn(o, \"scale\", \"batchNorm\")), null != r && (s = mn(r, \"offset\", \"batchNorm\")), C(3 === u.rank, (function() { return \"Error in batchNorm3D: x must be rank 3 but got rank \" + u.rank + \".\" })), C(3 === c.rank || 1 === c.rank, (function() { return \"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank \" + c.rank + \".\" })), C(3 === l.rank || 1 === l.rank, (function() { return \"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank \" + l.rank + \".\" })), null != i && C(3 === i.rank || 1 === i.rank, (function() { return \"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank \" + i.rank + \".\" })), null != s && C(3 === s.rank || 1 === s.rank, (function() { return \"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank \" + s.rank + \".\" })), Uu(u, c, l, s, i, a)\r\n    }\r\n\r\n    function Wu(t, e, n, r, o, a) {\r\n        var i, s, u = mn(t, \"x\", \"batchNorm\"),\r\n            c = mn(e, \"mean\", \"batchNorm\"),\r\n            l = mn(n, \"variance\", \"batchNorm\");\r\n        return null != o && (i = mn(o, \"scale\", \"batchNorm\")), null != r && (s = mn(r, \"offset\", \"batchNorm\")), C(4 === u.rank, (function() { return \"Error in batchNorm4D: x must be rank 4 but got rank \" + u.rank + \".\" })), C(4 === c.rank || 1 === c.rank, (function() { return \"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank \" + c.rank + \".\" })), C(4 === l.rank || 1 === l.rank, (function() { return \"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank \" + l.rank + \".\" })), null != i && C(4 === i.rank || 1 === i.rank, (function() { return \"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank \" + i.rank + \".\" })), null != s && C(4 === s.rank || 1 === s.rank, (function() { return \"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank \" + s.rank + \".\" })), Uu(u, c, l, s, i, a)\r\n    }\r\n\r\n    function Uu(t, e, n, r, o, a) {\r\n        null == a && (a = .001);\r\n        var i, s, u, c = mn(t, \"x\", \"batchNorm\"),\r\n            l = mn(e, \"mean\", \"batchNorm\"),\r\n            h = mn(n, \"variance\", \"batchNorm\");\r\n        null != o && (i = mn(o, \"scale\", \"batchNorm\")), null != r && (s = mn(r, \"offset\", \"batchNorm\")), C(l.rank === h.rank, (function() { return \"Batch normalization gradient requires mean and variance to have equal ranks.\" })), C(null == s || l.rank === s.rank, (function() { return \"Batch normalization gradient requires mean and offset to have equal ranks.\" })), C(null == i || l.rank === i.rank, (function() { return \"Batch normalization gradient requires mean and scale to have equal ranks.\" })), u = 0 === c.rank || 1 === c.rank ? c.as4D(1, 1, 1, c.size) : 2 === c.rank ? c.as4D(1, 1, c.shape[0], c.shape[1]) : 3 === c.rank ? c.as4D(1, c.shape[0], c.shape[1], c.shape[2]) : c;\r\n        var f = [c, l, h, i];\r\n        return Lt.runKernelFunc((function(t, e) { var n = t.batchNormalization(u, Vu(l), Vu(h), a, Vu(i), Vu(s)); return e([c, l, h, i]), n }), { x: c, mean: l, variance: h, scale: i, offset: s }, (function(t, e) {\r\n            var n = e,\r\n                r = n[0],\r\n                o = n[1],\r\n                i = n[2],\r\n                s = n[3],\r\n                c = null == s ? On(1) : s,\r\n                l = Eo(o.shape, u.shape),\r\n                h = [];\r\n            if (1 === o.rank) {\r\n                for (var f = 0; f < u.shape.length - 1; ++f) h.push(u.shape[f]);\r\n                h.push(1);\r\n            }\r\n            var d = r.sub(o),\r\n                p = t.mul(c),\r\n                v = Ru(i.add(On(a))),\r\n                m = v.mul(v).mul(v).mul(On(-.5));\r\n            return {\r\n                x: function() { return 1 === o.rank ? t.mul(Lr(v.as4D(1, 1, 1, o.shape[0]), h)).mul(c).reshape(r.shape) : t.mul(v).mul(c).reshape(r.shape) },\r\n                mean: function() { var t = v.mul(On(-1)).mul(p); return 1 === o.rank && (t = t.sum(l)), t.reshape(o.shape) },\r\n                variance: function() { var t = m.mul(d).mul(p); return 1 === o.rank && (t = t.sum(l)), t.reshape(o.shape) },\r\n                scale: function() {\r\n                    var e = d.mul(v),\r\n                        n = t.mul(e);\r\n                    return 1 === o.rank && (n = n.sum(l)), n.reshape(o.shape)\r\n                },\r\n                offset: function() { var e = t; return 1 === o.rank && (e = e.sum(l)), e.reshape(o.shape) }\r\n            }\r\n        }), \"BatchNormalization\", { varianceEpsilon: a }, f).reshape(c.shape)\r\n    }\r\n\r\n    function Vu(t) { return null == t ? null : 0 === t.rank ? t.as1D() : 1 === t.rank ? t : 2 === t.rank ? t.as4D(1, 1, t.shape[0], t.shape[1]) : 3 === t.rank ? t.as4D(1, t.shape[0], t.shape[1], t.shape[2]) : t }\r\n\r\n    function zu() { Xe(\"tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon\"); }\r\n    var Gu = An({ batchNormalization2d_: function(t, e, n, r, o, a) { return void 0 === r && (r = .001), zu(), Pu(t, e, n, a, o, r) } }),\r\n        Hu = An({ batchNormalization3d_: function(t, e, n, r, o, a) { return void 0 === r && (r = .001), zu(), Lu(t, e, n, a, o, r) } }),\r\n        qu = An({ batchNormalization4d_: function(t, e, n, r, o, a) { return void 0 === r && (r = .001), zu(), Wu(t, e, n, a, o, r) } }),\r\n        Ku = An({ batchNormalization_: function(t, e, n, r, o, a) { return void 0 === r && (r = .001), zu(), Uu(t, e, n, a, o, r) } }),\r\n        ju = An({ batchNorm_: Uu }),\r\n        Xu = An({ batchNorm2d_: Pu }),\r\n        Yu = An({ batchNorm3d_: Lu }),\r\n        $u = An({ batchNorm4d_: Wu });\r\n    var Qu = An({\r\n            logicalAnd_: function(t, e) {\r\n                var n = mn(t, \"a\", \"logicalAnd\", \"bool\"),\r\n                    r = mn(e, \"b\", \"logicalAnd\", \"bool\");\r\n                return Ro(n.shape, r.shape), Lt.runKernelFunc((function(t) { return t.logicalAnd(n, r) }), { a: n, b: r }, null, \"LogicalAnd\")\r\n            }\r\n        }),\r\n        Ju = An({ logicalNot_: function(t) { var e = mn(t, \"x\", \"logicalNot\", \"bool\"); return Lt.runKernelFunc((function(t) { return t.logicalNot(e) }), { $x: e }) } }),\r\n        Zu = An({\r\n            logicalOr_: function(t, e) {\r\n                var n = mn(t, \"a\", \"logicalOr\", \"bool\"),\r\n                    r = mn(e, \"b\", \"logicalOr\", \"bool\");\r\n                return Ro(n.shape, r.shape), Lt.runKernelFunc((function(t) { return t.logicalOr(n, r) }), { $a: n, $b: r })\r\n            }\r\n        }),\r\n        tc = An({\r\n            logicalXor_: function(t, e) {\r\n                var n = mn(t, \"a\", \"logicalXor\", \"bool\"),\r\n                    r = mn(e, \"b\", \"logicalXor\", \"bool\");\r\n                return Ro(n.shape, r.shape), Zu(t, e).logicalAnd(Qu(t, e).logicalNot())\r\n            }\r\n        }),\r\n        ec = An({\r\n            where_: function(t, e, n) {\r\n                var r = mn(e, \"a\", \"where\"),\r\n                    o = mn(n, \"b\", \"where\"),\r\n                    a = mn(t, \"condition\", \"where\", \"bool\");\r\n                return E(r.shape, o.shape, \"Error in where: \"), 1 === a.rank ? C(a.shape[0] === r.shape[0], (function() { return \"The first dimension of `a` must match the size of `condition`.\" })) : E(a.shape, o.shape, \"Error in where: \"), Lt.runKernelFunc((function(t, e) { var n = t.select(a, r, o); return e([a]), n }), { $condition: a, $a: r, $b: o }, (function(t, e) { var n = e[0]; return { $condition: function() { return Xn(n).toFloat() }, $a: function() { return t.mul(n.cast(t.dtype)) }, $b: function() { return t.mul(n.logicalNot().cast(t.dtype)) } } }))\r\n            }\r\n        }),\r\n        nc = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e, n, o;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return [4, (e = mn(t, \"condition\", \"whereAsync\", \"bool\")).data()];\r\n                        case 1:\r\n                            return n = r.sent(), o = na(e.shape, n), t !== e && e.dispose(), [2, o]\r\n                    }\r\n                }))\r\n            }))\r\n        };\r\n    var rc = An({\r\n            add_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"add\"),\r\n                    o = mn(e, \"b\", \"add\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t) { return t.add(r, o) }), { a: r, b: o }, (function(t) {\r\n                    return {\r\n                        a: function() {\r\n                            var e = t,\r\n                                n = Eo(r.shape, a);\r\n                            return n.length > 0 && (e = e.sum(n)), e.reshape(r.shape)\r\n                        },\r\n                        b: function() {\r\n                            var e = t,\r\n                                n = Eo(o.shape, a);\r\n                            return n.length > 0 && (e = e.sum(n)), e.reshape(o.shape)\r\n                        }\r\n                    }\r\n                }), \"Add\")\r\n            }\r\n        }),\r\n        oc = An({\r\n            addN_: function(t) {\r\n                C(Array.isArray(t), (function() { return \"The argument passed to tf.addN() must be a list of tensors\" })), C(t.length >= 1, (function() { return \"Must pass at least one tensor to tf.addN(), but got \" + t.length }));\r\n                var e = t.map((function(t, e) { return mn(t, \"tensors\" + e, \"addN\") })),\r\n                    n = e[0];\r\n                e.forEach((function(t) { if (t.dtype !== n.dtype) throw new Error(\"All tensors passed to tf.addN() must have the same dtype\") })), e.forEach((function(t) { if (!S(t.shape, n.shape)) throw new Error(\"All tensors passed to tf.addN() must have the same shape\") }));\r\n                var r = e;\r\n                return Lt.runKernelFunc((function(t) { return t.addN(e) }), r, (function(t) { var n = {}; return e.forEach((function(e, r) { n[r] = function() { return t.clone() }; })), n }), \"AddN\")\r\n            }\r\n        }),\r\n        ac = An({\r\n            addStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"addStrict\"),\r\n                    r = mn(e, \"b\", \"addStrict\");\r\n                return E(n.shape, r.shape, \"Error in addStrict: \"), n.add(r)\r\n            }\r\n        }),\r\n        ic = An({\r\n            atan2_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"atan2\"),\r\n                    o = mn(e, \"b\", \"atan2\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.atan2(r, o); return e([r, o]), n }), { $a: r, $b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return {\r\n                        $a: function() {\r\n                            var e = rc(n.square(), r.square()),\r\n                                o = t.mul(r.div(e)),\r\n                                i = Eo(n.shape, a);\r\n                            return i.length > 0 && (o = o.sum(i)), o.reshape(n.shape)\r\n                        },\r\n                        $b: function() {\r\n                            var e = rc(n.square(), r.square()),\r\n                                o = wu(t.mul(n.div(e))),\r\n                                i = Eo(r.shape, a);\r\n                            return i.length > 0 && (o = o.sum(i)), o.reshape(r.shape)\r\n                        }\r\n                    }\r\n                }))\r\n            }\r\n        }),\r\n        sc = An({\r\n            div_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"div\"),\r\n                    o = mn(e, \"b\", \"div\");\r\n                if (n = Nt(r, o), r = n[0], o = n[1], \"int32\" === r.dtype && \"int32\" === o.dtype) return lc(r, o);\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.realDivide(r, o); return e([r, o]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return {\r\n                        a: function() {\r\n                            var e = t.div(r.toFloat()),\r\n                                o = Eo(n.shape, a);\r\n                            return o.length > 0 ? e.sum(o).reshape(n.shape) : e\r\n                        },\r\n                        b: function() {\r\n                            var e = t.mul(n.toFloat()),\r\n                                o = Eo(r.shape, a);\r\n                            o.length > 0 && (e = e.sum(o).reshape(r.shape));\r\n                            var i = r.square();\r\n                            return e.div(i.toFloat()).neg()\r\n                        }\r\n                    }\r\n                }), \"Div\")\r\n            }\r\n        }),\r\n        uc = An({\r\n            divNoNan_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"div\"),\r\n                    o = mn(e, \"b\", \"div\");\r\n                r = (n = Nt(r, o))[0], o = n[1];\r\n                var a = sc(r, o),\r\n                    i = Xn(a),\r\n                    s = o.equal(i);\r\n                return ec(s, i, a)\r\n            }\r\n        }),\r\n        cc = An({\r\n            divStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"div\"),\r\n                    r = mn(e, \"b\", \"div\");\r\n                return E(n.shape, r.shape, \"Error in divideStrict: \"), n.div(r)\r\n            }\r\n        }),\r\n        lc = An({\r\n            floorDiv_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"floorDiv\"),\r\n                    o = mn(e, \"b\", \"floorDiv\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.floorDiv(r, o); return e([r, o]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return {\r\n                        a: function() {\r\n                            var e = t.div(r.toFloat()),\r\n                                o = Eo(n.shape, a);\r\n                            return o.length > 0 ? e.sum(o).reshape(n.shape) : e\r\n                        },\r\n                        b: function() {\r\n                            var e = t.mul(n.toFloat()),\r\n                                o = Eo(r.shape, a);\r\n                            o.length > 0 && (e = e.sum(o).reshape(r.shape));\r\n                            var i = r.square();\r\n                            return e.div(i.toFloat()).neg()\r\n                        }\r\n                    }\r\n                }), \"FloorDiv\")\r\n            }\r\n        }),\r\n        hc = An({\r\n            maximum_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"maximum\"),\r\n                    o = mn(e, \"b\", \"maximum\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], \"bool\" === r.dtype && (r = r.toInt(), o = o.toInt()), Ro(r.shape, o.shape), Lt.runKernelFunc((function(t, e) { var n = t.maximum(r, o); return e([r, o]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return { a: function() { return t.mul(n.greaterEqual(r).toFloat()) }, b: function() { return t.mul(n.less(r).toFloat()) } }\r\n                }), \"Maximum\")\r\n            }\r\n        }),\r\n        fc = An({\r\n            maximumStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"maximumStrict\"),\r\n                    r = mn(e, \"b\", \"maximumStrict\");\r\n                return E(n.shape, r.shape, \"Error in maximumStrict: \"), n.maximum(r)\r\n            }\r\n        }),\r\n        dc = An({\r\n            minimum_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"minimum\"),\r\n                    o = mn(e, \"b\", \"minimum\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], \"bool\" === r.dtype && (r = r.toInt(), o = o.toInt()), Ro(r.shape, o.shape), Lt.runKernelFunc((function(t, e) { var n = t.minimum(r, o); return e([r, o]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return { a: function() { return t.mul(n.lessEqual(r).toFloat()) }, b: function() { return t.mul(n.greater(r).toFloat()) } }\r\n                }), \"Minimum\")\r\n            }\r\n        }),\r\n        pc = An({\r\n            minimumStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"minimumStrict\"),\r\n                    r = mn(e, \"b\", \"minimumStrict\");\r\n                return E(n.shape, r.shape, \"Error in minimumStrict: \"), n.minimum(r)\r\n            }\r\n        }),\r\n        vc = An({\r\n            mod_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"mod\"),\r\n                    o = mn(e, \"b\", \"mod\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.mod(r, o); return e([r, o]), n }), { $a: r, $b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return {\r\n                        $a: function() { var e = Eo(n.shape, a); return e.length > 0 ? t.sum(e).reshape(n.shape) : t },\r\n                        $b: function() {\r\n                            var e = t.mul(n.div(r).floor().neg()),\r\n                                o = Eo(r.shape, a);\r\n                            return o.length > 0 ? e.sum(o).reshape(r.shape) : e\r\n                        }\r\n                    }\r\n                }))\r\n            }\r\n        }),\r\n        mc = An({\r\n            modStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"modStrict\"),\r\n                    r = mn(e, \"b\", \"modStrict\");\r\n                return E(n.shape, r.shape, \"Error in modStrict: \"), n.mod(r)\r\n            }\r\n        }),\r\n        gc = An({\r\n            mul_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"mul\"),\r\n                    o = mn(e, \"b\", \"mul\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.multiply(r, o); return e([r, o]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return {\r\n                        a: function() {\r\n                            var e = t.mul(r.toFloat()),\r\n                                o = Eo(n.shape, a);\r\n                            return o.length > 0 ? e.sum(o).reshape(n.shape) : e\r\n                        },\r\n                        b: function() {\r\n                            var e = t.mul(n.toFloat()),\r\n                                o = Eo(r.shape, a);\r\n                            return o.length > 0 ? e.sum(o).reshape(r.shape) : e\r\n                        }\r\n                    }\r\n                }), \"Mul\")\r\n            }\r\n        }),\r\n        yc = An({\r\n            mulStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"mul\"),\r\n                    r = mn(e, \"b\", \"mul\");\r\n                return E(n.shape, r.shape, \"Error in multiplyStrict: \"), n.mul(r)\r\n            }\r\n        }),\r\n        xc = An({\r\n            pow_: function(t, e) {\r\n                var n, r = mn(t, \"base\", \"pow\"),\r\n                    o = mn(e, \"exp\", \"pow\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape),\r\n                    i = [r, o];\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.pow(r, o); return e([r, o, n]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1],\r\n                        o = e[2];\r\n                    return {\r\n                        a: function() {\r\n                            var e = r.toFloat(),\r\n                                o = t.mul(e.mul(n.pow(e.sub(On(1))))),\r\n                                i = Eo(n.shape, a);\r\n                            return i.length > 0 && (o = o.sum(i)), o.reshape(n.shape)\r\n                        },\r\n                        b: function() {\r\n                            var e = n.greater(0),\r\n                                i = n.log().where(e, Xn(n)),\r\n                                s = t.mul(o.mul(i)),\r\n                                u = Eo(r.shape, a);\r\n                            return u.length > 0 && (s = s.sum(u)), s.reshape(r.shape)\r\n                        }\r\n                    }\r\n                }), \"Pow\", {}, i, [!0])\r\n            }\r\n        }),\r\n        bc = An({ powStrict_: function(t, e) { return E(t.shape, e.shape, \"Error in powStrict: \"), t.pow(e) } }),\r\n        wc = An({\r\n            squaredDifferenceStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"squaredDifferenceStrict\"),\r\n                    r = mn(e, \"b\", \"squaredDifferenceStrict\");\r\n                return E(n.shape, r.shape, \"Error in squaredDifferenceStrict: \"), n.squaredDifference(r)\r\n            }\r\n        }),\r\n        Cc = An({\r\n            sub_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"sub\"),\r\n                    o = mn(e, \"b\", \"sub\");\r\n                n = Nt(r, o), r = n[0], o = n[1];\r\n                var a = Ro(r.shape, o.shape);\r\n                return Lt.runKernelFunc((function(t) { return t.subtract(r, o) }), { a: r, b: o }, (function(t) {\r\n                    return {\r\n                        a: function() {\r\n                            var e = t,\r\n                                n = Eo(r.shape, a);\r\n                            return n.length > 0 && (e = e.sum(n)), e.reshape(r.shape)\r\n                        },\r\n                        b: function() {\r\n                            var e = t,\r\n                                n = Eo(o.shape, a);\r\n                            return n.length > 0 && (e = e.sum(n)), e.neg().reshape(o.shape)\r\n                        }\r\n                    }\r\n                }), \"Sub\")\r\n            }\r\n        }),\r\n        Ec = An({\r\n            subStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"subStrict\"),\r\n                    r = mn(e, \"b\", \"subStrict\");\r\n                return E(n.shape, r.shape, \"Error in subStrict: \"), n.sub(r)\r\n            }\r\n        });\r\n    var Rc = An({\r\n            equal_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"equal\"),\r\n                    o = mn(e, \"b\", \"equal\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape), Lt.runKernelFunc((function(t) { return t.equal(r, o) }), { $a: r, $b: o })\r\n            }\r\n        }),\r\n        Ic = An({\r\n            equalStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"equalStrict\"),\r\n                    r = mn(e, \"b\", \"equalStrict\");\r\n                return E(n.shape, r.shape, \"Error in equalStrict: \"), n.equal(r)\r\n            }\r\n        }),\r\n        kc = An({\r\n            greater_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"greater\"),\r\n                    o = mn(e, \"b\", \"greater\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape), Lt.runKernelFunc((function(t) { return t.greater(r, o) }), { a: r, b: o }, null, \"Greater\")\r\n            }\r\n        }),\r\n        Sc = An({\r\n            greaterEqual_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"greaterEqual\"),\r\n                    o = mn(e, \"b\", \"greaterEqual\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape), Lt.runKernelFunc((function(t, e) { var n = t.greaterEqual(r, o); return e([r, o]), n }), { a: r, b: o }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1];\r\n                    return { a: function() { return Xn(n) }, b: function() { return Xn(r) } }\r\n                }), \"GreaterEqual\")\r\n            }\r\n        }),\r\n        Ac = An({\r\n            greaterEqualStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"greaterEqualStrict\"),\r\n                    r = mn(e, \"b\", \"greaterEqualStrict\");\r\n                return E(n.shape, r.shape, \"Error in greaterEqualStrict: \"), n.greaterEqual(r)\r\n            }\r\n        }),\r\n        Dc = An({\r\n            greaterStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"greaterStrict\"),\r\n                    r = mn(e, \"b\", \"greaterStrict\");\r\n                return E(n.shape, r.shape, \"Error in greaterStrict: \"), n.greater(r)\r\n            }\r\n        }),\r\n        Tc = An({\r\n            less_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"less\"),\r\n                    o = mn(e, \"b\", \"less\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape), Lt.runKernelFunc((function(t) { return t.less(r, o) }), { a: r, b: o }, null, \"Less\")\r\n            }\r\n        }),\r\n        Nc = An({\r\n            lessEqual_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"lessEqual\"),\r\n                    o = mn(e, \"b\", \"lessEqual\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape), Lt.runKernelFunc((function(t, e) { var n = t.lessEqual(r, o); return e([r, o]), n }), { a: r, b: o }, null, \"LessEqual\")\r\n            }\r\n        }),\r\n        Fc = An({\r\n            lessEqualStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"lessEqualStrict\"),\r\n                    r = mn(e, \"b\", \"lessEqualStrict\");\r\n                return E(n.shape, r.shape, \"Error in lessEqualStrict: \"), n.lessEqual(r)\r\n            }\r\n        }),\r\n        _c = An({\r\n            lessStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"lessStrict\"),\r\n                    r = mn(e, \"b\", \"lessStrict\");\r\n                return E(n.shape, r.shape, \"Error in lessStrict: \"), n.less(r)\r\n            }\r\n        }),\r\n        Oc = An({\r\n            notEqual_: function(t, e) {\r\n                var n, r = mn(t, \"a\", \"notEqual\"),\r\n                    o = mn(e, \"b\", \"notEqual\");\r\n                return n = Nt(r, o), r = n[0], o = n[1], Ro(r.shape, o.shape), Lt.runKernelFunc((function(t) { return t.notEqual(r, o) }), { a: r, b: o }, null, \"NotEqual\")\r\n            }\r\n        }),\r\n        Mc = An({\r\n            notEqualStrict_: function(t, e) {\r\n                var n = mn(t, \"a\", \"notEqualStrict\"),\r\n                    r = mn(e, \"b\", \"notEqualStrict\");\r\n                return E(n.shape, r.shape, \"Error in notEqualStrict: \"), n.notEqual(r)\r\n            }\r\n        });\r\n\r\n    function Bc(t, e) { for (var n = [], r = t; r < e; ++r) n.push(r); return n }\r\n\r\n    function Pc(t) {\r\n        for (var e = [], n = 0; n < t.length; ++n)\r\n            for (var r = 0; r < t[n].length; ++r) e.push(t[n][r]);\r\n        return e\r\n    }\r\n    var Lc = An({\r\n            gather_: function(t, e, n) {\r\n                void 0 === n && (n = 0);\r\n                var r = mn(t, \"x\", \"gather\"),\r\n                    o = mn(e, \"indices\", \"gather\", \"int32\");\r\n                n = O(n, r.shape)[0];\r\n                var a = function(t, e, n) { for (var r = t.shape[n], o = [], a = 1, i = 1, s = 0; s < n; s++) o.push(t.shape[s]), a *= t.shape[s]; for (s = 0; s < e.rank; s++) o.push(e.shape[s]); for (s = n + 1; s < t.rank; s++) o.push(t.shape[s]), i *= t.shape[s]; return { batchSize: a, sliceSize: i, dimSize: r, outputShape: o } }(r, o, n);\r\n                return Lt.runKernelFunc((function(t, e) { var a = t.gather(r, o.flatten(), n); return e([o]), a }), { x: r, indices: o }, (function(t, e) {\r\n                    var o = e[0];\r\n                    return {\r\n                        x: function() {\r\n                            var e = r.shape,\r\n                                a = o.size,\r\n                                i = e.slice(0, n),\r\n                                s = i.length,\r\n                                u = e.slice(n, e.length).slice(1),\r\n                                c = u.length,\r\n                                l = Bc(0, s),\r\n                                h = Bc(s + 1, s + 1 + c),\r\n                                f = Pc([i, [a], u]),\r\n                                d = t.reshape(f),\r\n                                p = o.reshape([a]),\r\n                                v = Pc([\r\n                                    [s], l, h\r\n                                ]),\r\n                                m = d.transpose(v),\r\n                                g = Wc(m, p, r.shape[n]),\r\n                                y = Rn(v);\r\n                            return g = g.transpose(y)\r\n                        },\r\n                        indices: function() { return o }\r\n                    }\r\n                }), \"Gather\", { axis: n }).reshape(a.outputShape)\r\n            }\r\n        }),\r\n        Wc = An({\r\n            unsortedSegmentSum_: function(t, e, n) {\r\n                var r = mn(t, \"x\", \"unsortedSegmentSum\"),\r\n                    o = mn(e, \"segmentIds\", \"unsortedSegmentSum\", \"int32\");\r\n                return C(A(n), (function() { return \"numSegments must be of dtype int\" })), Lt.runKernelFunc((function(t, e) { var a = t.unsortedSegmentSum(r, o, n); return e([o]), a }), { $x: r }, (function(t, e) {\r\n                    var n = e[0];\r\n                    return {\r\n                        $x: function() {\r\n                            return function(t, e) {\r\n                                for (var n = hc(e, Xn(e)), r = Lc(t, n), o = Sc(e, On(0, \"int32\")), a = r.rank - o.rank, i = 0; i < a; ++i) o = wr(o, i + 1);\r\n                                o = Qu(o, zn(r.shape, \"bool\"));\r\n                                var s = Xn(r);\r\n                                return ec(o, r, s)\r\n                            }(t, n)\r\n                        }\r\n                    }\r\n                }))\r\n            }\r\n        });\r\n    var Uc = function(t, e, o) {\r\n        return n(this, void 0, void 0, (function() {\r\n            var n, a, i, s, u, c, l, h, f, d, p, v, m;\r\n            return r(this, (function(r) {\r\n                switch (r.label) {\r\n                    case 0:\r\n                        for (n = mn(t, \"tensor\", \"boolMask\"), a = mn(e, \"mask\", \"boolMask\", \"bool\"), i = null == o ? 0 : o, s = a.rank, u = n.shape, C(s > 0, (function() { return \"mask cannot be scalar\" })), E(u.slice(i, i + s), a.shape, \"mask's shape must match the first K dimensions of tensor's shape,\"), c = 1, l = i; l < i + s; l++) c *= u[l];\r\n                        return h = u.slice(0, i).concat([c], u.slice(i + s)), f = n.reshape(h), d = a.reshape([-1]), [4, nc(d)];\r\n                    case 1:\r\n                        return p = r.sent(), v = p.squeeze([1]), m = Lc(f, v, i), t !== n && n.dispose(), e !== a && a.dispose(), v.dispose(), f.dispose(), d.dispose(), p.dispose(), [2, m]\r\n                }\r\n            }))\r\n        }))\r\n    };\r\n\r\n    function Vc(t, e, n, r, o, a, i) {\r\n        void 0 === a && (a = \"NHWC\"), C(t.length === e.rank, (function() { return \"Length of inShape (\" + t.length + \") and rank of dy (\" + e.rank + \") must match\" }));\r\n        var s = t,\r\n            u = e,\r\n            c = !1;\r\n        3 === e.rank && (c = !0, u = e.as4D(1, e.shape[0], e.shape[1], e.shape[2]), s = [1, t[0], t[1], t[2]]), C(4 === s.length, (function() { return \"Error in conv2dDerInput: inShape must be length 4, but got length \" + s.length + \".\" })), C(4 === u.rank, (function() { return \"Error in conv2dDerInput: dy must be rank 4, but got rank \" + u.rank })), C(4 === n.rank, (function() { return \"Error in conv2dDerInput: filter must be rank 4, but got rank \" + n.rank }));\r\n        var l = \"NHWC\" === a ? s[3] : s[1],\r\n            h = \"NHWC\" === a ? u.shape[3] : u.shape[1];\r\n        C(l === n.shape[2], (function() { return \"Error in conv2dDerInput: depth of input (\" + l + \") must match input depth for filter \" + n.shape[2] + \".\" })), C(h === n.shape[3], (function() { return \"Error in conv2dDerInput: depth of output (\" + h + \") must match output depth for filter \" + n.shape[3] + \".\" })), null != i && C(A(o), (function() { return \"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode \" + i + \" but got pad \" + o + \".\" }));\r\n        var f = Bo(a),\r\n            d = So(s, n.shape, r, 1, o, i, !1, f),\r\n            p = Lt.runKernelFunc((function(t, e) { var r = t.conv2dDerInput(u, n, d); return e([n, u]), r }), { dy4D: u, filter: n }, (function(t, e) {\r\n                var n = e[0],\r\n                    s = e[1];\r\n                return { dy4D: function() { return qc(t, n, r, o, a, 1, i) }, filter: function() { return jc(t, s, n.shape, r, o, a, i) } }\r\n            }));\r\n        return c ? p.as3D(p.shape[1], p.shape[2], p.shape[3]) : p\r\n    }\r\n\r\n    function zc(t) {\r\n        var e = function(t) { return \"number\" == typeof t ? [t, t, t] : 2 === t.length ? [t[0], t[1], 1] : t }(t),\r\n            n = e[0],\r\n            r = e[1],\r\n            o = e[2];\r\n        return 1 === n && 1 === r && 1 === o\r\n    }\r\n\r\n    function Gc(t, e, n, r, o) {\r\n        C(t.length === e.rank, (function() { return \"Length of inShape (\" + t.length + \") and rank of dy (\" + e.rank + \") must match\" }));\r\n        var a = t,\r\n            i = e,\r\n            s = !1;\r\n        4 === e.rank && (s = !0, i = e.as5D(1, e.shape[0], e.shape[1], e.shape[2], e.shape[3]), a = [1, t[0], t[1], t[2], t[3]]);\r\n        var u = a[4],\r\n            c = i.shape[4];\r\n        C(5 === a.length, (function() { return \"Error in conv3dDerInput: inShape must be length 5, but got length \" + a.length + \".\" })), C(5 === i.rank, (function() { return \"Error in conv3dDerInput: dy must be rank 5, but got rank \" + i.rank })), C(5 === n.rank, (function() { return \"Error in conv3dDerInput: filter must be rank 5, but got rank \" + n.rank })), C(u === n.shape[3], (function() { return \"Error in conv3dDerInput: depth of input (\" + u + \") must match input depth for filter \" + n.shape[3] + \".\" })), C(c === n.shape[4], (function() { return \"Error in conv3dDerInput: depth of output (\" + c + \") must match output depth for filter \" + n.shape[4] + \".\" }));\r\n        var l = Ao(a, n.shape, r, 1, o),\r\n            h = Lt.runKernelFunc((function(t) { return t.conv3dDerInput(i, n, l) }), { dy5D: i });\r\n        return s ? h.as4D(h.shape[1], h.shape[2], h.shape[3], h.shape[4]) : h\r\n    }\r\n    var Hc = An({\r\n            conv1d_: function(t, e, n, r, o, a, i) {\r\n                void 0 === o && (o = \"NWC\"), void 0 === a && (a = 1);\r\n                var s = mn(t, \"x\", \"conv1d\"),\r\n                    u = mn(e, \"filter\", \"conv1d\"),\r\n                    c = s,\r\n                    l = !1;\r\n                2 === s.rank && (l = !0, c = s.as3D(1, s.shape[0], s.shape[1])), C(3 === c.rank, (function() { return \"Error in conv1d: input must be rank 3, but got rank \" + c.rank + \".\" })), C(3 === u.rank, (function() { return \"Error in conv1d: filter must be rank 3, but got rank \" + u.rank + \".\" })), null != i && C(A(r), (function() { return \"Error in conv1d: pad must be an integer when using, dimRoundingMode \" + i + \" but got pad \" + r + \".\" })), C(c.shape[2] === u.shape[1], (function() { return \"Error in conv1d: depth of input (\" + c.shape[2] + \") must match input depth for filter \" + u.shape[1] + \".\" })), C(Mo(n, a), (function() { return \"Error in conv1D: Either stride or dilation must be 1. Got stride \" + n + \" and dilation '\" + a + \"'\" })), C(\"NWC\" === o, (function() { return \"Error in conv1d: got dataFormat of \" + o + \" but only NWC is currently supported.\" }));\r\n                var h = u.as4D(1, u.shape[0], u.shape[1], u.shape[2]),\r\n                    f = c.as4D(c.shape[0], 1, c.shape[1], c.shape[2]),\r\n                    d = qc(f, h, [1, n], r, \"NHWC\", [1, a], i);\r\n                return l ? d.as2D(d.shape[2], d.shape[3]) : d.as3D(d.shape[0], d.shape[2], d.shape[3])\r\n            }\r\n        }),\r\n        qc = An({\r\n            conv2d_: function(t, e, n, r, o, a, i) {\r\n                void 0 === o && (o = \"NHWC\"), void 0 === a && (a = [1, 1]);\r\n                var s = mn(t, \"x\", \"conv2d\"),\r\n                    u = mn(e, \"filter\", \"conv2d\"),\r\n                    c = s,\r\n                    l = !1;\r\n                3 === s.rank && (l = !0, c = s.as4D(1, s.shape[0], s.shape[1], s.shape[2])), C(4 === c.rank, (function() { return \"Error in conv2d: input must be rank 4, but got rank \" + c.rank + \".\" })), C(4 === u.rank, (function() { return \"Error in conv2d: filter must be rank 4, but got rank \" + u.rank + \".\" })), null != i && C(A(r), (function() { return \"Error in conv2d: pad must be an integer when using, dimRoundingMode \" + i + \" but got pad \" + r + \".\" }));\r\n                var h = \"NHWC\" === o ? c.shape[3] : c.shape[1];\r\n                C(h === u.shape[2], (function() { return \"Error in conv2d: depth of input (\" + h + \") must match input depth for filter \" + u.shape[2] + \".\" })), C(Mo(n, a), (function() { return \"Error in conv2D: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + a + \"'\" }));\r\n                var f = Bo(o),\r\n                    d = So(c.shape, u.shape, n, a, r, i, !1, f),\r\n                    p = [u, c],\r\n                    v = Lt.runKernelFunc((function(t, e) { var n = t.conv2d(c, u, d); return e([u, c]), n }), { x: c, filter: u }, (function(t, e) {\r\n                        var i = e,\r\n                            s = i[0],\r\n                            u = i[1];\r\n                        return C(Oo(a), (function() { return \"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '\" + a + \"'\" })), { x: function() { return Xc(u.shape, t, s, n, r, o) }, filter: function() { return jc(u, t, s.shape, n, r, o) } }\r\n                    }), \"Conv2D\", d, p);\r\n                return l ? v.as3D(v.shape[1], v.shape[2], v.shape[3]) : v\r\n            }\r\n        }),\r\n        Kc = An({\r\n            conv3d_: function(t, e, n, r, o, a) {\r\n                void 0 === o && (o = \"NDHWC\"), void 0 === a && (a = [1, 1, 1]);\r\n                var i = mn(t, \"x\", \"conv3d\"),\r\n                    s = mn(e, \"filter\", \"conv3d\"),\r\n                    u = i,\r\n                    c = !1;\r\n                4 === i.rank && (c = !0, u = i.as5D(1, i.shape[0], i.shape[1], i.shape[2], i.shape[3])), C(5 === u.rank, (function() { return \"Error in conv3d: input must be rank 5, but got rank \" + u.rank + \".\" })), C(5 === s.rank, (function() { return \"Error in conv3d: filter must be rank 5, but got rank \" + s.rank + \".\" })), C(u.shape[4] === s.shape[3], (function() { return \"Error in conv3d: depth of input (\" + u.shape[4] + \") must match input depth for filter \" + s.shape[3] + \".\" })), C(function(t, e) { return zc(t) || zc(e) }(n, a), (function() { return \"Error in conv3D: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + a + \"'\" })), C(\"NDHWC\" === o, (function() { return \"Error in conv3d: got dataFormat of \" + o + \" but only NDHWC is currently supported.\" }));\r\n                var l = Ao(u.shape, s.shape, n, a, r),\r\n                    h = Lt.runKernelFunc((function(t, e) { var n = t.conv3d(u, s, l); return e([u, s]), n }), { x: u, $filter: s }, (function(t, e) {\r\n                        C(zc(a), (function() { return \"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '\" + a + \"'\" }));\r\n                        var o = e[0],\r\n                            i = e[1];\r\n                        return {\r\n                            x: function() { return Gc(o.shape, t, i, n, r) },\r\n                            $filter: function() {\r\n                                return function(t, e, n, r, o) {\r\n                                    var a = t;\r\n                                    4 === t.rank && (a = t.as5D(1, t.shape[0], t.shape[1], t.shape[2], t.shape[3]));\r\n                                    var i = e;\r\n                                    4 === i.rank && (i = e.as5D(1, e.shape[0], e.shape[1], e.shape[2], e.shape[3]));\r\n                                    C(5 === a.rank, (function() { return \"Error in conv3dDerFilter: input must be rank 5, but got shape \" + a.shape + \".\" })), C(5 === i.rank, (function() { return \"Error in conv3dDerFilter: dy must be rank 5, but got shape \" + i.shape + \".\" })), C(5 === n.length, (function() { return \"Error in conv3dDerFilter: filterShape must be length 5, but got \" + n + \".\" })), C(a.shape[4] === n[3], (function() { return \"Error in conv3dDerFilter: depth of input \" + a.shape[4] + \") must match input depth in filter (\" + n[3] + \".\" })), C(i.shape[4] === n[4], (function() { return \"Error in conv3dDerFilter: depth of dy (\" + i.shape[4] + \") must match output depth for filter (\" + n[4] + \").\" }));\r\n                                    var s = Ao(a.shape, n, r, 1, o);\r\n                                    return Lt.runKernelFunc((function(t) { return t.conv3dDerFilter(a, i, s) }), { x5D: a, dy5D: i })\r\n                                }(o, t, i.shape, n, r)\r\n                            }\r\n                        }\r\n                    }));\r\n                return c ? h.as4D(h.shape[1], h.shape[2], h.shape[3], h.shape[4]) : h\r\n            }\r\n        }),\r\n        jc = An({\r\n            conv2dDerFilter_: function(t, e, n, r, o, a, i) {\r\n                void 0 === a && (a = \"NHWC\");\r\n                var s = t;\r\n                3 === t.rank && (s = t.as4D(1, t.shape[0], t.shape[1], t.shape[2]));\r\n                var u = e;\r\n                3 === u.rank && (u = e.as4D(1, e.shape[0], e.shape[1], e.shape[2])), C(4 === s.rank, (function() { return \"Error in conv2dDerFilter: input must be rank 4, but got shape \" + s.shape + \".\" })), C(4 === u.rank, (function() { return \"Error in conv2dDerFilter: dy must be rank 4, but got shape \" + u.shape + \".\" })), C(4 === n.length, (function() { return \"Error in conv2dDerFilter: filterShape must be length 4, but got \" + n + \".\" }));\r\n                var c = \"NHWC\" === a ? s.shape[3] : s.shape[1],\r\n                    l = \"NHWC\" === a ? u.shape[3] : u.shape[1];\r\n                C(c === n[2], (function() { return \"Error in conv2dDerFilter: depth of input \" + c + \") must match input depth in filter (\" + n[2] + \".\" })), C(l === n[3], (function() { return \"Error in conv2dDerFilter: depth of dy (\" + l + \") must match output depth for filter (\" + n[3] + \").\" })), null != i && C(A(o), (function() { return \"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode \" + i + \" but got pad \" + o + \".\" }));\r\n                var h = Bo(a),\r\n                    f = So(s.shape, n, r, 1, o, i, !1, h);\r\n                return Lt.runKernelFunc((function(t) { return t.conv2dDerFilter(s, u, f) }), { x4D: s, dy4D: u })\r\n            }\r\n        }),\r\n        Xc = An({ conv2dDerInput_: Vc }),\r\n        Yc = An({\r\n            depthwiseConv2d_: function(t, e, n, r, o, a, i) {\r\n                void 0 === a && (a = [1, 1]);\r\n                var s = mn(t, \"x\", \"depthwiseConv2d\"),\r\n                    u = mn(e, \"filter\", \"depthwiseConv2d\"),\r\n                    c = s,\r\n                    l = !1;\r\n                3 === s.rank && (l = !0, c = s.as4D(1, s.shape[0], s.shape[1], s.shape[2])), C(4 === c.rank, (function() { return \"Error in depthwiseConv2d: input must be rank 4, but got rank \" + c.rank + \".\" })), C(4 === u.rank, (function() { return \"Error in depthwiseConv2d: filter must be rank 4, but got rank \" + u.rank + \".\" })), C(c.shape[3] === u.shape[2], (function() { return \"Error in depthwiseConv2d: number of input channels (\" + c.shape[3] + \") must match the inChannels dimension in filter \" + u.shape[2] + \".\" })), null == a && (a = [1, 1]), C(Mo(n, a), (function() { return \"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + a + \"'\" })), null != i && C(A(r), (function() { return \"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode \" + i + \" but got pad \" + r + \".\" }));\r\n                var h = So(c.shape, u.shape, n, a, r, i, !0),\r\n                    f = [c, u],\r\n                    d = Lt.runKernelFunc((function(t, e) { var n = t.depthwiseConv2D(c, u, h); return e([c, u]), n }), { x: c, filter: u }, (function(t, e) {\r\n                        C(Oo(a), (function() { return \"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '\" + a + \"'\" }));\r\n                        var n = e[0],\r\n                            r = e[1];\r\n                        return { x: function() { return $c(n.shape, t, r, h) }, filter: function() { return Qc(n, t, r.shape, h) } }\r\n                    }), \"DepthwiseConv2dNative\", h, f);\r\n                return l ? d.as3D(d.shape[1], d.shape[2], d.shape[3]) : d\r\n            }\r\n        }),\r\n        $c = An({\r\n            depthwiseConv2dDerInput_: function(t, e, n, r) {\r\n                var o = e,\r\n                    a = !1;\r\n                3 === e.rank && (a = !0, o = e.as4D(1, e.shape[0], e.shape[1], e.shape[2]));\r\n                var i = Lt.runKernelFunc((function(t) { return t.depthwiseConv2DDerInput(o, n, r) }), { dy4D: o });\r\n                return a ? i.as3D(i.shape[1], i.shape[2], i.shape[3]) : i\r\n            }\r\n        }),\r\n        Qc = An({\r\n            depthwiseConv2dDerFilter_: function(t, e, n, r) {\r\n                var o = t;\r\n                3 === t.rank && (o = t.as4D(1, t.shape[0], t.shape[1], t.shape[2]));\r\n                var a = e;\r\n                return 3 === a.rank && (a = e.as4D(1, e.shape[0], e.shape[1], e.shape[2])), Lt.runKernelFunc((function(t) { return t.depthwiseConv2DDerFilter(o, a, r) }), { x4D: o, dy4D: a })\r\n            }\r\n        }),\r\n        Jc = An({\r\n            separableConv2d_: function(t, e, n, r, o, a, i) {\r\n                void 0 === a && (a = [1, 1]), void 0 === i && (i = \"NHWC\");\r\n                var s = mn(t, \"x\", \"separableConv2d\"),\r\n                    u = mn(e, \"depthwiseFilter\", \"separableConv2d\"),\r\n                    c = mn(n, \"pointwiseFilter\", \"separableConv2d\"),\r\n                    l = s,\r\n                    h = !1;\r\n                if (3 === s.rank && (h = !0, l = s.as4D(1, s.shape[0], s.shape[1], s.shape[2])), \"NCHW\" === i) throw new Error(\"separableConv2d currently does not support dataFormat NCHW; only NHWC is supported\");\r\n                C(4 === l.rank, (function() { return \"Error in separableConv2d: input must be rank 4, but got rank \" + l.rank + \".\" })), C(4 === u.rank, (function() { return \"Error in separableConv2d: depthwise filter must be rank 4, but got rank \" + u.rank + \".\" })), C(4 === c.rank, (function() { return \"Error in separableConv2d: pointwise filter must be rank 4, but got rank \" + u.rank + \".\" })), C(1 === c.shape[0], (function() { return \"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got \" + c.shape[0] + \".\" })), C(1 === c.shape[1], (function() { return \"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got \" + c.shape[1] + \".\" }));\r\n                var f = u.shape[2],\r\n                    d = u.shape[3];\r\n                C(c.shape[2] === f * d, (function() { return \"Error in separableConv2d: the third dimension of pointwise filter must be \" + f * d + \", but got \" + c.shape[2] + \".\" }));\r\n                var p = Yc(l, u, r, o, i, a),\r\n                    v = qc(p, c, 1, \"valid\", i);\r\n                return h ? v.as3D(v.shape[1], v.shape[2], v.shape[3]) : v\r\n            }\r\n        }),\r\n        Zc = An({ conv2dTranspose_: function(t, e, n, r, o, a) { return Vc(n, mn(t, \"x\", \"conv2dTranspose\"), mn(e, \"filter\", \"conv2dTranspose\"), r, o, \"NHWC\", a) } }),\r\n        tl = An({ conv3dTranspose_: function(t, e, n, r, o) { return Gc(n, mn(t, \"x\", \"conv3dTranspose\"), mn(e, \"filter\", \"conv3dTranspose\"), r, o) } });\r\n    var el = An({\r\n            matMul_: function(t, e, n, r) {\r\n                var o;\r\n                void 0 === n && (n = !1), void 0 === r && (r = !1);\r\n                var a = mn(t, \"a\", \"matMul\"),\r\n                    i = mn(e, \"b\", \"matMul\");\r\n                o = Nt(a, i), a = o[0], i = o[1];\r\n                var s = n ? a.shape[a.rank - 2] : a.shape[a.rank - 1],\r\n                    u = r ? i.shape[i.rank - 1] : i.shape[i.rank - 2],\r\n                    c = n ? a.shape[a.rank - 1] : a.shape[a.rank - 2],\r\n                    l = r ? i.shape[i.rank - 2] : i.shape[i.rank - 1],\r\n                    h = a.shape.slice(0, -2),\r\n                    f = i.shape.slice(0, -2),\r\n                    d = k(h),\r\n                    p = k(f);\r\n                C(a.rank >= 2 && i.rank >= 2 && a.rank === i.rank, (function() { return \"Error in matMul: inputs must have the same rank of at least 2, got ranks \" + a.rank + \" and \" + i.rank + \".\" })), C(S(h, f), (function() { return \"Error in matMul: outer dimensions (\" + h + \") and (\" + f + \") of Tensors with shapes \" + a.shape + \" and \" + i.shape + \" must match.\" })), C(s === u, (function() { return \"Error in matMul: inner shapes (\" + s + \") and (\" + u + \") of Tensors with shapes \" + a.shape + \" and \" + i.shape + \" and transposeA=\" + n + \" and transposeB=\" + r + \" must match.\" }));\r\n                var v = a.shape.slice(0, -2).concat([c, l]),\r\n                    m = n ? a.as3D(d, s, c) : a.as3D(d, c, s),\r\n                    g = r ? i.as3D(p, l, u) : i.as3D(p, u, l),\r\n                    y = { transposeA: n, transposeB: r };\r\n                return Lt.runKernelFunc((function(t, e) { var o = t.batchMatMul(m, g, n, r); return e([m, g]), o }), { a: m, b: g }, (function(t, e) {\r\n                    var o = e,\r\n                        a = o[0],\r\n                        i = o[1];\r\n                    return n || r ? !n && r ? { a: function() { return t.matMul(i, !1, !1) }, b: function() { return t.matMul(a, !0, !1) } } : n && !r ? { a: function() { return i.matMul(t, !1, !0) }, b: function() { return a.matMul(t, !1, !1) } } : { a: function() { return i.matMul(t, !0, !0) }, b: function() { return t.matMul(a, !0, !0) } } : { a: function() { return t.matMul(i, !1, !0) }, b: function() { return a.matMul(t, !0, !1) } }\r\n                }), \"BatchMatMul\", y).reshape(v)\r\n            }\r\n        }),\r\n        nl = An({\r\n            dot_: function(t, e) {\r\n                var n = mn(t, \"t1\", \"dot\"),\r\n                    r = mn(e, \"t2\", \"dot\");\r\n                C(!(1 !== n.rank && 2 !== n.rank || 1 !== r.rank && 2 !== r.rank), (function() { return \"Error in dot: inputs must all be rank 1 or 2, but got ranks \" + n.rank + \" and \" + r.rank + \".\" }));\r\n                var o = 1 === n.rank ? n.size : n.shape[1],\r\n                    a = 1 === r.rank ? r.size : r.shape[0];\r\n                return C(o === a, (function() { return \"Error in dot: inner dimensions of inputs must match, but got \" + o + \" and \" + a + \".\" })), 1 === n.rank && 1 === r.rank ? n.as2D(1, -1).matMul(r.as2D(-1, 1)).asScalar() : 1 === n.rank && 2 === r.rank ? n.as2D(1, -1).matMul(r.as2D(r.shape[0], r.shape[1])).as1D() : 2 === n.rank && 1 === r.rank ? n.matMul(r.as2D(-1, 1)).as1D() : n.matMul(r.as2D(r.shape[0], r.shape[1]))\r\n            }\r\n        }),\r\n        rl = An({\r\n            outerProduct_: function(t, e) {\r\n                var n = mn(t, \"v1\", \"outerProduct\"),\r\n                    r = mn(e, \"v2\", \"outerProduct\");\r\n                return C(1 === n.rank && 1 === r.rank, (function() { return \"Error in outerProduct: inputs must be rank 1, but got ranks \" + n.rank + \" and \" + r.rank + \".\" })), n.as2D(-1, 1).matMul(r.as2D(1, -1))\r\n            }\r\n        });\r\n    var ol = An({ reverse_: function(t, e) { var n = mn(t, \"x\", \"reverse\"); if (0 === n.rank) return n.clone(); var r = O(e, n.shape); return Lt.runKernelFunc((function(t) { return t.reverse(n, r) }), { $x: n }, (function(t) { return { $x: function() { return t.reverse(r) } } })).reshapeAs(n) } }),\r\n        al = An({ reverse1d_: function(t) { var e = mn(t, \"x\", \"reverse\"); return C(1 === e.rank, (function() { return \"Error in reverse1D: x must be rank 1 but got rank \" + e.rank + \".\" })), ol(e, 0) } }),\r\n        il = An({ reverse2d_: function(t, e) { var n = mn(t, \"x\", \"reverse\"); return C(2 === n.rank, (function() { return \"Error in reverse2D: x must be rank 2 but got rank \" + n.rank + \".\" })), ol(n, e) } }),\r\n        sl = An({ reverse3d_: function(t, e) { var n = mn(t, \"x\", \"reverse\"); return C(3 === n.rank, (function() { return \"Error in reverse3D: x must be rank 3 but got rank \" + n.rank + \".\" })), ol(n, e) } }),\r\n        ul = An({ reverse4d_: function(t, e) { var n = mn(t, \"x\", \"reverse\"); return C(4 === n.rank, (function() { return \"Error in reverse4D: x must be rank 4 but got rank \" + n.rank + \".\" })), ol(n, e) } });\r\n\r\n    function cl(t, e, n, r, o, a) {\r\n        var i = mn(t, \"x\", \"maxPool\"),\r\n            s = i,\r\n            u = !1;\r\n        3 === i.rank && (u = !0, s = i.as4D(1, i.shape[0], i.shape[1], i.shape[2])), null == r && (r = [1, 1]), C(4 === s.rank, (function() { return \"Error in maxPool: input must be rank 4 but got rank \" + s.rank + \".\" })), C(Mo(n, r), (function() { return \"Error in maxPool: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + r + \"'\" })), null != a && C(A(o), (function() { return \"Error in maxPool: pad must be an integer when using, dimRoundingMode \" + a + \" but got pad \" + o + \".\" }));\r\n        var c = Io(s.shape, e, n, r, o, a);\r\n        if (1 === c.filterWidth && 1 === c.filterHeight && S(c.inShape, c.outShape)) return i.clone();\r\n        var l = [s],\r\n            h = Lt.runKernelFunc((function(t, e) { var n = t.maxPool(s, c); return e([s, n]), n }), { x: s }, (function(t, a) {\r\n                var i = a[0],\r\n                    s = a[1];\r\n                return {\r\n                    x: function() {\r\n                        return function(t, e, n, r, o, a, i, s) {\r\n                            var u = mn(t, \"dy\", \"maxPoolBackprop\"),\r\n                                c = mn(e, \"input\", \"maxPoolBackprop\"),\r\n                                l = mn(n, \"output\", \"maxPoolBackprop\");\r\n                            C(c.rank === u.rank, (function() { return \"Rank of input (\" + c.rank + \") does not match rank of dy (\" + u.rank + \")\" })), null == a && (a = [1, 1]);\r\n                            C(Mo(o, a), (function() { return \"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides \" + o + \" and dilations '\" + a + \"'\" })), C(4 === u.rank, (function() { return \"Error in maxPoolBackprop: dy must be rank 4 but got rank \" + u.rank + \".\" })), C(4 === c.rank, (function() { return \"Error in maxPoolBackprop: input must be rank 4 but got rank \" + c.rank + \".\" })), null != s && C(A(i), (function() { return \"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode \" + s + \" but got pad \" + i + \".\" }));\r\n                            var h = Io(c.shape, r, o, a, i, s);\r\n                            return Lt.runKernelFunc((function(t) { return t.maxPoolBackprop(u, c, l, h) }), { $dy: u, $input: c })\r\n                        }(t, i, s, e, n, r, o)\r\n                    }\r\n                }\r\n            }), \"MaxPool\", c, l);\r\n        return u ? h.as3D(h.shape[1], h.shape[2], h.shape[3]) : h\r\n    }\r\n\r\n    function ll(t, e, n, r, o, a) {\r\n        var i = mn(t, \"x\", \"avgPool\", \"float32\");\r\n        null == r && (r = [1, 1]), C(Mo(n, r), (function() { return \"Error in avgPool: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + r + \"'\" }));\r\n        var s = i,\r\n            u = !1;\r\n        3 === i.rank && (u = !0, s = i.as4D(1, i.shape[0], i.shape[1], i.shape[2])), C(4 === s.rank, (function() { return \"Error in avgPool: x must be rank 4 but got rank \" + s.rank + \".\" })), null != a && C(A(o), (function() { return \"Error in avgPool: pad must be an integer when using, dimRoundingMode \" + a + \" but got pad \" + o + \".\" }));\r\n        var c = Io(s.shape, e, n, r, o, a);\r\n        if (1 === c.filterWidth && 1 === c.filterHeight && S(c.inShape, c.outShape)) return i.clone();\r\n        var l = Lt.runKernelFunc((function(t) { return t.avgPool(s, c) }), { x: s }, (function(t) {\r\n            return {\r\n                x: function() {\r\n                    return function(t, e, n, r, o, a) {\r\n                        var i = mn(t, \"dy\", \"avgPoolBackprop\"),\r\n                            s = mn(e, \"input\", \"avgPoolBackprop\");\r\n                        C(s.rank === i.rank, (function() { return \"Rank of input (\" + s.rank + \") does not match rank of dy (\" + i.rank + \")\" })), null == o && (o = [1, 1]);\r\n                        C(Mo(r, o), (function() { return \"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides \" + r + \" and dilations '\" + o + \"'\" }));\r\n                        var u = s,\r\n                            c = i,\r\n                            l = !1;\r\n                        3 === s.rank && (l = !0, u = s.as4D(1, s.shape[0], s.shape[1], s.shape[2]), c = i.as4D(1, i.shape[0], i.shape[1], i.shape[2]));\r\n                        C(4 === c.rank, (function() { return \"Error in avgPoolBackprop: dy must be rank 4 but got rank \" + c.rank + \".\" })), C(4 === u.rank, (function() { return \"Error in avgPoolBackprop: input must be rank 4 but got rank \" + u.rank + \".\" }));\r\n                        var h = Io(u.shape, n, r, o, a),\r\n                            f = Lt.runKernelFunc((function(t) { return t.avgPoolBackprop(c, u, h) }), { dy4D: c, input4D: u });\r\n                        if (l) return f.as3D(f.shape[1], f.shape[2], f.shape[3]);\r\n                        return f\r\n                    }(t, s, e, n, r, o)\r\n                }\r\n            }\r\n        }), \"AvgPool\", c);\r\n        return l = l.cast(i.dtype), u ? l.as3D(l.shape[1], l.shape[2], l.shape[3]) : l\r\n    }\r\n    var hl = An({ maxPool_: function(t, e, n, r, o) { return cl(t, e, n, 1, r, o) } }),\r\n        fl = An({ avgPool_: function(t, e, n, r, o) { return ll(t, e, n, 1, r, o) } }),\r\n        dl = An({\r\n            pool_: function(t, e, n, r, o, a) {\r\n                null == o && (o = [1, 1]), null == a && (a = 1), 0 === r && (r = \"valid\");\r\n                var i = mn(t, \"x\", \"maxPool\"),\r\n                    s = i,\r\n                    u = !1;\r\n                3 === i.rank && (u = !0, s = i.as4D(1, i.shape[0], i.shape[1], i.shape[2])), C(Mo(a, o), (function() { return \"Error in pool: Either strides or dilations must be 1. Got strides \" + a + \" and dilations '\" + o + \"'\" }));\r\n                var c, l = Io(s.shape, e, a, o, r),\r\n                    h = [l.dilationHeight, l.dilationWidth];\r\n                c = \"same\" === r ? function(t, e) {\r\n                    var n = t.map((function(t, n) { return t + (t - 1) * (e[n] - 1) })).map((function(t) { return t - 1 })),\r\n                        r = n.map((function(t) { return Math.floor(t / 2) })),\r\n                        o = n.map((function(t, e) { return t - r[e] }));\r\n                    return n.map((function(t, e) { return [r[e], o[e]] }))\r\n                }([l.filterHeight, l.filterWidth], h) : [\r\n                    [0, 0],\r\n                    [0, 0]\r\n                ];\r\n                var f = 1 === h[0] && 1 === h[1],\r\n                    d = function(t, e, n) {\r\n                        var r = n.map((function(t) { return t[0] })),\r\n                            o = n.map((function(t) { return t[1] })),\r\n                            a = t.concat(r, o),\r\n                            i = e.map((function(t, e) { return (t - a[e] % t) % t })),\r\n                            s = o.map((function(t, e) { return t + i[e] })),\r\n                            u = e.map((function(t, e) { return [r[e], s[e]] })),\r\n                            c = e.map((function(t, e) { return [0, i[e]] }));\r\n                        return [u, c]\r\n                    }([l.inHeight, l.inWidth], h, c),\r\n                    p = d[0],\r\n                    v = d[1],\r\n                    m = f ? r : \"valid\",\r\n                    g = f ? s : Mr(s, h, p),\r\n                    y = (\"avg\" === n ? function() { return ll(g, e, a, 1, m) } : function() { return cl(g, e, a, 1, m) })(),\r\n                    x = f ? y : vr(y, h, v);\r\n                return u ? x.as3D(x.shape[1], x.shape[2], x.shape[3]) : x\r\n            }\r\n        }),\r\n        pl = An({\r\n            maxPool3d_: function(t, e, n, r, o, a, i) {\r\n                void 0 === a && (a = \"NDHWC\");\r\n                var s = mn(t, \"x\", \"maxPool3d\"),\r\n                    u = s,\r\n                    c = !1;\r\n                4 === s.rank && (c = !0, u = s.as5D(1, s.shape[0], s.shape[1], s.shape[2], s.shape[3])), null == i && (i = [1, 1, 1]), C(5 === u.rank, (function() { return \"Error in maxPool3d: x must be rank 5 but got rank \" + u.rank + \".\" })), C(\"NDHWC\" === a, (function() { return \"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of \" + a })), C(Mo(n, i), (function() { return \"Error in maxPool3d: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + i + \"'\" })), null != o && C(A(r), (function() { return \"Error in maxPool3d: pad must be an integer when using, dimRoundingMode \" + o + \" but got pad \" + r + \".\" }));\r\n                var l = ko(u.shape, e, n, i, r, o, a),\r\n                    h = Lt.runKernelFunc((function(t, e) { var n = t.maxPool3d(u, l); return e([u, n]), n }), { x: u }, (function(t, a) {\r\n                        var s = a[0],\r\n                            u = a[1];\r\n                        return {\r\n                            x: function() {\r\n                                return function(t, e, n, r, o, a, i, s) {\r\n                                    var u = mn(t, \"dy\", \"maxPool3dBackprop\"),\r\n                                        c = mn(e, \"input\", \"maxPool3dBackprop\"),\r\n                                        l = mn(n, \"output\", \"maxPool3dBackprop\"),\r\n                                        h = u,\r\n                                        f = c,\r\n                                        d = l,\r\n                                        p = !1;\r\n                                    4 === c.rank && (p = !0, h = u.as5D(1, u.shape[0], u.shape[1], u.shape[2], u.shape[3]), f = c.as5D(1, c.shape[0], c.shape[1], c.shape[2], c.shape[3]), d = l.as5D(1, l.shape[0], l.shape[1], l.shape[2], l.shape[3]));\r\n                                    C(5 === h.rank, (function() { return \"Error in maxPool3dBackprop: dy must be rank 5 but got rank \" + h.rank + \".\" })), C(5 === f.rank, (function() { return \"Error in maxPool3dBackprop: input must be rank 5 but got rank \" + f.rank + \".\" })), C(5 === d.rank, (function() { return \"Error in maxPool3dBackprop: output must be rank 5 but got rank \" + d.rank + \".\" })), null == a && (a = [1, 1, 1]);\r\n                                    C(Mo(o, a), (function() { return \"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides \" + o + \" and dilations '\" + a + \"'\" })), null != s && C(A(i), (function() { return \"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode \" + s + \" but got pad \" + i + \".\" }));\r\n                                    var v = ko(f.shape, r, o, a, i, s),\r\n                                        m = Lt.runKernelFunc((function(t) { return t.maxPool3dBackprop(h, f, d, v) }), { dy5D: h, input5D: f });\r\n                                    if (p) return m.as4D(m.shape[1], m.shape[2], m.shape[3], m.shape[4]);\r\n                                    return m\r\n                                }(t, s, u, e, n, i, r, o)\r\n                            }\r\n                        }\r\n                    }));\r\n                return c ? h.as4D(h.shape[1], h.shape[2], h.shape[3], h.shape[4]) : h\r\n            }\r\n        }),\r\n        vl = An({\r\n            avgPool3d_: function(t, e, n, r, o, a, i) {\r\n                void 0 === a && (a = \"NDHWC\");\r\n                var s = mn(t, \"x\", \"avgPool3d\", \"float32\"),\r\n                    u = s,\r\n                    c = !1;\r\n                4 === s.rank && (c = !0, u = s.as5D(1, s.shape[0], s.shape[1], s.shape[2], s.shape[3])), null == i && (i = [1, 1, 1]), C(5 === u.rank, (function() { return \"Error in avgPool3d: x must be rank 5 but got rank \" + u.rank + \".\" })), C(\"NDHWC\" === a, (function() { return \"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of \" + a })), C(Mo(n, i), (function() { return \"Error in avgPool3d: Either strides or dilations must be 1. Got strides \" + n + \" and dilations '\" + i + \"'\" })), null != o && C(A(r), (function() { return \"Error in avgPool3d: pad must be an integer when using, dimRoundingMode \" + o + \" but got pad \" + r + \".\" }));\r\n                var l = ko(u.shape, e, n, i, r, o, a),\r\n                    h = Lt.runKernelFunc((function(t) { return t.avgPool3d(u, l) }), { x: u }, (function(t) {\r\n                        return {\r\n                            x: function() {\r\n                                return function(t, e, n, r, o, a, i) {\r\n                                    var s = mn(t, \"dy\", \"avgPool3dBackprop\"),\r\n                                        u = mn(e, \"input\", \"avgPool3dBackprop\"),\r\n                                        c = s,\r\n                                        l = u,\r\n                                        h = !1;\r\n                                    4 === u.rank && (h = !0, c = s.as5D(1, s.shape[0], s.shape[1], s.shape[2], s.shape[3]), l = u.as5D(1, u.shape[0], u.shape[1], u.shape[2], u.shape[3]));\r\n                                    C(5 === c.rank, (function() { return \"Error in avgPool3dBackprop: dy must be rank 5 but got rank \" + c.rank + \".\" })), C(5 === l.rank, (function() { return \"Error in avgPool3dBackprop: input must be rank 5 but got rank \" + l.rank + \".\" })), null == o && (o = [1, 1, 1]);\r\n                                    C(Mo(r, o), (function() { return \"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides \" + r + \" and dilations '\" + o + \"'\" })), null != i && C(A(a), (function() { return \"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode \" + i + \" but got pad \" + a + \".\" }));\r\n                                    var f = ko(l.shape, n, r, o, a, i),\r\n                                        d = Lt.runKernelFunc((function(t) { return t.avgPool3dBackprop(c, l, f) }), { dy5D: c, input5D: l });\r\n                                    if (h) return d.as4D(d.shape[1], d.shape[2], d.shape[3], d.shape[4]);\r\n                                    return d\r\n                                }(t, u, e, n, i, r, o)\r\n                            }\r\n                        }\r\n                    }));\r\n                return h = h.cast(u.dtype), c ? h.as4D(h.shape[1], h.shape[2], h.shape[3], h.shape[4]) : h\r\n            }\r\n        });\r\n    var ml = An({\r\n            slice_: function(t, e, n) {\r\n                var r, o, a = mn(t, \"x\", \"slice\");\r\n                if (0 === a.rank) throw new Error(\"Slicing scalar is not possible\");\r\n                (r = \"number\" == typeof e ? [e].concat(new Array(a.rank - 1).fill(0)) : e.length < a.rank ? e.concat(new Array(a.rank - e.length).fill(0)) : e.slice()).forEach((function(t) { C(-1 !== t, (function() { return \"slice() does not support negative begin indexing.\" })); })), o = (o = null == n ? new Array(a.rank).fill(-1) : \"number\" == typeof n ? [n].concat(new Array(a.rank - 1).fill(-1)) : n.length < a.rank ? n.concat(new Array(a.rank - n.length).fill(-1)) : n).map((function(t, e) { return t >= 0 ? t : (C(-1 === t, (function() { return \"Negative size values should be exactly -1 but got \" + t + \" for the slice() size at index \" + e + \".\" })), a.shape[e] - r[e]) })), eo(a, r, o);\r\n                var i = a.shape,\r\n                    s = { begin: r, size: o };\r\n                return Lt.runKernelFunc((function(t) { return t.slice(a, r, o) }), { x: a }, (function(t) { for (var e = [], n = 0; n < t.rank; n++) e.push([r[n], i[n] - r[n] - o[n]]); return { x: function() { return t.pad(e) } } }), \"Slice\", s)\r\n            }\r\n        }),\r\n        gl = An({ slice1d_: function(t, e, n) { var r = mn(t, \"x\", \"slice1d\"); return C(1 === r.rank, (function() { return \"slice1d expects a rank-1 tensor, but got a rank-\" + r.rank + \" tensor\" })), ml(r, [e], [n]) } }),\r\n        yl = An({ slice2d_: function(t, e, n) { var r = mn(t, \"x\", \"slice2d\"); return C(2 === r.rank, (function() { return \"slice2d expects a rank-2 tensor, but got a rank-\" + r.rank + \" tensor\" })), ml(r, e, n) } }),\r\n        xl = An({ slice3d_: function(t, e, n) { var r = mn(t, \"x\", \"slice3d\"); return C(3 === r.rank, (function() { return \"slice3d expects a rank-3 tensor, but got a rank-\" + r.rank + \" tensor\" })), ml(r, e, n) } }),\r\n        bl = An({ slice4d_: function(t, e, n) { var r = mn(t, \"x\", \"slice4d\"); return C(4 === r.rank, (function() { return \"slice4d expects a rank-4 tensor, but got a rank-\" + r.rank + \" tensor\" })), ml(r, e, n) } });\r\n\r\n    function wl(t, e, n, r, o) { return e.rank < n.rank && (e = e.reshape(wn(e.shape, r))), t.rank < n.rank && (t = t.reshape(wn(t.shape, r))), { x: function() { var r = t.mul(n.equal(e).cast(t.dtype)); return null == o ? r : r.transpose(o) } } }\r\n    var Cl = An({\r\n            all_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"all\", \"bool\"),\r\n                    o = O(e, r.shape),\r\n                    a = o,\r\n                    i = En(a, r.rank);\r\n                null != i && (r = r.transpose(i), a = In(a.length, r.rank));\r\n                var s = Lt.runKernelFunc((function(t) { return t.all(r, a) }), { $x: r });\r\n                if (n) { var u = wn(s.shape, o); return s.reshape(u) }\r\n                return s\r\n            }\r\n        }),\r\n        El = An({\r\n            any_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"any\", \"bool\"),\r\n                    o = O(e, r.shape),\r\n                    a = o,\r\n                    i = En(a, r.rank);\r\n                null != i && (r = r.transpose(i), a = In(a.length, r.rank));\r\n                var s = Lt.runKernelFunc((function(t) { return t.any(r, a) }), { $x: r });\r\n                if (n) { var u = wn(s.shape, o); return s.reshape(u) }\r\n                return s\r\n            }\r\n        }),\r\n        Rl = An({\r\n            argMax_: function(t, e) {\r\n                void 0 === e && (e = 0);\r\n                var n = mn(t, \"x\", \"argMax\");\r\n                null == e && (e = 0);\r\n                var r = O(e, n.shape),\r\n                    o = En(r, n.rank);\r\n                null != o && (n = n.transpose(o), r = In(r.length, n.rank));\r\n                var a = { axis: r[0] },\r\n                    i = [n];\r\n                return Lt.runKernelFunc((function(t, e) { var o = t.argMax(n, r[0]); return e([n]), o }), { x: n }, (function(t, e) { var n = e[0]; return { x: function() { return Xn(n) } } }), \"ArgMax\", a, i)\r\n            }\r\n        }),\r\n        Il = An({\r\n            argMin_: function(t, e) {\r\n                void 0 === e && (e = 0);\r\n                var n = mn(t, \"x\", \"argMin\");\r\n                null == e && (e = 0);\r\n                var r = O(e, n.shape),\r\n                    o = En(r, n.rank);\r\n                return null != o && (n = n.transpose(o), r = In(r.length, n.rank)), Lt.runKernelFunc((function(t, e) { var o = t.argMin(n, r[0]); return e([n]), o }), { $x: n }, (function(t, e) { var n = e[0]; return { $x: function() { return Xn(n) } } }))\r\n            }\r\n        }),\r\n        kl = An({\r\n            logSumExp_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"logSumExp\"),\r\n                    o = O(e, r.shape),\r\n                    a = r.max(o, !0),\r\n                    i = r.sub(a).exp().sum(o).log(),\r\n                    s = a.reshape(i.shape).add(i);\r\n                if (n) { var u = wn(s.shape, o); return s.reshape(u) }\r\n                return s\r\n            }\r\n        }),\r\n        Sl = An({\r\n            max_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"max\"),\r\n                    o = r,\r\n                    a = O(e, r.shape),\r\n                    i = a,\r\n                    s = En(i, r.rank);\r\n                null != s && (r = r.transpose(s), i = In(i.length, r.rank));\r\n                var u = [r],\r\n                    c = Lt.runKernelFunc((function(t, e) { var n = t.max(r, i); return e([o, n]), n }), { x: r }, (function(t, e) { return wl(t, e[1], e[0], a, s) }), \"Max\", { axes: i }, u, [!0]);\r\n                if (n) {\r\n                    var l = wn(c.shape, a);\r\n                    c = c.reshape(l);\r\n                }\r\n                return c\r\n            }\r\n        }),\r\n        Al = An({\r\n            mean_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"mean\"),\r\n                    o = O(e, r.shape),\r\n                    a = k(bn(r.shape, o)[1]);\r\n                return vo((function(t) { var r = On(a); return { value: (r.dtype === t.dtype ? t : t.cast(r.dtype)).div(r).sum(e, n), gradFunc: function(e) { var n = t.shape.slice(); return o.forEach((function(t) { n[t] = 1; })), e.reshape(n).mul(zn(t.shape, \"float32\")).div(a) } } }))(r)\r\n            }\r\n        }),\r\n        Dl = An({\r\n            min_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"min\"),\r\n                    o = r,\r\n                    a = O(e, r.shape),\r\n                    i = a,\r\n                    s = En(i, r.rank);\r\n                null != s && (r = r.transpose(s), i = In(i.length, r.rank));\r\n                var u = [r],\r\n                    c = Lt.runKernelFunc((function(t, e) { var n = t.min(r, i); return e([o, n]), n }), { x: r }, (function(t, e) { return wl(t, e[1], e[0], a, s) }), \"Min\", { axes: i }, u, [!0]);\r\n                if (n) {\r\n                    var l = wn(c.shape, a);\r\n                    c = c.reshape(l);\r\n                }\r\n                return c\r\n            }\r\n        }),\r\n        Tl = An({\r\n            moments_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = O(e, (t = mn(t, \"x\", \"moments\")).shape),\r\n                    o = t.mean(r, n),\r\n                    a = o.shape;\r\n                n || (a = wn(o.shape, r));\r\n                var i = t.toFloat().sub(o.reshape(a)).square();\r\n                return { mean: o, variance: i.mean(r, n) }\r\n            }\r\n        }),\r\n        Nl = An({\r\n            sum_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"sum\");\r\n                \"bool\" === r.dtype && (r = r.toInt());\r\n                var o = O(e, r.shape);\r\n                return vo((function(t) {\r\n                    var e = En(o, t.rank),\r\n                        r = o,\r\n                        a = t;\r\n                    null != e && (a = t.transpose(e), r = In(r.length, t.rank));\r\n                    var i = function(e) { var n = t.shape.slice(); return o.forEach((function(t) { n[t] = 1; })), e.reshape(n).mul(zn(t.shape, \"float32\")) },\r\n                        s = { axes: r },\r\n                        u = Lt.runKernelFunc((function(t) { return t.sum(a, r) }), { x: a }, (function(t) { return { x: function() { return i(t) } } }), \"Sum\", s);\r\n                    if (n) {\r\n                        var c = wn(u.shape, o);\r\n                        u = u.reshape(c);\r\n                    }\r\n                    return { value: u, gradFunc: i }\r\n                }))(r)\r\n            }\r\n        }),\r\n        Fl = An({\r\n            prod_: function(t, e, n) {\r\n                void 0 === e && (e = null), void 0 === n && (n = !1);\r\n                var r = mn(t, \"x\", \"prod\");\r\n                \"bool\" === r.dtype && (r = r.toInt());\r\n                var o = O(e, r.shape),\r\n                    a = En(o, r.rank),\r\n                    i = o,\r\n                    s = r;\r\n                null != a && (s = r.transpose(a), i = In(i.length, r.rank));\r\n                var u = Lt.runKernelFunc((function(t) { return t.prod(s, i) }), { permutedX: s });\r\n                if (n) {\r\n                    var c = wn(u.shape, o);\r\n                    u = u.reshape(c);\r\n                }\r\n                return u\r\n            }\r\n        });\r\n    var _l = An({ elu_: function(t) { var e = mn(t, \"x\", \"elu\"); return Lt.runKernelFunc((function(t, n) { var r = t.elu(e); return n([r]), r }), { $x: e }, (function(t, e) { var n = e[0]; return { $x: function() { return Lt.runKernelFunc((function(e) { return e.eluDer(t, n) }), { dy: t, y: n }) } } })) } }),\r\n        Ol = An({ leakyRelu_: function(t, e) { void 0 === e && (e = .2); var n = mn(t, \"x\", \"leakyRelu\"); return hc(On(e).mul(n), n) } }),\r\n        Ml = An({\r\n            prelu_: function(t, e) {\r\n                var n = mn(t, \"x\", \"prelu\"),\r\n                    r = mn(e, \"alpha\", \"prelu\");\r\n                return Lt.runKernelFunc((function(t, e) { var o = t.prelu(n, r); return e([n, r]), o }), { x: n, alpha: r }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1],\r\n                        o = n.greater(0);\r\n                    return {\r\n                        x: function() { return ec(o, t, t.mul(r)) },\r\n                        alpha: function() {\r\n                            var e = ec(o, Xn(t), t.mul(n)),\r\n                                a = Eo(r.shape, t.shape);\r\n                            return a.length > 0 && (e = e.sum(a)), e.reshape(r.shape)\r\n                        }\r\n                    }\r\n                }), \"Prelu\")\r\n            }\r\n        }),\r\n        Bl = An({ relu_: function(t) { var e = mn(t, \"x\", \"relu\"); return \"bool\" === e.dtype ? e.toInt() : Lt.runKernelFunc((function(t, n) { var r = t.relu(e); return n([e]), r }), { x: e }, (function(t, e) { var n = e[0]; return { x: function() { return t.mulStrict(n.step().toFloat()) } } }), \"Relu\") } }),\r\n        Pl = An({\r\n            relu6_: function(t) {\r\n                var e = mn(t, \"x\", \"relu6\");\r\n                return \"bool\" === e.dtype ? e.toInt() : Lt.runKernelFunc((function(t, n) { var r = t.relu6(e); return n([e]), r }), { x: e }, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = n.lessEqual(6).mul(n.step());\r\n                    return { x: function() { return t.mulStrict(r.toFloat()) } }\r\n                }), \"Relu6\")\r\n            }\r\n        }),\r\n        Ll = An({\r\n            selu_: function(t) {\r\n                var e = mn(t, \"x\", \"selu\");\r\n                return Lt.runKernelFunc((function(t, n) { var r = t.selu(e); return n([e]), r }), { $x: e }, (function(t, e) {\r\n                    var n = e[0];\r\n                    return {\r\n                        $x: function() {\r\n                            var e = n.greater(On(0)),\r\n                                r = On(bs),\r\n                                o = On(ws),\r\n                                a = t.mul(o),\r\n                                i = t.mul(r).mul(n.toFloat().exp());\r\n                            return ec(e, a, i)\r\n                        }\r\n                    }\r\n                }))\r\n            }\r\n        });\r\n    var Wl = An({ transpose_: function(t, e) { var n = mn(t, \"x\", \"transpose\"); if (null == e && (e = n.shape.map((function(t, e) { return e })).reverse()), C(n.rank === e.length, (function() { return \"Error in transpose: rank of input \" + n.rank + \" must match length of perm \" + e + \".\" })), e.forEach((function(t) { C(t >= 0 && t < n.rank, (function() { return \"All entries in 'perm' must be between 0 and \" + (n.rank - 1) + \" but got \" + e })); })), n.rank <= 1) return n.clone(); var r = { perm: e }; return Lt.runKernelFunc((function(t) { return t.transpose(n, e) }), { x: n }, (function(t) { var n = Rn(e); return { x: function() { return t.transpose(n) } } }), \"Transpose\", r) } });\r\n    var Ul = An({\r\n        localResponseNormalization_: function(t, e, n, r, o) {\r\n            void 0 === e && (e = 5), void 0 === n && (n = 1), void 0 === r && (r = 1), void 0 === o && (o = .5);\r\n            var a = mn(t, \"x\", \"localResponseNormalization\");\r\n            C(4 === a.rank || 3 === a.rank, (function() { return \"Error in localResponseNormalization: x must be rank 3 or 4 but got\\n               rank \" + a.rank + \".\" })), C(A(e), (function() { return \"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius \" + e + \".\" }));\r\n            var i = a,\r\n                s = !1;\r\n            3 === a.rank && (s = !0, i = a.as4D(1, a.shape[0], a.shape[1], a.shape[2]));\r\n            var u = Lt.runKernelFunc((function(t, a) { var s = t.localResponseNormalization4D(i, e, n, r, o); return a([i, s]), s }), { x4D: i }, (function(t, a) {\r\n                var i = a[0],\r\n                    s = a[1];\r\n                return { x4D: function() { return Lt.runKernelFunc((function(a) { return a.LRNGrad(t, i, s, e, n, r, o) }), {}) } }\r\n            }));\r\n            return s ? u.as3D(u.shape[1], u.shape[2], u.shape[3]) : u\r\n        }\r\n    });\r\n    var Vl = An({\r\n        norm_: function(t, e, n, r) {\r\n            void 0 === e && (e = \"euclidean\"), void 0 === n && (n = null), void 0 === r && (r = !1);\r\n            var o = function t(e, n, r) { void 0 === r && (r = null); if (0 === e.rank) return e.abs(); if (1 !== e.rank && null === r) return t(e.reshape([-1]), n, r); if (1 === e.rank || \"number\" == typeof r || Array.isArray(r) && 1 === r.length) { if (1 === n) return e.abs().sum(r); if (n === 1 / 0) return e.abs().max(r); if (n === -1 / 0) return e.abs().min(r); if (\"euclidean\" === n || 2 === n) return e.abs().pow(On(2, \"int32\")).sum(r).sqrt(); throw new Error(\"Error in norm: invalid ord value: \" + n) } if (Array.isArray(r) && 2 === r.length) { if (1 === n) return e.abs().sum(r[0]).max(r[1] - 1); if (n === 1 / 0) return e.abs().sum(r[1]).max(r[0]); if (n === -1 / 0) return e.abs().sum(r[1]).min(r[0]); if (\"fro\" === n || \"euclidean\" === n) return e.square().sum(r).sqrt(); throw new Error(\"Error in norm: invalid ord value: \" + n) } throw new Error(\"Error in norm: invalid axis: \" + r) }(t = mn(t, \"x\", \"norm\"), e, n),\r\n                a = o.shape;\r\n            if (r) {\r\n                var i = O(n, t.shape);\r\n                a = wn(o.shape, i);\r\n            }\r\n            return o.reshape(a)\r\n        }\r\n    });\r\n    var zl = An({\r\n            basicLSTMCell_: function(t, e, n, r, o, a) {\r\n                var i = mn(t, \"forgetBias\", \"basicLSTMCell\"),\r\n                    s = mn(e, \"lstmKernel\", \"basicLSTMCell\"),\r\n                    u = mn(n, \"lstmBias\", \"basicLSTMCell\"),\r\n                    c = mn(r, \"data\", \"basicLSTMCell\"),\r\n                    l = mn(o, \"c\", \"basicLSTMCell\"),\r\n                    h = mn(a, \"h\", \"basicLSTMCell\"),\r\n                    f = c.concat(h, 1).matMul(s).add(u),\r\n                    d = f.shape[0],\r\n                    p = f.shape[1] / 4,\r\n                    v = [d, p],\r\n                    m = f.slice([0, 0], v),\r\n                    g = f.slice([0, p], v),\r\n                    y = f.slice([0, 2 * p], v),\r\n                    x = f.slice([0, 3 * p], v),\r\n                    b = m.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(i.add(y).sigmoid())),\r\n                    w = b.tanh().mulStrict(x.sigmoid());\r\n                return [b, w]\r\n            }\r\n        }),\r\n        Gl = An({\r\n            multiRNNCell_: function(t, e, n, r) {\r\n                for (var o = mn(e, \"data\", \"multiRNNCell\"), a = gn(n, \"c\", \"multiRNNCell\"), i = gn(r, \"h\", \"multiRNNCell\"), s = o, u = [], c = 0; c < t.length; c++) {\r\n                    var l = t[c](s, a[c], i[c]);\r\n                    u.push(l[0]), u.push(l[1]), s = l[1];\r\n                }\r\n                var h = [],\r\n                    f = [];\r\n                for (c = 0; c < u.length; c += 2) h.push(u[c]), f.push(u[c + 1]);\r\n                return [h, f]\r\n            }\r\n        });\r\n    var Hl = An({\r\n        movingAverage_: function(t, e, n, r, o) {\r\n            void 0 === o && (o = !0);\r\n            var a = mn(t, \"v\", \"movingAverage\"),\r\n                i = mn(e, \"x\", \"movingAverage\"),\r\n                s = mn(n, \"decay\", \"movingAverage\");\r\n            Ft(a, i), C(S(a.shape, i.shape), (function() { return \"Shape mismatch in v and x\" }));\r\n            var u = On(1),\r\n                c = u.sub(s),\r\n                l = i.sub(a).mul(c);\r\n            if (o) {\r\n                C(null != r, (function() { return \"When using zeroDebias: true, step is required.\" }));\r\n                var h = mn(r, \"step\", \"movingAverage\");\r\n                l = l.div(u.sub(xc(s, h)));\r\n            }\r\n            return a.add(l)\r\n        }\r\n    });\r\n    var ql = An({\r\n        stridedSlice_: function(t, e, n, r, o, a, i, s, u) {\r\n            if (void 0 === o && (o = 0), void 0 === a && (a = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === u && (u = 0), null == r && (r = new Array(e.length)), 0 !== i) throw new Error(\"ellipsis mask is not yet supported\");\r\n            var c = mn(t, \"x\", \"stridedSlice\"),\r\n                l = no(s),\r\n                h = c.shape.slice();\r\n            l.forEach((function(t) { e[t] = 0, n[t] = 1, h.splice(t, 0, 1); })), c = c.reshape(h);\r\n            for (var f = 0; f < c.rank; f++) e[f] = oo(o, e, r, c.shape, f), n[f] = ao(a, n, r, c.shape, f), r[f] = r[f] || 1;\r\n            var d = no(u);\r\n            d.forEach((function(t) { n[t] = e[t] + 1, r[t] = 1; }));\r\n            var p = ro(e, n, r),\r\n                v = p.filter((function(t, e) { return -1 === d.indexOf(e) }));\r\n            return r.every((function(t) { return 1 === t })) ? ml(c, e, p).reshape(v) : Lt.runKernelFunc((function(t) { return t.stridedSlice(c, e, n, r) }), { $x: c }).reshape(v)\r\n        }\r\n    });\r\n    var Kl = An({ topk_: function(t, e, n) { void 0 === e && (e = 1), void 0 === n && (n = !0); var r = mn(t, \"x\", \"topk\"); if (0 === r.rank) throw new Error(\"topk() expects the input to be of rank 1 or higher\"); var o = r.shape[r.shape.length - 1]; if (e > o) throw new Error(\"'k' passed to topk() must be <= the last dimension (\" + o + \") but got \" + e); var a = Lt.runKernelFunc((function(t) { return t.topk(r, e, n) }), { $x: r }); return { values: a[0], indices: a[1] } } });\r\n    var jl = An({\r\n        scatterND_: function(t, e, n) {\r\n            var r = mn(t, \"indices\", \"scatterND\", \"int32\"),\r\n                o = mn(e, \"updates\", \"scatterND\");\r\n            return Jr(o, r, n), Lt.runKernelFunc((function(t) { return t.scatterND(r, o, n) }), { indices: r, updates: o }, null, \"ScatterNd\", { shape: n })\r\n        }\r\n    });\r\n    var Xl = An({\r\n            fft_: function(t) {\r\n                C(\"complex64\" === t.dtype, (function() { return \"The dtype for tf.spectral.fft() must be complex64 but got \" + t.dtype + \".\" }));\r\n                var e = t.shape[t.shape.length - 1],\r\n                    n = t.size / e,\r\n                    r = t.as2D(n, e);\r\n                return Lt.runKernelFunc((function(t) { return t.fft(r) }), { input: t }).reshape(t.shape)\r\n            }\r\n        }),\r\n        Yl = An({\r\n            ifft_: function(t) {\r\n                C(\"complex64\" === t.dtype, (function() { return \"The dtype for tf.spectral.ifft() must be complex64 but got \" + t.dtype + \".\" }));\r\n                var e = t.shape[t.shape.length - 1],\r\n                    n = t.size / e,\r\n                    r = t.as2D(n, e);\r\n                return Lt.runKernelFunc((function(t) { return t.ifft(r) }), { input: t }).reshape(t.shape)\r\n            }\r\n        }),\r\n        $l = An({\r\n            rfft_: function(t, e) {\r\n                C(\"float32\" === t.dtype, (function() { return \"The dtype for rfft() must be real value but got \" + t.dtype }));\r\n                var n, r = t.shape[t.shape.length - 1],\r\n                    o = t.size / r;\r\n                if (null != e && e < r) {\r\n                    var a = t.shape.map((function(t) { return 0 })),\r\n                        i = t.shape.map((function(t) { return t }));\r\n                    i[t.shape.length - 1] = e, n = t.slice(a, i), r = e;\r\n                } else if (null != e && e > r) {\r\n                    var s = t.shape.map((function(t) { return t }));\r\n                    s[t.shape.length - 1] = e - r, n = t.concat(Gn(s), t.shape.length - 1), r = e;\r\n                } else n = t;\r\n                var u = n.zerosLike(),\r\n                    c = Dn(n, u).as2D(o, r),\r\n                    l = Xl(c),\r\n                    h = Math.floor(r / 2) + 1,\r\n                    f = Tn(l),\r\n                    d = Nn(l),\r\n                    p = f.split([h, r - h], f.shape.length - 1),\r\n                    v = d.split([h, r - h], d.shape.length - 1),\r\n                    m = n.shape.slice();\r\n                return m[n.shape.length - 1] = h, Dn(p[0], v[0]).reshape(m)\r\n            }\r\n        }),\r\n        Ql = An({\r\n            irfft_: function(t) {\r\n                var e = t.shape[t.shape.length - 1],\r\n                    n = t.size / e;\r\n                if (e <= 2) {\r\n                    var r = t.as2D(n, e),\r\n                        o = Yl(r);\r\n                    return Tn(o)\r\n                }\r\n                var a = [n, 2 * (e - 1)],\r\n                    i = Tn(t).as2D(n, e),\r\n                    s = Nn(t).as2D(n, e),\r\n                    u = i.slice([0, 1], [n, e - 2]).reverse(1),\r\n                    c = s.slice([0, 1], [n, e - 2]).reverse(1).mul(On(-1)),\r\n                    l = i.concat(u, 1),\r\n                    h = s.concat(c, 1);\r\n                return r = Dn(l, h).as2D(a[0], a[1]), o = Yl(r), Tn(o)\r\n            }\r\n        }),\r\n        Jl = Object.freeze({ fft: Xl, ifft: Yl, rfft: $l, irfft: Ql });\r\n    var Zl = An({\r\n        sparseToDense_: function(t, e, n, r) {\r\n            void 0 === r && (r = 0);\r\n            var o = mn(t, \"sparseIndices\", \"sparseToDense\", \"int32\"),\r\n                a = mn(e, \"sparseValues\", \"sparseToDense\"),\r\n                i = mn(r, \"defaultValue\", \"sparseToDense\", a.dtype);\r\n            return function(t, e, n, r) {\r\n                if (\"int32\" !== t.dtype) throw new Error(\"tf.sparseToDense() expects the indices to be int32 type, but the dtype was \" + t.dtype + \".\");\r\n                if (t.rank > 2) throw new Error(\"sparseIndices should be a scalar, vector, or matrix, but got shape \" + t.shape + \".\");\r\n                var o = t.rank > 0 ? t.shape[0] : 1,\r\n                    a = t.rank > 1 ? t.shape[1] : 1;\r\n                if (n.length !== a) throw new Error(\"outputShape has incorrect number of elements:, \" + n.length + \", should be: \" + a + \".\");\r\n                var i = e.size;\r\n                if (0 !== e.rank && (1 !== e.rank || i !== o)) throw new Error(\"sparseValues has incorrect shape \" + e.shape + \", should be [] or [\" + o + \"]\");\r\n                if (e.dtype !== r.dtype) throw new Error(\"sparseValues.dtype must match defaultValues.dtype\")\r\n            }(o, a, n, i), Lt.runKernelFunc((function(t) { return t.sparseToDense(o, a, n, i) }), { $sparseIndices: o, $sparseValues: a, $defaultValue: i })\r\n        }\r\n    });\r\n    var th = An({\r\n        gatherND_: function(t, e) {\r\n            var n = mn(e, \"indices\", \"gatherND\", \"int32\"),\r\n                r = mn(t, \"x\", \"gatherND\");\r\n            return Lt.runKernelFunc((function(t) { return t.gatherND(r, n) }), { x: r, indices: n }, null, \"GatherNd\")\r\n        }\r\n    });\r\n    var eh = An({\r\n        diag_: function(t) {\r\n            var e = mn(t, \"x\", \"diag\").flatten(),\r\n                n = t.shape.concat(t.shape);\r\n            return Lt.runKernelFunc((function(t) { return t.diag(e) }), { $x: e }).reshape(n)\r\n        }\r\n    });\r\n    var nh = An({\r\n        dropout_: function(t, e, n, r) {\r\n            var o = mn(t, \"x\", \"dropout\");\r\n            if (C(\"float32\" === o.dtype, (function() { return \"x has to be a floating point tensor since it's going to be scaled, but got a \" + o.dtype + \" tensor instead.\" })), C(e >= 0 && e < 1, (function() { return \"rate must be a float in the range [0, 1), but got \" + e + \".\" })), 0 === e) return t instanceof wt ? o.clone() : o;\r\n            var a = function(t, e) { if (null == e) return t.shape.slice(); if (S(t.shape, e)) return e; if (t.shape.length === e.length) { for (var n = [], r = 0; r < t.shape.length; r++) null == e[r] && null != t.shape[r] ? n.push(t.shape[r]) : n.push(e[r]); return n } return e }(o, n),\r\n                i = 1 - e,\r\n                s = _r(a, 0, 1, \"float32\", r).add(i).floor().div(i);\r\n            return o.mul(s)\r\n        }\r\n    });\r\n\r\n    function rh(t, e, n) {\r\n        for (var r = 1 - t % 2, o = new Float32Array(t), a = 0; a < t; ++a) {\r\n            var i = 2 * Math.PI * a / (t + r - 1);\r\n            o[a] = e - n * Math.cos(i);\r\n        }\r\n        return Mn(o, \"float32\")\r\n    }\r\n    var oh = An({ hannWindow_: function(t) { return rh(t, .5, .5) } }),\r\n        ah = An({ hammingWindow_: function(t) { return rh(t, .54, .46) } }),\r\n        ih = An({\r\n            frame_: function(t, e, n, r, o) {\r\n                void 0 === r && (r = !1), void 0 === o && (o = 0);\r\n                for (var a = 0, i = []; a + e <= t.size;) i.push(ml(t, a, e)), a += n;\r\n                if (r)\r\n                    for (; a < t.size;) {\r\n                        var s = a + e - t.size,\r\n                            u = Yn([ml(t, a, e - s), Hn([s], o)]);\r\n                        i.push(u), a += n;\r\n                    }\r\n                return 0 === i.length ? Bn([], [0, e]) : Yn(i).as2D(i.length, e)\r\n            }\r\n        }),\r\n        sh = An({\r\n            stft_: function(t, e, n, r, o) {\r\n                var a;\r\n                void 0 === o && (o = oh), null == r && (a = e, r = Math.floor(Math.pow(2, Math.ceil(Math.log(a) / Math.log(2)))));\r\n                for (var i = ih(t, e, n), s = gc(i, o(e)), u = [], c = 0; c < i.shape[0]; c++) u.push($l(s.slice([c, 0], [1, e]), r));\r\n                return Yn(u)\r\n            }\r\n        }),\r\n        uh = Object.freeze({ hannWindow: oh, hammingWindow: ah, frame: ih, stft: sh });\r\n    var ch, lh = function(t, e, o) {\r\n        return void 0 === o && (o = 1), n(this, void 0, void 0, (function() {\r\n            var n, a, i, s, u, c, l, h, f, d, p, v, m, g;\r\n            return r(this, (function(r) {\r\n                switch (r.label) {\r\n                    case 0:\r\n                        return n = mn(t, \"predictions\", \"inTopK\"), a = mn(e, \"targets\", \"inTopK\"), C(n.rank > 1, (function() { return \"inTopK() expects the predictions to be of rank 2 or higher, but got \" + n.rank })), C(n.rank - 1 === a.rank, (function() { return \"predictions rank should be 1 larger than targets rank, but got predictions rank \" + n.rank + \" and targets rank \" + a.rank })), E(n.shape.slice(0, n.shape.length - 1), a.shape, \"predictions's shape should be align with the targets' shape, except the last dimension.\"), i = n.shape[n.shape.length - 1], C(o > 0 && o <= i, (function() { return \"'k' passed to inTopK() must be > 0 && <= the predictions last dimension (\" + i + \"), but got \" + o })), [4, n.data()];\r\n                    case 1:\r\n                        return s = r.sent(), [4, a.data()];\r\n                    case 2:\r\n                        for (u = r.sent(), c = [s.length / i, i], h = c[1], f = B(\"bool\", l = c[0]), d = 0; d < l; d++) {\r\n                            for (p = d * h, v = s.subarray(p, p + h), m = [], g = 0; g < v.length; g++) m.push({ value: v[g], index: g });\r\n                            for (m.sort((function(t, e) { return e.value - t.value })), f[d] = 0, g = 0; g < o; g++)\r\n                                if (m[g].index === u[d]) { f[d] = 1; break }\r\n                        }\r\n                        return t !== n && n.dispose(), e !== a && a.dispose(), [2, Fn(f, a.shape, \"bool\")]\r\n                }\r\n            }))\r\n        }))\r\n    };\r\n    ! function(t) { t[t.NONE = 0] = \"NONE\", t[t.MEAN = 1] = \"MEAN\", t[t.SUM = 2] = \"SUM\", t[t.SUM_BY_NONZERO_WEIGHTS = 3] = \"SUM_BY_NONZERO_WEIGHTS\"; }(ch || (ch = {}));\r\n    var hh = An({\r\n            absoluteDifference_: function(t, e, n, r) {\r\n                void 0 === r && (r = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var o = mn(t, \"labels\", \"absoluteDifference\"),\r\n                    a = mn(e, \"predictions\", \"absoluteDifference\"),\r\n                    i = null;\r\n                null != n && (i = mn(n, \"weights\", \"absoluteDifference\")), E(o.shape, a.shape, \"Error in absoluteDifference: \");\r\n                var s = o.sub(a).abs();\r\n                return fh(s, i, r)\r\n            }\r\n        }),\r\n        fh = An({\r\n            computeWeightedLoss_: function(t, e, n) {\r\n                void 0 === n && (n = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var r = mn(t, \"losses\", \"computeWeightedLoss\"),\r\n                    o = null;\r\n                null != e && (o = mn(e, \"weights\", \"computeWeightedLoss\"));\r\n                var a = null == o ? r : r.mul(o);\r\n                if (n === ch.NONE) return a;\r\n                if (n === ch.SUM) return a.sum();\r\n                if (n === ch.MEAN) {\r\n                    if (null == o) return a.mean();\r\n                    var i = r.size / o.size,\r\n                        s = a.sum().div(o.sum());\r\n                    return i > 1 ? s.div(On(i)) : s\r\n                }\r\n                if (n === ch.SUM_BY_NONZERO_WEIGHTS) { if (null == o) return a.sum().div(On(r.size)); var u = o.mul(zn(r.shape)).notEqual(On(0)).sum().toFloat(); return a.sum().div(u) }\r\n                throw Error(\"Unknown reduction: \" + n)\r\n            }\r\n        }),\r\n        dh = An({\r\n            cosineDistance_: function(t, e, n, r, o) {\r\n                void 0 === o && (o = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var a = mn(t, \"labels\", \"cosineDistance\"),\r\n                    i = mn(e, \"predictions\", \"cosineDistance\"),\r\n                    s = null;\r\n                null != r && (s = mn(r, \"weights\", \"cosineDistance\")), E(a.shape, i.shape, \"Error in cosineDistance: \");\r\n                var u = On(1).sub(a.mul(i).sum(n, !0));\r\n                return fh(u, s, o)\r\n            }\r\n        }),\r\n        ph = An({\r\n            hingeLoss_: function(t, e, n, r) {\r\n                void 0 === r && (r = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var o = mn(t, \"labels\", \"hingeLoss\"),\r\n                    a = mn(e, \"predictions\", \"hingeLoss\"),\r\n                    i = null;\r\n                null != n && (i = mn(n, \"weights\", \"hingeLoss\")), E(o.shape, a.shape, \"Error in hingeLoss: \");\r\n                var s = On(1);\r\n                o = On(2).mul(o).sub(s);\r\n                var u = s.sub(o.mul(a)).relu();\r\n                return fh(u, i, r)\r\n            }\r\n        }),\r\n        vh = An({\r\n            huberLoss_: function(t, e, n, r, o) {\r\n                void 0 === r && (r = 1), void 0 === o && (o = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var a = mn(t, \"labels\", \"huberLoss\"),\r\n                    i = mn(e, \"predictions\", \"huberLoss\"),\r\n                    s = null;\r\n                null != n && (s = mn(n, \"weights\", \"huberLoss\")), E(a.shape, i.shape, \"Error in huberLoss: \");\r\n                var u = On(r),\r\n                    c = i.sub(a).abs(),\r\n                    l = dc(c, u),\r\n                    h = c.sub(l),\r\n                    f = On(.5).mul(l.square()).add(u.mul(h));\r\n                return fh(f, s, o)\r\n            }\r\n        }),\r\n        mh = An({\r\n            logLoss_: function(t, e, n, r, o) {\r\n                void 0 === r && (r = 1e-7), void 0 === o && (o = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var a = mn(t, \"labels\", \"logLoss\"),\r\n                    i = mn(e, \"predictions\", \"logLoss\"),\r\n                    s = null;\r\n                null != n && (s = mn(n, \"weights\", \"logLoss\")), E(a.shape, i.shape, \"Error in logLoss: \");\r\n                var u = On(1),\r\n                    c = On(r),\r\n                    l = a.mul(i.add(c).log()).neg().sub(u.sub(a).mul(u.sub(i).add(c).log()));\r\n                return fh(l, s, o)\r\n            }\r\n        }),\r\n        gh = An({\r\n            meanSquaredError_: function(t, e, n, r) {\r\n                void 0 === r && (r = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var o = mn(t, \"labels\", \"meanSquaredError\"),\r\n                    a = mn(e, \"predictions\", \"meanSquaredError\"),\r\n                    i = null;\r\n                null != n && (i = mn(n, \"weights\", \"meanSquaredError\")), E(o.shape, a.shape, \"Error in meanSquaredError: \");\r\n                var s = o.squaredDifference(a);\r\n                return fh(s, i, r)\r\n            }\r\n        }),\r\n        yh = An({\r\n            sigmoidCrossEntropy_: function(t, e, n, r, o) {\r\n                void 0 === r && (r = 0), void 0 === o && (o = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var a = mn(t, \"multiClassLabels\", \"sigmoidCrossEntropy\"),\r\n                    i = mn(e, \"logits\", \"sigmoidCrossEntropy\"),\r\n                    s = null;\r\n                if (null != n && (s = mn(n, \"weights\", \"sigmoidCrossEntropy\")), E(a.shape, i.shape, \"Error in sigmoidCrossEntropy: \"), r > 0) {\r\n                    var u = On(r),\r\n                        c = On(1),\r\n                        l = On(.5);\r\n                    a = a.mul(c.sub(u)).add(l.mul(u));\r\n                }\r\n                var h = function(t, e) {\r\n                    var n = mn(t, \"labels\", \"sigmoidCrossEntropyWithLogits\"),\r\n                        r = mn(e, \"logits\", \"sigmoidCrossEntropyWithLogits\");\r\n                    E(n.shape, r.shape, \"Error in sigmoidCrossEntropyWithLogits: \");\r\n                    var o = r.relu(),\r\n                        a = r.mul(n),\r\n                        i = r.abs().neg().exp().log1p();\r\n                    return o.sub(a).add(i)\r\n                }(a, i);\r\n                return fh(h, s, o)\r\n            }\r\n        }),\r\n        xh = An({\r\n            softmaxCrossEntropy_: function(t, e, n, r, o) {\r\n                void 0 === r && (r = 0), void 0 === o && (o = ch.SUM_BY_NONZERO_WEIGHTS);\r\n                var a = mn(t, \"onehotLabels\", \"softmaxCrossEntropy\"),\r\n                    i = mn(e, \"logits\", \"softmaxCrossEntropy\"),\r\n                    s = null;\r\n                if (null != n && (s = mn(n, \"weights\", \"softmaxCrossEntropy\")), E(a.shape, i.shape, \"Error in softmaxCrossEntropy: \"), r > 0) {\r\n                    var u = On(r),\r\n                        c = On(1),\r\n                        l = On(a.shape[1]);\r\n                    a = a.mul(c.sub(u)).add(u.div(l));\r\n                }\r\n                var h = function(t, e, n) {\r\n                    if (void 0 === n && (n = -1), -1 === n && (n = e.rank - 1), n !== e.rank - 1) throw Error(\"Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank \" + e.rank + \" and dim was \" + n);\r\n                    return vo((function(t, e, r) {\r\n                        var o = e.logSumExp([n], !0),\r\n                            a = e.toFloat().sub(o);\r\n                        r([t, a]);\r\n                        return {\r\n                            value: a.mul(t).neg().sum([n]),\r\n                            gradFunc: function(t, e) {\r\n                                var r = e[0],\r\n                                    o = e[1],\r\n                                    a = wn(t.shape, [n]);\r\n                                return [t.reshape(a).mul(r.toFloat().sub(o.exp())), t.reshape(a).mul(o.exp().sub(r.toFloat()))]\r\n                            }\r\n                        }\r\n                    }))(t, e)\r\n                }(a, i);\r\n                return fh(h, s, o)\r\n            }\r\n        }),\r\n        bh = Object.freeze({get Reduction() { return ch }, absoluteDifference: hh, computeWeightedLoss: fh, cosineDistance: dh, hingeLoss: ph, huberLoss: vh, logLoss: mh, meanSquaredError: gh, sigmoidCrossEntropy: yh, softmaxCrossEntropy: xh });\r\n\r\n    function wh(t, e) {\r\n        return void 0 === e && (e = !1), Lt.tidy((function() {\r\n            if (2 !== t.shape.length) throw new Error(\"qr2d() requires a 2D Tensor, but got a \" + t.shape.length + \"D Tensor.\");\r\n            for (var n = t.shape[0], r = t.shape[1], o = Cr(n), a = t.clone(), i = Bn([\r\n                    [1]\r\n                ], [1, 1]), s = i.clone(), u = n >= r ? r : n, c = function(t) {\r\n                    var e, u = a,\r\n                        c = s,\r\n                        l = o;\r\n                    e = Lt.tidy((function() {\r\n                        var e = a.slice([t, t], [n - t, 1]),\r\n                            u = e.norm(),\r\n                            c = a.slice([t, t], [1, 1]),\r\n                            l = Bn([\r\n                                [-1]\r\n                            ]).where(c.greater(0), Bn([\r\n                                [1]\r\n                            ])),\r\n                            h = c.sub(l.mul(u)),\r\n                            f = e.div(h);\r\n                        s = 1 === f.shape[0] ? i.clone() : i.concat(f.slice([1, 0], [f.shape[0] - 1, f.shape[1]]), 0);\r\n                        var d = l.matMul(h).div(u).neg(),\r\n                            p = a.slice([t, 0], [n - t, r]),\r\n                            v = d.mul(s);\r\n                        if (0 === t) a = p.sub(v.matMul(s.transpose().matMul(p)));\r\n                        else {\r\n                            var m = p.sub(v.matMul(s.transpose().matMul(p)));\r\n                            a = a.slice([0, 0], [t, r]).concat(m, 0);\r\n                        }\r\n                        var g = o.slice([0, t], [n, o.shape[1] - t]);\r\n                        if (0 === t) o = g.sub(g.matMul(s).matMul(v.transpose()));\r\n                        else {\r\n                            var y = g.sub(g.matMul(s).matMul(v.transpose()));\r\n                            o = o.slice([0, 0], [n, t]).concat(y, 1);\r\n                        }\r\n                        return [s, a, o]\r\n                    })), s = e[0], a = e[1], o = e[2], tn([u, c, l]);\r\n                }, l = 0; l < u; ++l) c(l);\r\n            return !e && n > r && (o = o.slice([0, 0], [n, r]), a = a.slice([0, 0], [r, r])), [o, a]\r\n        }))\r\n    }\r\n    var Ch = An({\r\n            bandPart_: function(t, e, n) {\r\n                if (e % 1 != 0) throw new Error(\"bandPart(): numLower must be an integer, got \" + e + \".\");\r\n                if (n % 1 != 0) throw new Error(\"bandPart(): numUpper must be an integer, got \" + n + \".\");\r\n                var r = mn(t, \"a\", \"bandPart\");\r\n                if (r.rank < 2) throw new Error(\"bandPart(): Rank must be at least 2, got \" + r.rank + \".\");\r\n                var o = r.shape,\r\n                    a = r.shape.slice(-2),\r\n                    i = a[0],\r\n                    s = a[1];\r\n                if (!(e <= i)) throw new Error(\"bandPart(): numLower (\" + e + \") must not be greater than the number of rows (\" + i + \").\");\r\n                if (!(n <= s)) throw new Error(\"bandPart(): numUpper (\" + n + \") must not be greater than the number of columns (\" + s + \").\");\r\n                e < 0 && (e = i), n < 0 && (n = s);\r\n                var u = Kn(0, i, 1, \"int32\").reshape([-1, 1]),\r\n                    c = Kn(0, s, 1, \"int32\"),\r\n                    l = Cc(u, c),\r\n                    h = Qu(l.lessEqual(On(+e, \"int32\")), l.greaterEqual(On(-n, \"int32\"))),\r\n                    f = Gn([i, s], r.dtype);\r\n                return Pr(Ur(r.reshape([-1, i, s])).map((function(t) { return ec(h, t, f) }))).reshape(o)\r\n            }\r\n        }),\r\n        Eh = An({\r\n            gramSchmidt_: function(t) {\r\n                var e;\r\n                if (Array.isArray(t)) { e = !1, C(null != t && t.length > 0, (function() { return \"Gram-Schmidt process: input must not be null, undefined, or empty\" })); for (var n = t[0].shape[0], r = function(e) { C(t[e].shape[0] === n, (function() { return \"Gram-Schmidt: Non-unique lengths found in the input vectors: (\" + t[e].shape[0] + \" vs. \" + n + \")\" })); }, o = 1; o < t.length; ++o) r(o); } else e = !0, t = tr(t, t.shape[0], 0).map((function(t) { return Br(t, [0]) }));\r\n                C(t.length <= t[0].shape[0], (function() { return \"Gram-Schmidt: Number of vectors (\" + t.length + \") exceeds number of dimensions (\" + t[0].shape[0] + \").\" }));\r\n                var a = [],\r\n                    i = t,\r\n                    s = function(t) {\r\n                        a.push(Lt.tidy((function() {\r\n                            var e = i[t];\r\n                            if (t > 0)\r\n                                for (var n = 0; n < t; ++n) {\r\n                                    var r = Nl(a[n].mulStrict(e)).mul(a[n]);\r\n                                    e = e.sub(r);\r\n                                }\r\n                            return e.div(Vl(e, \"euclidean\"))\r\n                        })));\r\n                    };\r\n                for (o = 0; o < t.length; ++o) s(o);\r\n                return e ? Pr(a, 0) : a\r\n            }\r\n        }),\r\n        Rh = An({\r\n            qr_: function(t, e) {\r\n                if (void 0 === e && (e = !1), t.rank < 2) throw new Error(\"qr() requires input tensor to have a rank >= 2, but got rank \" + t.rank);\r\n                if (2 === t.rank) return wh(t, e);\r\n                var n = t.shape.slice(0, t.shape.length - 2).reduce((function(t, e) { return t * e })),\r\n                    r = Ur(t.reshape([n, t.shape[t.shape.length - 2], t.shape[t.shape.length - 1]]), 0),\r\n                    o = [],\r\n                    a = [];\r\n                return r.forEach((function(t) {\r\n                    var n = wh(t, e),\r\n                        r = n[0],\r\n                        i = n[1];\r\n                    o.push(r), a.push(i);\r\n                })), [Pr(o, 0).reshape(t.shape), Pr(a, 0).reshape(t.shape)]\r\n            }\r\n        }),\r\n        Ih = Object.freeze({ bandPart: Ch, gramSchmidt: Eh, qr: Rh });\r\n\r\n    function kh(t, e, n, r, o, a) { null == r && (r = .5), null == o && (o = Number.NEGATIVE_INFINITY), null == a && (a = 0); var i = t.shape[0]; return n = Math.min(n, i), C(0 <= r && r <= 1, (function() { return \"iouThreshold must be in [0, 1], but was '\" + r + \"'\" })), C(2 === t.rank, (function() { return \"boxes must be a 2D tensor, but was of rank '\" + t.rank + \"'\" })), C(4 === t.shape[1], (function() { return \"boxes must have 4 columns, but 2nd dimension was \" + t.shape[1] })), C(1 === e.rank, (function() { return \"scores must be a 1D tensor\" })), C(e.shape[0] === i, (function() { return \"scores has incompatible shape with boxes. Expected \" + i + \", but was \" + e.shape[0] })), C(0 <= a && a <= 1, (function() { return \"softNmsSigma must be in [0, 1], but was '\" + a + \"'\" })), { maxOutputSize: n, iouThreshold: r, scoreThreshold: o, softNmsSigma: a } }\r\n    var Sh = An({\r\n            resizeBilinear_: function(t, e, n) {\r\n                void 0 === n && (n = !1);\r\n                var r = mn(t, \"images\", \"resizeBilinear\");\r\n                C(3 === r.rank || 4 === r.rank, (function() { return \"Error in resizeBilinear: x must be rank 3 or 4, but got rank \" + r.rank + \".\" })), C(2 === e.length, (function() { return \"Error in resizeBilinear: new shape must 2D, but got shape \" + e + \".\" }));\r\n                var o = r,\r\n                    a = !1;\r\n                3 === r.rank && (a = !0, o = r.as4D(1, r.shape[0], r.shape[1], r.shape[2]));\r\n                var i = e[0],\r\n                    s = e[1],\r\n                    u = Lt.runKernelFunc((function(t, e) { return e([o]), t.resizeBilinear(o, i, s, n) }), { x: o }, (function(t, e) { return { x: function() { return Lt.runKernelFunc((function(r) { return r.resizeBilinearBackprop(t, e[0], n) }), {}) } } }), \"ResizeBilinear\", { alignCorners: n, newHeight: i, newWidth: s });\r\n                return a ? u.as3D(u.shape[1], u.shape[2], u.shape[3]) : u\r\n            }\r\n        }),\r\n        Ah = An({\r\n            resizeNearestNeighbor_: function(t, e, n) {\r\n                void 0 === n && (n = !1);\r\n                var r = mn(t, \"images\", \"resizeNearestNeighbor\");\r\n                C(3 === r.rank || 4 === r.rank, (function() { return \"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank \" + r.rank + \".\" })), C(2 === e.length, (function() { return \"Error in resizeNearestNeighbor: new shape must 2D, but got shape \" + e + \".\" })), C(\"float32\" === r.dtype || \"int32\" === r.dtype, (function() { return \"`images` must have `int32` or `float32` as dtype\" }));\r\n                var o = r,\r\n                    a = !1;\r\n                3 === r.rank && (a = !0, o = r.as4D(1, r.shape[0], r.shape[1], r.shape[2]));\r\n                var i = e[0],\r\n                    s = e[1],\r\n                    u = Lt.runKernelFunc((function(t, e) { return e([o]), t.resizeNearestNeighbor(o, i, s, n) }), { batchImages: o }, (function(t, e) { return { batchImages: function() { return Lt.runKernelFunc((function(r) { return r.resizeNearestNeighborBackprop(t, e[0], n) }), {}) } } }));\r\n                return a ? u.as3D(u.shape[1], u.shape[2], u.shape[3]) : u\r\n            }\r\n        }),\r\n        Dh = An({\r\n            nonMaxSuppression_: function(t, e, n, r, o) {\r\n                void 0 === r && (r = .5), void 0 === o && (o = Number.NEGATIVE_INFINITY);\r\n                var a = mn(t, \"boxes\", \"nonMaxSuppression\"),\r\n                    i = mn(e, \"scores\", \"nonMaxSuppression\"),\r\n                    s = kh(a, i, n, r, o);\r\n                n = s.maxOutputSize, r = s.iouThreshold, o = s.scoreThreshold;\r\n                var u = { maxOutputSize: n, iouThreshold: r, scoreThreshold: o };\r\n                return Lt.runKernelFunc((function(t) { return t.nonMaxSuppression(a, i, n, r, o) }), { boxes: a, scores: i }, null, \"NonMaxSuppressionV3\", u)\r\n            }\r\n        }),\r\n        Th = function(t, e, o, a, i) {\r\n            return void 0 === a && (a = .5), void 0 === i && (i = Number.NEGATIVE_INFINITY), n(this, void 0, void 0, (function() {\r\n                var n, s, u, c, l, h, f;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return n = mn(t, \"boxes\", \"nonMaxSuppressionAsync\"), s = mn(e, \"scores\", \"nonMaxSuppressionAsync\"), u = kh(n, s, o, a, i), o = u.maxOutputSize, a = u.iouThreshold, i = u.scoreThreshold, [4, Promise.all([n.data(), s.data()])];\r\n                        case 1:\r\n                            return c = r.sent(), l = c[0], h = c[1], f = jo(l, h, o, a, i), n !== t && n.dispose(), s !== e && s.dispose(), [2, f]\r\n                    }\r\n                }))\r\n            }))\r\n        },\r\n        Nh = An({\r\n            nonMaxSuppressionWithScore_: function(t, e, n, r, o, a) {\r\n                void 0 === r && (r = .5), void 0 === o && (o = Number.NEGATIVE_INFINITY), void 0 === a && (a = 0);\r\n                var i = mn(t, \"boxes\", \"nonMaxSuppression\"),\r\n                    s = mn(e, \"scores\", \"nonMaxSuppression\"),\r\n                    u = kh(i, s, n, r, o, a),\r\n                    c = { maxOutputSize: n = u.maxOutputSize, iouThreshold: r = u.iouThreshold, scoreThreshold: o = u.scoreThreshold, softNmsSigma: a = u.softNmsSigma },\r\n                    l = Lt.runKernel(\"NonMaxSuppressionV5\", { boxes: i, scores: s }, c);\r\n                return { selectedIndices: l[0], selectedScores: l[1] }\r\n            }\r\n        }),\r\n        Fh = function(t, e, o, a, i, s) {\r\n            return void 0 === a && (a = .5), void 0 === i && (i = Number.NEGATIVE_INFINITY), void 0 === s && (s = 0), n(this, void 0, void 0, (function() {\r\n                var n, u, c, l, h, f, d;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return n = mn(t, \"boxes\", \"nonMaxSuppressionAsync\"), u = mn(e, \"scores\", \"nonMaxSuppressionAsync\"), c = kh(n, u, o, a, i, s), o = c.maxOutputSize, a = c.iouThreshold, i = c.scoreThreshold, s = c.softNmsSigma, [4, Promise.all([n.data(), u.data()])];\r\n                        case 1:\r\n                            return l = r.sent(), h = l[0], f = l[1], d = Xo(h, f, o, a, i, s), n !== t && n.dispose(), u !== e && u.dispose(), [2, d]\r\n                    }\r\n                }))\r\n            }))\r\n        },\r\n        _h = An({\r\n            cropAndResize_: function(t, e, n, r, o, a) {\r\n                var i = mn(t, \"image\", \"cropAndResize\"),\r\n                    s = mn(e, \"boxes\", \"cropAndResize\", \"float32\"),\r\n                    u = mn(n, \"boxInd\", \"cropAndResize\", \"int32\");\r\n                o = o || \"bilinear\", a = a || 0;\r\n                var c = s.shape[0];\r\n                return C(4 === i.rank, (function() { return \"Error in cropAndResize: image must be rank 4,but got rank \" + i.rank + \".\" })), C(2 === s.rank && 4 === s.shape[1], (function() { return \"Error in cropAndResize: boxes must be have size [\" + c + \",4] but had shape \" + s.shape + \".\" })), C(1 === u.rank && u.shape[0] === c, (function() { return \"Error in cropAndResize: boxInd must be have size [\" + c + \"] but had shape \" + s.shape + \".\" })), C(2 === r.length, (function() { return \"Error in cropAndResize: cropSize must be of length 2, but got length \" + r.length + \".\" })), C(r[0] >= 1 && r[1] >= 1, (function() { return \"cropSize must be atleast [1,1], but was \" + r })), C(\"bilinear\" === o || \"nearest\" === o, (function() { return \"method must be bilinear or nearest, but was \" + o })), Lt.runKernelFunc((function(t, e) { return t.cropAndResize(i, s, u, r, o, a) }), { images: i, boxes: s, boxInd: u }, null, \"CropAndResize\", { method: o, extrapolationValue: a, cropSize: r })\r\n            }\r\n        }),\r\n        Oh = Object.freeze({ resizeBilinear: Sh, resizeNearestNeighbor: Ah, nonMaxSuppression: Dh, nonMaxSuppressionAsync: Th, nonMaxSuppressionWithScore: Nh, nonMaxSuppressionWithScoreAsync: Fh, cropAndResize: _h }),\r\n        Mh = function(t, e) { return !(t > 0) || \"linear\" === e },\r\n        Bh = function(t, e, n) { if (null == n || \"linear\" === n) return t; if (\"relu\" === n) return t.mul(e.step()); throw new Error(\"Gradient for activation \" + n + \" has not been implemented yet.\") },\r\n        Ph = function(t, e) {\r\n            var n = e,\r\n                r = Eo(t.shape, e.shape);\r\n            return r.length > 0 && (n = n.sum(r)), n.reshape(t.shape)\r\n        },\r\n        Lh = function(t, e, n) { if (\"linear\" === e) return t; if (\"relu\" === e) return Bl(t); if (\"elu\" === e) return _l(t); if (\"relu6\" === e) return Pl(t); if (\"prelu\" === e) return Ml(t, n); throw new Error(\"Unknown fused activation \" + e + \".\") };\r\n    var Wh = An({\r\n            fusedMatMul_: function(t) {\r\n                var e, n = t.a,\r\n                    r = t.b,\r\n                    o = t.transposeA,\r\n                    a = void 0 !== o && o,\r\n                    i = t.transposeB,\r\n                    s = void 0 !== i && i,\r\n                    u = t.bias,\r\n                    c = t.activation,\r\n                    l = void 0 === c ? \"linear\" : c,\r\n                    h = t.preluActivationWeights;\r\n                if (!1 === Mh(Lt.state.gradientDepth, l)) { var f = el(n, r, a, s); return null != u && (f = rc(f, u)), Lh(f, l, h) }\r\n                var d = mn(n, \"a\", \"fused matMul\"),\r\n                    p = mn(r, \"b\", \"fused matMul\");\r\n                e = Nt(d, p), d = e[0], p = e[1];\r\n                var v = a ? d.shape[d.rank - 2] : d.shape[d.rank - 1],\r\n                    m = s ? p.shape[p.rank - 1] : p.shape[p.rank - 2],\r\n                    g = a ? d.shape[d.rank - 1] : d.shape[d.rank - 2],\r\n                    y = s ? p.shape[p.rank - 2] : p.shape[p.rank - 1],\r\n                    x = d.shape.slice(0, -2),\r\n                    b = p.shape.slice(0, -2),\r\n                    w = k(x),\r\n                    E = k(b);\r\n                C(d.rank >= 2 && p.rank >= 2 && d.rank === p.rank, (function() { return \"Error in fused matMul: inputs must have the same rank of at least 2, got ranks \" + d.rank + \" and \" + p.rank + \".\" })), C(S(x, b), (function() { return \"Error in fused matMul: outer dimensions (\" + x + \") and (\" + b + \") of Tensors with shapes \" + d.shape + \" and \" + p.shape + \" must match.\" })), C(v === m, (function() { return \"Error in fused matMul: inner shapes (\" + v + \") and (\" + m + \") of Tensors with shapes \" + d.shape + \" and \" + p.shape + \" and transposeA=\" + a + \" and transposeB=\" + s + \" must match.\" }));\r\n                var R, I, A = d.shape.slice(0, -2).concat([g, y]),\r\n                    D = a ? d.as3D(w, v, g) : d.as3D(w, g, v),\r\n                    T = s ? p.as3D(E, y, m) : p.as3D(E, m, y);\r\n                null != u && Ro(A, (R = Nt(R = mn(u, \"bias\", \"fused matMul\"), d)[0]).shape), null != h && (I = mn(h, \"prelu weights\", \"fused matMul\"));\r\n                var N = { a: D, b: T };\r\n                null != u && (N.bias = R), null != h && (N.preluActivationWeights = I);\r\n                var F = [D, T];\r\n                return Lt.runKernelFunc((function(t, e) { var n = t.fusedBatchMatMul({ a: D, b: T, transposeA: a, transposeB: s, bias: R, activation: l, preluActivationWeights: I }); return e([D, T, n]), n }), N, (function(t, e) {\r\n                    var n = e[0],\r\n                        r = e[1],\r\n                        o = e[2],\r\n                        i = Bh(t, o, l),\r\n                        c = {};\r\n                    return null != u && (c = { bias: function() { return Ph(R, i) } }), a || s ? !a && s ? Object.assign({ a: function() { return i.matMul(r, !1, !1) }, b: function() { return i.matMul(n, !0, !1) } }, c) : a && !s ? Object.assign({ a: function() { return r.matMul(i, !1, !0) }, b: function() { return n.matMul(i, !1, !1) } }, c) : Object.assign({ a: function() { return r.matMul(i, !0, !0) }, b: function() { return i.matMul(n, !0, !0) } }, c) : Object.assign({ a: function() { return i.matMul(r, !1, !0) }, b: function() { return n.matMul(i, !0, !1) } }, c)\r\n                }), \"_FusedMatMul\", { transposeA: a, transposeB: s, activation: l }, F, [!0]).reshape(A)\r\n            }\r\n        }),\r\n        Uh = An({\r\n            fusedConv2d_: function(t) {\r\n                var e = t.x,\r\n                    n = t.filter,\r\n                    r = t.strides,\r\n                    o = t.pad,\r\n                    a = t.dataFormat,\r\n                    i = void 0 === a ? \"NHWC\" : a,\r\n                    s = t.dilations,\r\n                    u = void 0 === s ? [1, 1] : s,\r\n                    c = t.dimRoundingMode,\r\n                    l = t.bias,\r\n                    h = t.activation,\r\n                    f = void 0 === h ? \"linear\" : h,\r\n                    d = t.preluActivationWeights;\r\n                if (f = f || \"linear\", !1 === Mh(Lt.state.gradientDepth, f)) { var p = qc(e, n, r, o, i, u, c); return null != l && (p = rc(p, l)), Lh(p, f, d) }\r\n                var v = mn(e, \"x\", \"conv2d\"),\r\n                    m = mn(n, \"filter\", \"conv2d\"),\r\n                    g = v,\r\n                    y = !1;\r\n                3 === v.rank && (y = !0, g = v.as4D(1, v.shape[0], v.shape[1], v.shape[2])), C(4 === g.rank, (function() { return \"Error in fused conv2d: input must be rank 4, but got rank \" + g.rank + \".\" })), C(4 === m.rank, (function() { return \"Error in fused conv2d: filter must be rank 4, but got rank \" + m.rank + \".\" })), null != c && C(A(o), (function() { return \"Error in fused conv2d: pad must be an integer when using, dimRoundingMode \" + c + \" but got pad \" + o + \".\" })), C(g.shape[3] === m.shape[2], (function() { return \"Error in conv2d: depth of input (\" + g.shape[3] + \") must match input depth for filter \" + m.shape[2] + \".\" })), C(Mo(r, u), (function() { return \"Error in conv2D: Either strides or dilations must be 1. Got strides \" + r + \" and dilations '\" + u + \"'\" })), C(\"NHWC\" === i, (function() { return \"Error in conv2d: got dataFormat of \" + i + \" but only NHWC is currently supported.\" }));\r\n                var x, b, w = So(g.shape, m.shape, r, u, o, c);\r\n                null != l && (x = Nt(x = mn(l, \"bias\", \"fused conv2d\"), v)[0], Ro(w.outShape, x.shape)), null != d && (b = mn(d, \"prelu weights\", \"fused conv2d\"));\r\n                var E = { x: g, filter: m };\r\n                null != l && (E.bias = x), null != d && (E.preluActivationWeights = b);\r\n                var R = [m, g],\r\n                    I = Lt.runKernelFunc((function(t, e) { var n = t.fusedConv2d({ input: g, filter: m, convInfo: w, bias: x, activation: f, preluActivationWeights: b }); return e([m, g, n]), n }), E, (function(t, e) {\r\n                        var n = e,\r\n                            a = n[0],\r\n                            i = n[1],\r\n                            s = n[2],\r\n                            c = Bh(t, s, f);\r\n                        C(Oo(u), (function() { return \"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '\" + u + \"'\" }));\r\n                        var h = {};\r\n                        return null != l && (h = { bias: function() { return Ph(x, c) } }), Object.assign({ x: function() { return Xc(i.shape, c, a, r, o) }, filter: function() { return jc(i, c, a.shape, r, o) } }, h)\r\n                    }), \"FusedConv2D\", { convInfo: w, activation: f }, R, [!0]);\r\n                return y ? I.as3D(I.shape[1], I.shape[2], I.shape[3]) : I\r\n            }\r\n        }),\r\n        Vh = An({\r\n            fusedDepthwiseConv2d_: function(t) {\r\n                var e = t.x,\r\n                    n = t.filter,\r\n                    r = t.strides,\r\n                    o = t.pad,\r\n                    a = t.dataFormat,\r\n                    i = void 0 === a ? \"NHWC\" : a,\r\n                    s = t.dilations,\r\n                    u = void 0 === s ? [1, 1] : s,\r\n                    c = t.dimRoundingMode,\r\n                    l = t.bias,\r\n                    h = t.activation,\r\n                    f = void 0 === h ? \"linear\" : h,\r\n                    d = t.preluActivationWeights;\r\n                if (!1 === Mh(Lt.state.gradientDepth, f)) { var p = Yc(e, n, r, o, i, u, c); return null != l && (p = rc(p, l)), Lh(p, f, d) }\r\n                var v = mn(e, \"x\", \"depthwiseConv2d\"),\r\n                    m = mn(n, \"filter\", \"depthwiseConv2d\"),\r\n                    g = v,\r\n                    y = !1;\r\n                3 === v.rank && (y = !0, g = v.as4D(1, v.shape[0], v.shape[1], v.shape[2])), C(4 === g.rank, (function() { return \"Error in fused depthwiseConv2d: input must be rank 4, but got rank \" + g.rank + \".\" })), C(4 === m.rank, (function() { return \"Error in fused depthwiseConv2d: filter must be rank 4, but got rank \" + m.rank + \".\" })), C(g.shape[3] === m.shape[2], (function() { return \"Error in fused depthwiseConv2d: number of input channels (\" + g.shape[3] + \") must match the inChannels dimension in filter \" + m.shape[2] + \".\" })), null == u && (u = [1, 1]), C(Mo(r, u), (function() { return \"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides \" + r + \" and dilations '\" + u + \"'\" })), null != c && C(A(o), (function() { return \"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode \" + c + \" but got pad \" + o + \".\" }));\r\n                var x, b, w = So(g.shape, m.shape, r, u, o, c, !0);\r\n                null != l && (x = Nt(x = mn(l, \"bias\", \"fused conv2d\"), v)[0], Ro(w.outShape, x.shape)), null != d && (b = mn(d, \"prelu weights\", \"fused depthwiseConv2d\"));\r\n                var E = { x: g, filter: m };\r\n                null != l && (E.bias = x), null != d && (E.preluActivationWeights = b);\r\n                var R = [m, g],\r\n                    I = Lt.runKernelFunc((function(t, e) { var n = t.fusedDepthwiseConv2D({ input: g, filter: m, convInfo: w, bias: x, activation: f, preluActivationWeights: b }); return e([m, g, n]), n }), E, (function(t, e) {\r\n                        C(Oo(u), (function() { return \"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '\" + u + \"'\" }));\r\n                        var n = e[0],\r\n                            r = e[1],\r\n                            o = e[2],\r\n                            a = Bh(t, o, f),\r\n                            i = {};\r\n                        return null != l && (i = { bias: function() { return Ph(x, a) } }), Object.assign({ x: function() { return $c(r.shape, a, n, w) }, filter: function() { return Qc(r, a, n.shape, w) } }, i)\r\n                    }), \"FusedDepthwiseConv2D\", { convInfo: w, activation: f }, R, [!0]);\r\n                return y ? I.as3D(I.shape[1], I.shape[2], I.shape[3]) : I\r\n            }\r\n        }),\r\n        zh = Object.freeze({ matMul: Wh, conv2d: Uh, depthwiseConv2d: Vh }),\r\n        Gh = Object.freeze({ image: Oh, linalg: Ih, losses: bh, spectral: Jl, fused: zh, signal: uh, square: tu, squaredDifference: nu, conv1d: Hc, conv2d: qc, conv3d: Kc, depthwiseConv2d: Yc, separableConv2d: Jc, conv2dTranspose: Zc, conv3dTranspose: tl, op: An, batchNormalization2d: Gu, batchNormalization3d: Hu, batchNormalization4d: qu, batchNormalization: Ku, batchNorm: ju, batchNorm2d: Xu, batchNorm3d: Yu, batchNorm4d: $u, booleanMaskAsync: Uc, complex: Dn, real: Tn, imag: Nn, concat: Yn, concat1d: $n, concat2d: Qn, concat3d: Jn, concat4d: Zn, split: tr, matMul: el, dot: nl, outerProduct: rl, reverse: ol, reverse1d: al, reverse2d: il, reverse3d: sl, reverse4d: ul, maxPool: hl, avgPool: fl, pool: dl, maxPool3d: pl, avgPool3d: vl, slice: ml, slice1d: gl, slice2d: yl, slice3d: xl, slice4d: bl, abs: ru, acos: ou, acosh: au, asin: iu, asinh: su, atan: uu, atanh: cu, ceil: lu, clipByValue: hu, cos: fu, cosh: du, erf: pu, exp: vu, expm1: mu, floor: gu, log: yu, log1p: xu, logSigmoid: bu, neg: wu, reciprocal: Cu, round: Eu, rsqrt: Ru, sigmoid: Iu, sign: ku, isNaN: Su, isInf: Au, isFinite: Du, sin: Tu, sinh: Nu, softplus: Fu, sqrt: _u, step: Ou, tan: Mu, tanh: Bu, all: Cl, any: El, argMax: Rl, argMin: Il, logSumExp: kl, max: Sl, mean: Al, min: Dl, moments: Tl, sum: Nl, prod: Fl, equal: Rc, equalStrict: Ic, greater: kc, greaterEqual: Sc, greaterEqualStrict: Ac, greaterStrict: Dc, less: Tc, lessEqual: Nc, lessEqualStrict: Fc, lessStrict: _c, notEqual: Oc, notEqualStrict: Mc, add: rc, addN: oc, addStrict: ac, atan2: ic, div: sc, divNoNan: uc, divStrict: cc, floorDiv: lc, maximum: hc, maximumStrict: fc, minimum: dc, minimumStrict: pc, mod: vc, modStrict: mc, mul: gc, mulStrict: yc, pow: xc, powStrict: bc, squaredDifferenceStrict: wc, sub: Cc, subStrict: Ec, elu: _l, leakyRelu: Ol, prelu: Ml, relu: Bl, relu6: Pl, selu: Ll, logicalAnd: Qu, logicalNot: Ju, logicalOr: Zu, logicalXor: tc, where: ec, whereAsync: nc, buffer: dr, print: pr, batchToSpaceND: vr, broadcastTo: mr, cast: gr, clone: yr, cumsum: xr, depthToSpace: br, expandDims: wr, eye: Cr, multinomial: Er, oneHot: Rr, pad: Ir, pad1d: kr, pad2d: Sr, pad3d: Ar, pad4d: Dr, rand: Tr, randomNormal: Nr, randomGamma: Fr, randomUniform: _r, reshape: Or, spaceToBatchND: Mr, squeeze: Br, stack: Pr, tile: Lr, truncatedNormal: Wr, unstack: Ur, setdiff1dAsync: Vr, fill: Hn, linspace: qn, ones: zn, range: Kn, scalar: On, tensor: Fn, tensor1d: Mn, tensor2d: Bn, tensor3d: Pn, tensor4d: Ln, tensor5d: Wn, tensor6d: Un, variable: Vn, zeros: Gn, onesLike: jn, zerosLike: Xn, transpose: Wl, softmax: go, logSoftmax: yo, localResponseNormalization: Ul, norm: Vl, gather: Lc, unsortedSegmentSum: Wc, basicLSTMCell: zl, multiRNNCell: Gl, movingAverage: Hl, stridedSlice: ql, topk: Kl, scatterND: jl, fft: Xl, ifft: Yl, rfft: $l, irfft: Ql, sparseToDense: Zl, gatherND: th, diag: eh, dropout: nh, hannWindow: oh, hammingWindow: ah, frame: ih, stft: sh, inTopKAsync: lh });\r\n\r\n    function Hh(t, e) { Array.isArray(t) || (t = [t]), t.forEach((function(t) { null != t && C(\"complex64\" !== t.dtype, (function() { return e + \" does not support complex64 tensors.\" })); })); }\r\n\r\n    function qh(t, e, n, r) { if (\"linear\" === n) return t.linear(e); if (\"relu\" === n) return t.relu(e); if (\"elu\" === n) return t.elu(e); if (\"relu6\" === n) return t.relu6(e); if (\"prelu\" === n) return t.prelu(e, r); throw new Error(\"Activation \" + n + \" has not been implemented for the CPU backend.\") }\r\n    var Kh = function(t) {\r\n        function o() { var e = t.call(this) || this; return e.blockSize = 48, e.firstUse = !0, e.data = new xo(e, Lt), e }\r\n        return e(o, t), o.prototype.write = function(t, e, n) { this.firstUse && (this.firstUse = !1, i().get(\"IS_NODE\") && dn(\"\\n============================\\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\\n============================\")); var r = {}; return this.data.set(r, { values: t, dtype: n }), r }, o.prototype.move = function(t, e, n, r) { this.data.set(t, { values: e, dtype: r }); }, o.prototype.numDataIds = function() { return this.data.numDataIds() }, o.prototype.read = function(t) { return n(this, void 0, void 0, (function() { return r(this, (function(e) { return [2, this.readSync(t)] })) })) }, o.prototype.readSync = function(t) {\r\n            var e = this.data.get(t),\r\n                n = e.dtype,\r\n                r = e.complexTensors;\r\n            return \"complex64\" === n ? Vo(this.readSync(r.real.dataId), this.readSync(r.imag.dataId)) : this.data.get(t).values\r\n        }, o.prototype.bufferSync = function(t) {\r\n            var e = this.readSync(t.dataId),\r\n                n = e;\r\n            if (\"string\" === t.dtype) try { n = e.map((function(t) { return ot(t) })); } catch (t) { throw new Error(\"Failed to decode encoded string bytes into utf-8\") }\r\n            return dr(t.shape, t.dtype, n)\r\n        }, o.prototype.makeOutput = function(t, e, n) { var r = this.write(t, e, n); return Lt.makeTensorFromDataId(r, e, n, this) }, o.prototype.disposeData = function(t) {\r\n            if (this.data.has(t)) {\r\n                var e = this.data.get(t).complexTensors;\r\n                null != e && (e.real.dispose(), e.imag.dispose()), this.data.delete(t);\r\n            }\r\n        }, o.prototype.time = function(t) { return n(this, void 0, void 0, (function() { var e; return r(this, (function(n) { return e = et(), t(), [2, { kernelMs: et() - e }] })) })) }, o.prototype.memory = function() { return { unreliable: !0, reasons: [\"The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less.\"] } }, o.prototype.complex = function(t, e) { var n = this.makeOutput(null, t.shape, \"complex64\"); return this.data.get(n.dataId).complexTensors = { real: Lt.keep(t.clone()), imag: Lt.keep(e.clone()) }, n }, o.prototype.real = function(t) { return this.data.get(t.dataId).complexTensors.real.clone() }, o.prototype.imag = function(t) { return this.data.get(t.dataId).complexTensors.imag.clone() }, o.prototype.slice = function(t, e, n) {\r\n            if (Hh(t, \"slice\"), io(t.shape, e, n)) {\r\n                var r = so(e, t.strides),\r\n                    o = k(n);\r\n                return Fn(this.readSync(t.dataId).subarray(r, r + o), n, t.dtype)\r\n            }\r\n            for (var a = dr(n, t.dtype), i = this.bufferSync(t), s = 0; s < a.size; ++s) {\r\n                var u = a.indexToLoc(s).map((function(t, n) { return t + e[n] }));\r\n                a.values[s] = i.get.apply(i, u);\r\n            }\r\n            return a.toTensor()\r\n        }, o.prototype.stridedSlice = function(t, e, n, r) {\r\n            Hh(t, \"stridedSlice\");\r\n            var o = ro(e, n, r);\r\n            if (o.some((function(t) { return 0 === t }))) return Fn([], o);\r\n            for (var a = dr(o, t.dtype), i = this.bufferSync(t), s = 0; s < a.size; s++) {\r\n                for (var u = a.indexToLoc(s), c = new Array(u.length), l = 0; l < c.length; l++) c[l] = u[l] * r[l] + e[l];\r\n                a.set.apply(a, [i.get.apply(i, c)].concat(u));\r\n            }\r\n            return a.toTensor()\r\n        }, o.prototype.diag = function(t) { for (var e = this.readSync(t.dataId), n = dr([t.size, t.size], t.dtype), r = n.values, o = 0; o < e.length; o++) r[o * t.size + o] = e[o]; return n.toTensor() }, o.prototype.unstack = function(t, e) {\r\n            for (var n = t.shape[e], r = new Array(t.rank - 1), o = 0, a = 0; a < t.rank; a++) a !== e && (r[o++] = t.shape[a]);\r\n            var i = new Array(t.rank).fill(0),\r\n                s = t.shape.slice();\r\n            s[e] = 1;\r\n            var u = new Array(n);\r\n            for (a = 0; a < u.length; a++) i[e] = a, u[a] = this.slice(t, i, s).reshape(r);\r\n            return u\r\n        }, o.prototype.reverse = function(t, e) {\r\n            Hh(t, \"reverse\");\r\n            for (var n = dr(t.shape, t.dtype), r = this.bufferSync(t), o = function(o) {\r\n                    var a = n.indexToLoc(o),\r\n                        i = a.slice();\r\n                    e.forEach((function(e) { return i[e] = t.shape[e] - 1 - i[e] })), n.set.apply(n, [r.get.apply(r, i)].concat(a));\r\n                }, a = 0; a < n.size; a++) o(a);\r\n            return n.toTensor()\r\n        }, o.prototype.concat = function(t, e) {\r\n            var n = this;\r\n            if (\"complex64\" === t[0].dtype) {\r\n                var r = t.map((function(t) { return Tn(t) })),\r\n                    o = t.map((function(t) { return Nn(t) }));\r\n                return Dn(this.concat(r, e), this.concat(o, e))\r\n            }\r\n            var a = t.map((function(t) { var n = k(t.shape.slice(e)); return t.as2D(-1, n) })),\r\n                i = Sn(a.map((function(t) { return t.shape })), 1),\r\n                s = dr(i, t[0].dtype).values;\r\n            if (1 === a[0].shape[0]) {\r\n                var u = 0;\r\n                a.forEach((function(t) { s.set(n.readSync(t.dataId), u), u += t.size; }));\r\n            } else {\r\n                var c = 0;\r\n                a.forEach((function(t) {\r\n                    for (var e = n.readSync(t.dataId), r = 0, o = 0; o < t.shape[0]; ++o)\r\n                        for (var a = o * i[1] + c, u = 0; u < t.shape[1]; ++u) s[a + u] = e[r++];\r\n                    c += t.shape[1];\r\n                }));\r\n            }\r\n            var l = Sn(t.map((function(t) { return t.shape })), e);\r\n            return Fn(s, l, t[0].dtype)\r\n        }, o.prototype.neg = function(t) { return Hh(t, \"neg\"), this.multiply(On(-1), t) }, o.prototype.add = function(t, e) { return \"complex64\" === t.dtype || \"complex64\" === e.dtype ? this.broadcastedBinaryComplexOp(t.cast(\"complex64\"), e.cast(\"complex64\"), (function(t, e, n, r) { return { real: t + n, imag: e + r } })) : this.broadcastedBinaryOp(t, e, Dt(t.dtype, e.dtype), (function(t, e) { return t + e })) }, o.prototype.addN = function(t) {\r\n            var e = this;\r\n            Hh(t, \"addN\");\r\n            for (var n = t.map((function(t) { return e.readSync(t.dataId) })), r = dr(t[0].shape, t[0].dtype), o = r.values, a = 0; a < t.length; a++)\r\n                for (var i = n[a], s = 0; s < o.length; s++) o[s] += i[s];\r\n            return r.toTensor()\r\n        }, o.prototype.softmax = function(t, e) {\r\n            var n = O([e], t.shape),\r\n                r = this.max(t, n),\r\n                o = wn(r.shape, n),\r\n                a = this.subtract(t, r.reshape(o)),\r\n                i = this.exp(a),\r\n                s = this.sum(i, n).reshape(o);\r\n            return this.realDivide(i, s)\r\n        }, o.prototype.subtract = function(t, e) { return \"complex64\" === t.dtype || \"complex64\" === e.dtype ? this.broadcastedBinaryComplexOp(t.cast(\"complex64\"), e.cast(\"complex64\"), (function(t, e, n, r) { return { real: t - n, imag: e - r } })) : this.broadcastedBinaryOp(t, e, Dt(t.dtype, e.dtype), (function(t, e) { return t - e })) }, o.prototype.pow = function(t, e) { return Hh([t, e], \"pow\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { return Math.pow(t, e) })) }, o.prototype.batchMatMul = function(t, e, n, r) {\r\n            Hh([t, e], \"matMul\");\r\n            for (var o = n ? t.shape[1] : t.shape[2], a = n ? t.shape[2] : t.shape[1], i = r ? e.shape[1] : e.shape[2], s = t.shape[0], u = this.readSync(t.dataId), c = this.readSync(e.dataId), l = n ? [t.strides[0], 1, t.strides[1]] : [t.strides[0], t.strides[1], 1], h = l[0], f = l[1], d = l[2], p = r ? [1, e.strides[1], e.strides[0]] : [e.strides[1], 1, e.strides[0]], v = p[0], m = p[1], g = p[2], y = a * i, x = dr([s, a, i], t.dtype), b = x.values, w = this.blockSize, C = 0; C < s; C++)\r\n                for (var E = 0; E < a; E += w)\r\n                    for (var R = 0; R < i; R += w)\r\n                        for (var I = 0; I < o; I += w)\r\n                            for (var k = Math.min(E + w, a), S = Math.min(R + w, i), A = Math.min(I + w, o), D = E; D < k; D++)\r\n                                for (var T = R; T < S; T++) {\r\n                                    for (var N = 0, F = I; F < A; F++) N += u[C * h + D * f + F * d] * c[F * v + T * m + C * g];\r\n                                    b[C * y + (D * i + T)] += N;\r\n                                }\r\n            return x.toTensor()\r\n        }, o.prototype.fusedBatchMatMul = function(t) {\r\n            var e = t.a,\r\n                n = t.b,\r\n                r = t.transposeA,\r\n                o = t.transposeB,\r\n                a = t.bias,\r\n                i = t.activation,\r\n                s = t.preluActivationWeights,\r\n                u = this.batchMatMul(e, n, r, o);\r\n            return a && (u = this.add(u, a)), i && (u = qh(this, u, i, s)), u\r\n        }, o.prototype.multiply = function(t, e) { return \"complex64\" === t.dtype || \"complex64\" === e.dtype ? this.broadcastedBinaryComplexOp(t.cast(\"complex64\"), e.cast(\"complex64\"), (function(t, e, n, r) { return { real: t * n - e * r, imag: t * r + e * n } })) : this.broadcastedBinaryOp(t, e, Dt(t.dtype, e.dtype), (function(t, e) { return t * e })) }, o.prototype.realDivide = function(t, e) { Hh([t, e], \"realDivide\"); return this.broadcastedBinaryOp(t, e, \"float32\", (function(t, e) { return t / e })) }, o.prototype.floorDiv = function(t, e) { Hh([t, e], \"floorDiv\"); return this.broadcastedBinaryOp(t, e, \"int32\", (function(t, e) { return Math.floor(t / e) })) }, o.prototype.sum = function(t, e) {\r\n            Hh(t, \"sum\"), Cn(\"sum\", e, t.rank);\r\n            for (var n = bn(t.shape, e), r = n[0], o = n[1], a = Gn(r, Dt(t.dtype, \"int32\")), i = k(o), s = this.readSync(a.dataId), u = this.readSync(t.dataId), c = 0; c < s.length; ++c) {\r\n                for (var l = c * i, h = 0, f = 0; f < i; ++f) h += u[l + f];\r\n                s[c] = h;\r\n            }\r\n            return a\r\n        }, o.prototype.prod = function(t, e) {\r\n            Hh(t, \"sum\");\r\n            for (var n = bn(t.shape, e), r = n[0], o = n[1], a = Gn(r, Dt(t.dtype, \"int32\")), i = k(o), s = this.readSync(a.dataId), u = this.readSync(t.dataId), c = 0; c < s.length; ++c) {\r\n                for (var l = c * i, h = 1, f = 0; f < i; ++f) h *= u[l + f];\r\n                s[c] = h;\r\n            }\r\n            return a\r\n        }, o.prototype.unsortedSegmentSum = function(t, e, n) {\r\n            Hh(t, \"unsortedSegmentSum\");\r\n            for (var r = [], o = t.rank - e.rank, a = 0; a < o; ++a) e = e.expandDims(a + 1);\r\n            for (a = 0; a < n; ++a) {\r\n                var i = On(a, \"int32\"),\r\n                    s = Rc(i, e).asType(\"float32\").mul(t).sum(0);\r\n                r.push(s);\r\n            }\r\n            return Pr(r)\r\n        }, o.prototype.argMin = function(t, e) {\r\n            Hh(t, \"argMin\");\r\n            var n = [e];\r\n            Cn(\"argMin\", n, t.rank);\r\n            for (var r = bn(t.shape, n), o = r[0], a = r[1], i = Gn(o, \"int32\"), s = k(a), u = this.readSync(i.dataId), c = this.readSync(t.dataId), l = 0; l < u.length; ++l) {\r\n                for (var h = l * s, f = c[h], d = 0, p = 0; p < s; ++p) {\r\n                    var v = c[h + p];\r\n                    v < f && (f = v, d = p);\r\n                }\r\n                u[l] = d;\r\n            }\r\n            return i\r\n        }, o.prototype.argMax = function(t, e) {\r\n            Hh(t, \"argMax\");\r\n            var n = [e];\r\n            Cn(\"argMax\", n, t.rank);\r\n            for (var r = bn(t.shape, n), o = r[0], a = r[1], i = Gn(o, \"int32\"), s = k(a), u = this.readSync(i.dataId), c = this.readSync(t.dataId), l = 0; l < u.length; ++l) {\r\n                for (var h = l * s, f = c[h], d = 0, p = 0; p < s; ++p) {\r\n                    var v = c[h + p];\r\n                    v > f && (f = v, d = p);\r\n                }\r\n                u[l] = d;\r\n            }\r\n            return i\r\n        }, o.prototype.cumsum = function(t, e, n, r) {\r\n            if (Hh(t, \"cumsum\"), e !== t.rank - 1) throw new Error(\"backend.cumsum in CPU expects an inner-most axis=\" + (t.rank - 1) + \" but got axis=\" + e);\r\n            for (var o = Dt(t.dtype, \"int32\"), a = Gn(t.shape, o), i = this.readSync(a.dataId), s = this.readSync(t.dataId), u = t.shape[t.rank - 1], c = r ? function(t, e) { return t + u - e - 1 } : function(t, e) { return t + e }, l = 0; l < s.length; l += u)\r\n                for (var h = 0; h < u; h++) {\r\n                    var f = c(l, h);\r\n                    if (0 === h) i[f] = n ? 0 : s[f];\r\n                    else {\r\n                        var d = c(l, h - 1);\r\n                        i[f] = n ? s[d] + i[d] : s[f] + i[d];\r\n                    }\r\n                }\r\n            return a\r\n        }, o.prototype.equal = function(t, e) { return Hh([t, e], \"equal\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t === e ? 1 : 0 })) }, o.prototype.notEqual = function(t, e) { return Hh([t, e], \"notEqual\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t !== e ? 1 : 0 })) }, o.prototype.less = function(t, e) { return Hh([t, e], \"less\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t < e ? 1 : 0 })) }, o.prototype.lessEqual = function(t, e) { return Hh([t, e], \"lessEqual\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t <= e ? 1 : 0 })) }, o.prototype.greater = function(t, e) { return Hh([t, e], \"greater\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t > e ? 1 : 0 })) }, o.prototype.greaterEqual = function(t, e) { return Hh([t, e], \"greaterEqual\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t >= e ? 1 : 0 })) }, o.prototype.logicalNot = function(t) { Hh(t, \"logicalNot\"); for (var e = this.readSync(t.dataId), n = new Uint8Array(e.length), r = 0; r < e.length; ++r) n[r] = e[r] ? 0 : 1; return this.makeOutput(n, t.shape, \"bool\") }, o.prototype.logicalAnd = function(t, e) { return Hh([t, e], \"logicalAnd\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t && e })) }, o.prototype.logicalOr = function(t, e) { return Hh([t, e], \"logicalOr\"), this.broadcastedBinaryOp(t, e, \"bool\", (function(t, e) { return t || e })) }, o.prototype.select = function(t, e, n) {\r\n            Hh([t, e, n], \"select\");\r\n            for (var r = this.readSync(t.dataId), o = this.readSync(e.dataId), a = this.readSync(n.dataId), i = Gn(e.shape, Dt(e.dtype, n.dtype)), s = this.readSync(i.dataId), u = 0, c = 0 === t.rank || t.rank > 1 || 1 === e.rank ? 1 : k(e.shape.slice(1)), l = 0; l < r.length; l++)\r\n                for (var h = 0; h < c; h++) 1 === r[l] ? s[u++] = o[l] : s[u++] = a[l];\r\n            return i\r\n        }, o.prototype.where = function(t) { Hh([t], \"where\"); var e = this.readSync(t.dataId); return na(t.shape, e) }, o.prototype.topk = function(t, e, n) { return Hh(t, \"topk\"), ea(this.readSync(t.dataId), t.shape, t.dtype, e) }, o.prototype.min = function(t, e) {\r\n            Hh(t, \"min\"), Cn(\"min\", e, t.rank);\r\n            for (var n = bn(t.shape, e), r = n[0], o = n[1], a = Gn(r, t.dtype), i = k(o), s = this.readSync(a.dataId), u = this.readSync(t.dataId), c = 0; c < s.length; ++c) {\r\n                for (var l = c * i, h = u[l], f = 0; f < i; ++f) {\r\n                    var d = u[l + f];\r\n                    d < h && (h = d);\r\n                }\r\n                s[c] = h;\r\n            }\r\n            return a\r\n        }, o.prototype.minimum = function(t, e) { return Hh([t, e], \"minimum\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { return Math.min(t, e) })) }, o.prototype.mod = function(t, e) { return Hh([t, e], \"mod\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { var n = t % e; return t < 0 && e < 0 || t >= 0 && e >= 0 ? n : (n + e) % e })) }, o.prototype.max = function(t, e) {\r\n            Hh(t, \"max\"), Cn(\"max\", e, t.rank);\r\n            for (var n = bn(t.shape, e), r = n[0], o = n[1], a = Gn(r, t.dtype), i = k(o), s = this.readSync(a.dataId), u = this.readSync(t.dataId), c = 0; c < s.length; ++c) {\r\n                for (var l = c * i, h = u[l], f = 0; f < i; ++f) {\r\n                    var d = u[l + f];\r\n                    d > h && (h = d);\r\n                }\r\n                s[c] = h;\r\n            }\r\n            return a\r\n        }, o.prototype.maximum = function(t, e) { return Hh([t, e], \"maximum\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { return Math.max(t, e) })) }, o.prototype.all = function(t, e) {\r\n            Hh(t, \"all\"), Cn(\"all\", e, t.rank);\r\n            for (var n = bn(t.shape, e), r = n[0], o = n[1], a = Gn(r, t.dtype), i = k(o), s = this.readSync(a.dataId), u = this.readSync(t.dataId), c = 0; c < s.length; ++c) {\r\n                for (var l = c * i, h = u[l], f = 0; f < i; ++f) {\r\n                    var d = u[l + f];\r\n                    h = h && d;\r\n                }\r\n                s[c] = h;\r\n            }\r\n            return a\r\n        }, o.prototype.any = function(t, e) {\r\n            Hh(t, \"any\"), Cn(\"any\", e, t.rank);\r\n            for (var n = bn(t.shape, e), r = n[0], o = n[1], a = Gn(r, t.dtype), i = k(o), s = this.readSync(a.dataId), u = this.readSync(t.dataId), c = 0; c < s.length; ++c) {\r\n                for (var l = c * i, h = u[l], f = 0; f < i; ++f) {\r\n                    var d = u[l + f];\r\n                    h = h || d;\r\n                }\r\n                s[c] = h;\r\n            }\r\n            return a\r\n        }, o.prototype.squaredDifference = function(t, e) { return Hh([t, e], \"squaredDifference\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { var n = t - e; return n * n })) }, o.prototype.ceil = function(t) { Hh(t, \"ceil\"); for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) n[r] = Math.ceil(e[r]); return this.makeOutput(n, t.shape, \"float32\") }, o.prototype.floor = function(t) { Hh(t, \"floor\"); for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) n[r] = Math.floor(e[r]); return this.makeOutput(n, t.shape, \"float32\") }, o.prototype.sign = function(t) { Hh(t, \"x\"); for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) e[r] < 0 ? n[r] = -1 : e[r] > 0 ? n[r] = 1 : n[r] = 0; return this.makeOutput(n, t.shape, \"float32\") }, o.prototype.isNaN = function(t) { Hh(t, \"x\"); for (var e = this.readSync(t.dataId), n = new Uint8Array(e.length), r = 0; r < e.length; ++r) Number.isNaN(e[r]) && (n[r] = 1); return this.makeOutput(n, t.shape, \"bool\") }, o.prototype.isInf = function(t) { Hh(t, \"x\"); for (var e = this.readSync(t.dataId), n = new Uint8Array(e.length), r = 0; r < e.length; ++r) Math.abs(e[r]) === 1 / 0 && (n[r] = 1); return this.makeOutput(n, t.shape, \"bool\") }, o.prototype.isFinite = function(t) { Hh(t, \"x\"); for (var e = this.readSync(t.dataId), n = new Uint8Array(e.length), r = 0; r < e.length; ++r) Number.isFinite(e[r]) && (n[r] = 1); return this.makeOutput(n, t.shape, \"bool\") }, o.prototype.round = function(t) {\r\n            Hh(t, \"round\");\r\n            for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) {\r\n                var o = Math.floor(e[r]);\r\n                e[r] - o < .5 ? n[r] = Math.floor(e[r]) : e[r] - o > .5 ? n[r] = Math.ceil(e[r]) : n[r] = o % 2 == 0 ? o : o + 1;\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.exp = function(t) { Hh(t, \"exp\"); for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) n[r] = Math.exp(e[r]); return this.makeOutput(n, t.shape, \"float32\") }, o.prototype.expm1 = function(t) { Hh(t, \"expm1\"); for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) n[r] = Math.expm1(e[r]); return this.makeOutput(n, t.shape, \"float32\") }, o.prototype.log = function(t) {\r\n            Hh(t, \"log\");\r\n            for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) {\r\n                var o = e[r];\r\n                n[r] = Math.log(o);\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.log1p = function(t) {\r\n            Hh(t, \"log1p\");\r\n            for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) {\r\n                var o = e[r];\r\n                n[r] = Math.log1p(o);\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.sqrt = function(t) {\r\n            Hh(t, \"sqrt\");\r\n            for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) {\r\n                var o = e[r];\r\n                n[r] = Math.sqrt(o);\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.rsqrt = function(t) {\r\n            Hh(t, \"rsqrt\");\r\n            for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) {\r\n                var o = e[r];\r\n                n[r] = 1 / Math.sqrt(o);\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.reciprocal = function(t) { Hh(t, \"reciprocal\"); for (var e = this.readSync(t.dataId), n = new Float32Array(e.length), r = 0; r < e.length; ++r) n[r] = 1 / e[r]; return this.makeOutput(n, t.shape, \"float32\") }, o.prototype.linear = function(t) { return t }, o.prototype.relu = function(t) { Hh(t, \"relu\"); for (var e = Gn(t.shape, t.dtype), n = this.readSync(e.dataId), r = this.readSync(t.dataId), o = 0; o < r.length; ++o) n[o] = Math.max(0, r[o]); return e }, o.prototype.relu6 = function(t) { Hh(t, \"relu\"); for (var e = Gn(t.shape, t.dtype), n = this.readSync(e.dataId), r = this.readSync(t.dataId), o = 0; o < r.length; ++o) n[o] = Math.min(Math.max(0, r[o]), 6); return e }, o.prototype.prelu = function(t, e) { return Hh([t, e], \"prelu\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { return t < 0 ? e * t : t })) }, o.prototype.elu = function(t) {\r\n            Hh(t, \"elu\");\r\n            for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) {\r\n                var o = n[r];\r\n                e[r] = o >= 0 ? o : Math.exp(o) - 1;\r\n            }\r\n            return this.makeOutput(e, t.shape, \"float32\")\r\n        }, o.prototype.eluDer = function(t, e) {\r\n            Hh([t, e], \"eluDer\");\r\n            for (var n = new Float32Array(e.size), r = this.readSync(e.dataId), o = this.readSync(t.dataId), a = 0; a < r.length; ++a) {\r\n                var i = r[a];\r\n                n[a] = i >= 1 ? o[a] : o[a] * (i + 1);\r\n            }\r\n            return this.makeOutput(n, e.shape, \"float32\")\r\n        }, o.prototype.selu = function(t) {\r\n            Hh(t, \"selu\");\r\n            for (var e = bs, n = ws, r = new Float32Array(t.size), o = this.readSync(t.dataId), a = 0; a < o.length; ++a) {\r\n                var i = o[a];\r\n                r[a] = i >= 0 ? n * i : e * (Math.exp(i) - 1);\r\n            }\r\n            return this.makeOutput(r, t.shape, \"float32\")\r\n        }, o.prototype.clip = function(t, e, n) {\r\n            Hh(t, \"clip\");\r\n            for (var r = new Float32Array(t.size), o = this.readSync(t.dataId), a = 0; a < o.length; ++a) {\r\n                var i = o[a];\r\n                r[a] = i > n ? n : i < e ? e : i;\r\n            }\r\n            return this.makeOutput(r, t.shape, \"float32\")\r\n        }, o.prototype.abs = function(t) { for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.abs(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.complexAbs = function(t) {\r\n            for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < t.size; ++r) {\r\n                var o = n[2 * r],\r\n                    a = n[2 * r + 1];\r\n                e[r] = Math.hypot(o, a);\r\n            }\r\n            return this.makeOutput(e, t.shape, \"float32\")\r\n        }, o.prototype.int = function(t) { Hh(t, \"int\"); for (var e = new Int32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = n[r]; return this.makeOutput(e, t.shape, \"int32\") }, o.prototype.sigmoid = function(t) { Hh(t, \"sigmoid\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = 1 / (1 + Math.exp(-n[r])); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.softplus = function(t) {\r\n            Hh(t, \"softplus\");\r\n            for (var e = Math.log(1.1920928955078125e-7) + 2, n = new Float32Array(t.size), r = this.readSync(t.dataId), o = 0; o < r.length; ++o) {\r\n                var a = r[o] > -e,\r\n                    i = r[o] < e,\r\n                    s = Math.exp(r[o]),\r\n                    u = void 0;\r\n                u = i ? s : a ? r[o] : Math.log(1 + s), n[o] = u;\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.sin = function(t) { Hh(t, \"sin\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.sin(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.cos = function(t) { Hh(t, \"cos\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.cos(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.tan = function(t) { Hh(t, \"tan\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.tan(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.asin = function(t) { Hh(t, \"asin\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.asin(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.acos = function(t) { Hh(t, \"acos\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.acos(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.atan = function(t) { Hh(t, \"atan\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.atan(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.atan2 = function(t, e) { return Hh([t, e], \"atan2\"), this.broadcastedBinaryOp(t, e, t.dtype, (function(t, e) { return Math.atan2(t, e) })) }, o.prototype.sinh = function(t) { Hh(t, \"sinh\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.sinh(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.cosh = function(t) { Hh(t, \"cosh\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.cosh(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.tanh = function(t) { Hh(t, \"tanh\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = D(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.asinh = function(t) { Hh(t, \"asinh\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.asinh(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.acosh = function(t) { Hh(t, \"acosh\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.acosh(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.atanh = function(t) { Hh(t, \"atanh\"); for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) e[r] = Math.atanh(n[r]); return this.makeOutput(e, t.shape, \"float32\") }, o.prototype.erf = function(t) {\r\n            Hh(t, \"erf\");\r\n            for (var e = new Float32Array(t.size), n = this.readSync(t.dataId), r = 0; r < n.length; ++r) {\r\n                var o = Math.sign(n[r]),\r\n                    a = Math.abs(n[r]),\r\n                    i = 1 / (1 + .3275911 * a);\r\n                e[r] = o * (1 - ((((1.061405429 * i - 1.453152027) * i + 1.421413741) * i - .284496736) * i + .254829592) * i * Math.exp(-a * a));\r\n            }\r\n            return this.makeOutput(e, t.shape, \"float32\")\r\n        }, o.prototype.step = function(t, e) {\r\n            void 0 === e && (e = 0), Hh(t, \"step\");\r\n            for (var n = new Float32Array(t.size), r = this.readSync(t.dataId), o = 0; o < r.length; ++o) {\r\n                var a = r[o];\r\n                isNaN(a) ? n[o] = NaN : n[o] = a > 0 ? 1 : e;\r\n            }\r\n            return this.makeOutput(n, t.shape, \"float32\")\r\n        }, o.prototype.fusedConv2d = function(t) {\r\n            var e = t.input,\r\n                n = t.filter,\r\n                r = t.convInfo,\r\n                o = t.bias,\r\n                a = t.activation,\r\n                i = t.preluActivationWeights,\r\n                s = this.conv2d(e, n, r);\r\n            return o && (s = this.add(s, o)), a && (s = qh(this, s, a, i)), s\r\n        }, o.prototype.conv2d = function(t, e, n) {\r\n            Hh([t, e], \"conv2d\");\r\n            for (var r = n.filterHeight, o = n.filterWidth, a = n.dilationHeight, i = n.dilationWidth, s = n.padInfo.left, u = n.padInfo.top, c = \"channelsLast\" === n.dataFormat, l = dr(n.outShape, t.dtype), h = t.strides[0], f = c ? t.strides[1] : t.strides[2], d = c ? t.strides[2] : 1, p = c ? 1 : t.strides[1], v = l.strides[0], m = c ? l.strides[1] : l.strides[2], g = c ? l.strides[2] : 1, y = c ? 1 : l.strides[1], x = this.readSync(t.dataId), b = this.readSync(e.dataId), w = l.values, C = 0; C < n.batchSize; ++C)\r\n                for (var E = C * h, R = C * v, I = 0; I < n.outHeight; ++I)\r\n                    for (var k = R + I * m, S = I * n.strideHeight - u, A = 0; A < r; A++) {\r\n                        var D = S + A * a;\r\n                        if (!(D < 0 || D >= n.inHeight))\r\n                            for (var T = A * e.strides[0], N = E + D * f, F = 0; F < n.outWidth; ++F)\r\n                                for (var _ = k + F * g, O = F * n.strideWidth - s, M = 0; M < o; M++) {\r\n                                    var B = O + M * i;\r\n                                    if (!(B < 0 || B >= n.inWidth))\r\n                                        for (var P = N + B * d, L = T + M * e.strides[1], W = 0; W < n.inChannels; ++W) {\r\n                                            for (var U = x[P + W * p], V = 0; V < n.outChannels; ++V) w[_ + V * y] += U * b[L + V];\r\n                                            L += n.outChannels;\r\n                                        }\r\n                                }\r\n                    }\r\n            return l.toTensor()\r\n        }, o.prototype.conv3d = function(t, e, n) {\r\n            for (var r = n.filterDepth, o = n.filterHeight, a = n.filterWidth, i = n.dilationDepth, s = n.dilationHeight, u = n.dilationWidth, c = n.padInfo.front, l = n.padInfo.left, h = n.padInfo.top, f = dr(n.outShape, t.dtype), d = this.readSync(t.dataId), p = this.readSync(e.dataId), v = f.values, m = 0; m < n.batchSize; ++m)\r\n                for (var g = m * t.strides[0], y = m * f.strides[0], x = 0; x < n.outDepth; ++x)\r\n                    for (var b = y + x * f.strides[1], w = x * n.strideDepth - c, C = 0; C < r; C++) {\r\n                        var E = w + C * i;\r\n                        if (!(E < 0 || E >= n.inDepth))\r\n                            for (var R = C * e.strides[0], I = g + E * t.strides[1], k = 0; k < n.outHeight; ++k)\r\n                                for (var S = b + k * f.strides[2], A = k * n.strideHeight - h, D = 0; D < o; D++) {\r\n                                    var T = A + D * s;\r\n                                    if (!(T < 0 || T >= n.inHeight))\r\n                                        for (var N = R + D * e.strides[1], F = I + T * t.strides[2], _ = 0; _ < n.outWidth; ++_)\r\n                                            for (var O = S + _ * n.outChannels, M = _ * n.strideWidth - l, B = 0; B < a; B++) {\r\n                                                var P = M + B * u;\r\n                                                if (!(P < 0 || P >= n.inWidth))\r\n                                                    for (var L = N + B * e.strides[2], W = F + P * n.inChannels, U = L, V = 0; V < n.inChannels; ++V) {\r\n                                                        for (var z = d[W + V], G = 0; G < n.outChannels; ++G) v[O + G] += z * p[U + G];\r\n                                                        U += n.outChannels;\r\n                                                    }\r\n                                            }\r\n                                }\r\n                    }\r\n            return f.toTensor()\r\n        }, o.prototype.conv2dDerInput = function(t, e, n) {\r\n            Hh([t, e], \"conv2dDerInput\");\r\n            for (var r = dr(n.inShape, \"float32\"), o = r.values, a = this.readSync(t.dataId), i = this.readSync(e.dataId), s = e.strides, u = s[0], c = s[1], l = s[2], h = n.batchSize, f = n.filterHeight, d = n.filterWidth, p = n.inChannels, v = n.inHeight, m = n.inWidth, g = n.outChannels, y = n.outHeight, x = n.outWidth, b = n.strideHeight, w = n.strideWidth, C = n.dataFormat, E = f - 1 - n.padInfo.top, R = d - 1 - n.padInfo.left, I = \"channelsLast\" === C, k = r.strides[0], S = I ? r.strides[1] : r.strides[2], A = I ? r.strides[2] : 1, D = I ? 1 : r.strides[1], T = t.strides[0], N = I ? t.strides[1] : t.strides[2], F = I ? t.strides[2] : 1, _ = I ? 1 : t.strides[1], O = 0; O < h; ++O)\r\n                for (var M = 0; M < p; ++M)\r\n                    for (var B = 0; B < v; ++B)\r\n                        for (var P = B - E, L = Math.max(0, Math.ceil(P / b)), W = Math.min(y, (f + P) / b), U = 0; U < m; ++U) {\r\n                            for (var V = U - R, z = Math.max(0, Math.ceil(V / w)), G = Math.min(x, (d + V) / w), H = 0, q = L; q < W; ++q)\r\n                                for (var K = q * b - P, j = z; j < G; ++j)\r\n                                    for (var X = T * O + N * q + F * j, Y = u * (f - 1 - K) + c * (d - 1 - (j * w - V)) + l * M, $ = 0; $ < g; ++$) { H += a[X + _ * $] * i[Y + $]; }\r\n                            o[k * O + S * B + A * U + D * M] = H;\r\n                        }\r\n            return r.toTensor()\r\n        }, o.prototype.conv3dDerInput = function(t, e, n) {\r\n            for (var r = dr(n.inShape, \"float32\"), o = r.values, a = r.strides, i = a[0], s = a[1], u = a[2], c = a[3], l = this.readSync(t.dataId), h = t.strides, f = h[0], d = h[1], p = h[2], v = h[3], m = this.readSync(e.dataId), g = e.strides, y = g[0], x = g[1], b = g[2], w = g[3], C = n.batchSize, E = n.filterDepth, R = n.filterHeight, I = n.filterWidth, k = n.inChannels, S = n.inDepth, A = n.inHeight, D = n.inWidth, T = n.outChannels, N = n.outDepth, F = n.outHeight, _ = n.outWidth, O = n.strideDepth, M = n.strideHeight, B = n.strideWidth, P = E - 1 - n.padInfo.front, L = R - 1 - n.padInfo.top, W = I - 1 - n.padInfo.left, U = 0; U < C; ++U)\r\n                for (var V = 0; V < k; ++V)\r\n                    for (var z = 0; z < S; ++z)\r\n                        for (var G = z - P, H = Math.max(0, Math.ceil(G / O)), q = Math.min(N, (E + G) / O), K = 0; K < A; ++K)\r\n                            for (var j = K - L, X = Math.max(0, Math.ceil(j / M)), Y = Math.min(F, (R + j) / M), $ = 0; $ < D; ++$) {\r\n                                for (var Q = $ - W, J = Math.max(0, Math.ceil(Q / B)), Z = Math.min(_, (I + Q) / B), tt = 0, et = H; et < q; ++et)\r\n                                    for (var nt = et * O - G, rt = X; rt < Y; ++rt)\r\n                                        for (var ot = rt * M - j, at = J; at < Z; ++at)\r\n                                            for (var it = f * U + d * et + p * rt + v * at, st = y * (E - 1 - nt) + x * (R - 1 - ot) + b * (I - 1 - (at * B - Q)) + w * V, ut = 0; ut < T; ++ut) { tt += l[it + ut] * m[st + ut]; }\r\n                                o[i * U + s * z + u * K + c * $ + V] = tt;\r\n                            }\r\n            return r.toTensor()\r\n        }, o.prototype.conv2dDerFilter = function(t, e, n) {\r\n            Hh([t, e], \"conv2dDerFilter\");\r\n            for (var r = n.strideHeight, o = n.strideWidth, a = n.filterHeight, i = n.filterWidth, s = \"channelsLast\" === n.dataFormat, u = dr(n.filterShape, \"float32\"), c = n.padInfo.left, l = n.padInfo.top, h = this.bufferSync(t), f = this.bufferSync(e), d = 0; d < a; ++d)\r\n                for (var p = Math.max(0, Math.ceil((l - d) / r)), v = Math.min(n.outHeight, (n.inHeight + l - d) / r), m = 0; m < i; ++m)\r\n                    for (var g = Math.max(0, Math.ceil((c - m) / o)), y = Math.min(n.outWidth, (n.inWidth + c - m) / o), x = 0; x < n.inChannels; ++x)\r\n                        for (var b = 0; b < n.outChannels; ++b) {\r\n                            for (var w = 0, C = 0; C < n.batchSize; ++C)\r\n                                for (var E = p; E < v; ++E)\r\n                                    for (var R = d + E * r - l, I = g; I < y; ++I) {\r\n                                        var k = m + I * o - c;\r\n                                        w += s ? h.get(C, R, k, x) * f.get(C, E, I, b) : h.get(C, x, R, k) * f.get(C, b, E, I);\r\n                                    }\r\n                            u.set(w, d, m, x, b);\r\n                        }\r\n            return u.toTensor()\r\n        }, o.prototype.conv3dDerFilter = function(t, e, n) {\r\n            for (var r = n.strideDepth, o = n.strideHeight, a = n.strideWidth, i = n.filterDepth, s = n.filterHeight, u = n.filterWidth, c = dr(n.filterShape, \"float32\"), l = c.values, h = c.strides, f = h[0], d = h[1], p = h[2], v = h[3], m = this.readSync(e.dataId), g = e.strides, y = g[0], x = g[1], b = g[2], w = g[3], C = this.readSync(t.dataId), E = t.strides, R = E[0], I = E[1], k = E[2], S = E[3], A = n.padInfo.front, D = n.padInfo.left, T = n.padInfo.top, N = 0; N < i; ++N)\r\n                for (var F = Math.max(0, Math.ceil((A - N) / r)), _ = Math.min(n.outDepth, (n.inDepth + A - N) / r), O = N * f, M = 0; M < s; ++M)\r\n                    for (var B = Math.max(0, Math.ceil((T - M) / o)), P = Math.min(n.outHeight, (n.inHeight + T - M) / o), L = M * d + O, W = 0; W < u; ++W)\r\n                        for (var U = Math.max(0, Math.ceil((D - W) / a)), V = Math.min(n.outWidth, (n.inWidth + D - W) / a), z = W * p + L, G = 0; G < n.inChannels; ++G)\r\n                            for (var H = G * v + z, q = 0; q < n.outChannels; ++q) {\r\n                                for (var K = 0, j = 0; j < n.batchSize; ++j)\r\n                                    for (var X = j * R, Y = j * y, $ = F; $ < _; ++$)\r\n                                        for (var Q = (N + $ * r - A) * I + X, J = $ * x + Y, Z = B; Z < P; ++Z)\r\n                                            for (var tt = (M + Z * o - T) * k + Q, et = Z * b + J, nt = U; nt < V; ++nt) {\r\n                                                var rt = nt * w + et;\r\n                                                K += C[(W + nt * a - D) * S + tt + G] * m[rt + q];\r\n                                            }\r\n                                l[H + q] = K;\r\n                            }\r\n            return c.toTensor()\r\n        }, o.prototype.fusedDepthwiseConv2D = function(t) {\r\n            var e = t.input,\r\n                n = t.filter,\r\n                r = t.convInfo,\r\n                o = t.bias,\r\n                a = t.activation,\r\n                i = t.preluActivationWeights,\r\n                s = this.depthwiseConv2D(e, n, r);\r\n            return o && (s = this.add(s, o)), a && (s = qh(this, s, a, i)), s\r\n        }, o.prototype.depthwiseConv2D = function(t, e, n) {\r\n            Hh([t, e], \"depthwiseConv2D\");\r\n            for (var r = n.filterHeight, o = n.filterWidth, a = n.dilationHeight, i = n.dilationWidth, s = n.padInfo.left, u = n.padInfo.top, c = n.outChannels / n.inChannels, l = dr(n.outShape, t.dtype), h = this.readSync(t.dataId), f = this.readSync(e.dataId), d = l.values, p = 0; p < n.batchSize; ++p)\r\n                for (var v = p * t.strides[0], m = p * l.strides[0], g = 0; g < n.outHeight; ++g)\r\n                    for (var y = m + g * l.strides[1], x = g * n.strideHeight - s, b = 0; b < r; ++b) {\r\n                        var w = x + b * a;\r\n                        if (!(w < 0 || w >= n.inHeight))\r\n                            for (var C = b * e.strides[0], E = v + w * t.strides[1], R = 0; R < n.outWidth; ++R)\r\n                                for (var I = y + R * l.strides[2], k = R * n.strideWidth - u, S = 0; S < o; ++S) {\r\n                                    var A = k + S * i;\r\n                                    if (!(A < 0 || A >= n.inWidth))\r\n                                        for (var D = C + S * e.strides[1], T = E + A * n.inChannels, N = I, F = D, _ = 0; _ < n.inChannels; ++_) {\r\n                                            for (var O = h[T + _], M = 0; M < c; ++M) d[N + M] += O * f[F + M];\r\n                                            N += c, F += c;\r\n                                        }\r\n                                }\r\n                    }\r\n            return l.toTensor()\r\n        }, o.prototype.depthwiseConv2DDerInput = function(t, e, n) {\r\n            Hh([t, e], \"depthwiseConv2DDerInput\");\r\n            for (var r = dr(n.inShape, \"float32\"), o = r.values, a = r.strides, i = a[0], s = a[1], u = a[2], c = this.readSync(t.dataId), l = t.strides, h = l[0], f = l[1], d = l[2], p = this.readSync(e.dataId), v = e.strides, m = v[0], g = v[1], y = v[2], x = n.batchSize, b = n.filterHeight, w = n.filterWidth, C = n.inChannels, E = n.inHeight, R = n.inWidth, I = n.outChannels, k = n.outHeight, S = n.outWidth, A = n.strideHeight, D = n.strideWidth, T = b - 1 - n.padInfo.top, N = w - 1 - n.padInfo.left, F = I / C, _ = 0; _ < x; ++_)\r\n                for (var O = 0; O < C; ++O)\r\n                    for (var M = 0; M < E; ++M)\r\n                        for (var B = M - T, P = Math.max(0, Math.ceil(B / A)), L = Math.min(k, (b + B) / A), W = 0; W < R; ++W) {\r\n                            for (var U = W - N, V = Math.max(0, Math.ceil(U / D)), z = Math.min(S, (w + U) / D), G = 0, H = P; H < L; ++H)\r\n                                for (var q = H * A - B, K = V; K < z; ++K)\r\n                                    for (var j = h * _ + f * H + d * K, X = m * (b - 1 - q) + g * (w - 1 - (K * D - U)) + y * O, Y = 0; Y < F; ++Y) { G += c[j + (O * F + Y)] * p[X + Y]; }\r\n                            o[i * _ + s * M + u * W + O] = G;\r\n                        }\r\n            return r.toTensor()\r\n        }, o.prototype.depthwiseConv2DDerFilter = function(t, e, n) {\r\n            Hh([t, e], \"depthwiseConv2DDerFilter\");\r\n            for (var r = n.strideHeight, o = n.strideWidth, a = n.filterHeight, i = n.filterWidth, s = dr(n.filterShape, \"float32\"), u = n.padInfo.left, c = n.padInfo.top, l = n.outChannels / n.inChannels, h = this.bufferSync(t), f = this.bufferSync(e), d = 0; d < a; ++d)\r\n                for (var p = Math.max(0, Math.ceil((c - d) / r)), v = Math.min(n.outHeight, (n.inHeight + c - d) / r), m = 0; m < i; ++m)\r\n                    for (var g = Math.max(0, Math.ceil((u - m) / o)), y = Math.min(n.outWidth, (n.inWidth + u - m) / o), x = 0; x < n.outChannels; ++x) {\r\n                        for (var b = Math.trunc(x / l), w = x % l, C = 0, E = 0; E < n.batchSize; ++E)\r\n                            for (var R = p; R < v; ++R)\r\n                                for (var I = d + R * r - c, k = g; k < y; ++k) {\r\n                                    var S = m + k * o - u;\r\n                                    C += h.get(E, I, S, b) * f.get(E, R, k, x);\r\n                                }\r\n                        s.set(C, d, m, b, w);\r\n                    }\r\n            return s.toTensor()\r\n        }, o.prototype.tile = function(t, e) { return Hh(t, \"tile\"), ta(this.bufferSync(t), e) }, o.prototype.pad = function(t, e, n) {\r\n            Hh(t, \"pad\");\r\n            var r = e.map((function(e, n) { return e[0] + t.shape[n] + e[1] })),\r\n                o = e.map((function(t) { return t[0] })),\r\n                a = this.bufferSync(t),\r\n                i = dr(r, t.dtype);\r\n            0 !== n && i.values.fill(n);\r\n            for (var s = 0; s < t.size; s++) {\r\n                var u = a.indexToLoc(s),\r\n                    c = u.map((function(t, e) { return t + o[e] }));\r\n                i.set.apply(i, [a.get.apply(a, u)].concat(c));\r\n            }\r\n            return i.toTensor()\r\n        }, o.prototype.transpose = function(t, e) {\r\n            Hh(t, \"transpose\");\r\n            for (var n = new Array(t.rank), r = 0; r < n.length; r++) n[r] = t.shape[e[r]];\r\n            var o = this.readSync(t.dataId),\r\n                a = dr(n, t.dtype),\r\n                i = this.bufferSync(t);\r\n            for (r = 0; r < t.size; ++r) {\r\n                for (var s = i.indexToLoc(r), u = new Array(s.length), c = 0; c < u.length; c++) u[c] = s[e[c]];\r\n                var l = a.locToIndex(u);\r\n                a.values[l] = o[r];\r\n            }\r\n            return a.toTensor()\r\n        }, o.prototype.gather = function(t, e, n) {\r\n            Hh([t, e], \"gather\");\r\n            var r = t.shape.slice(),\r\n                o = this.readSync(e.dataId);\r\n            r[n] = o.length;\r\n            for (var a = dr(r, t.dtype), i = this.bufferSync(t), s = 0; s < a.size; ++s) {\r\n                var u = a.indexToLoc(s),\r\n                    c = u.slice();\r\n                c[n] = o[u[n]];\r\n                var l = i.locToIndex(c);\r\n                a.values[s] = i.values[l];\r\n            }\r\n            return a.toTensor()\r\n        }, o.prototype.batchToSpaceND = function(t, e, n) {\r\n            Hh([t], \"batchToSpaceND\");\r\n            var r = e.reduce((function(t, e) { return t * e })),\r\n                o = zr(t.shape, e, r),\r\n                a = Gr(o.length, e.length),\r\n                i = Hr(t.shape, e, r),\r\n                s = qr(n, e.length),\r\n                u = Kr(i, n, e.length);\r\n            return t.reshape(o).transpose(a).reshape(i).slice(s, u)\r\n        }, o.prototype.spaceToBatchND = function(t, e, n) {\r\n            Hh([t], \"spaceToBatchND\");\r\n            var r = e.reduce((function(t, e) { return t * e })),\r\n                o = [\r\n                    [0, 0]\r\n                ];\r\n            o.push.apply(o, n);\r\n            for (var a = 1 + e.length; a < t.shape.length; ++a) o.push([0, 0]);\r\n            var i = t.pad(o),\r\n                s = zr(i.shape, e, r, !1),\r\n                u = Gr(s.length, e.length, !1),\r\n                c = Hr(i.shape, e, r, !1);\r\n            return i.reshape(s).transpose(u).reshape(c)\r\n        }, o.prototype.pool = function(t, e, n) {\r\n            Hh(t, \"pool\");\r\n            for (var r = e.strideHeight, o = e.strideWidth, a = e.dilationHeight, i = e.dilationWidth, s = e.effectiveFilterHeight, u = e.effectiveFilterWidth, c = e.padInfo.top, l = e.padInfo.left, h = \"max\" === n ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY, f = this.readSync(t.dataId), d = dr(e.outShape, t.dtype), p = d.values, v = e.outShape[1] * e.outShape[2] * e.outShape[3], m = e.outShape[2] * e.outShape[3], g = e.outShape[3], y = 0; y < e.batchSize; ++y)\r\n                for (var x = y * v, b = y * t.strides[0], w = 0; w < e.inChannels; ++w)\r\n                    for (var C = 0; C < e.outHeight; ++C)\r\n                        for (var E = C * r - c, R = Math.max(0, E), I = Math.min(e.inHeight, s + E), k = x + C * m, S = 0; S < e.outWidth; ++S) {\r\n                            for (var A = S * o - l, D = Math.max(0, A), T = Math.min(e.inWidth, u + A), N = h, F = 0, _ = 0, O = R; O < I; O += a) { for (var M = b + O * t.strides[1], B = D; B < T; B += i) { var P = f[M + B * t.strides[2] + w]; \"max\" === n && P > N ? N = P : \"avg\" === n && (F += P, _++); } if (isNaN(N)) break }\r\n                            p[k + S * g + w] = \"avg\" === n ? F / _ : N;\r\n                        }\r\n            return d.toTensor()\r\n        }, o.prototype.maxPool = function(t, e) { return this.pool(t, e, \"max\") }, o.prototype.maxPoolPositions = function(t, e) {\r\n            for (var n = dr(e.outShape, \"int32\"), r = e.strideHeight, o = e.strideWidth, a = e.dilationHeight, i = e.dilationWidth, s = e.effectiveFilterHeight, u = e.effectiveFilterWidth, c = e.padInfo.top, l = e.padInfo.left, h = this.bufferSync(t), f = 0; f < e.batchSize; ++f)\r\n                for (var d = 0; d < e.inChannels; ++d)\r\n                    for (var p = 0; p < e.outHeight; ++p) {\r\n                        for (var v = p * r - c, m = v; m < 0;) m += a;\r\n                        for (var g = Math.min(e.inHeight, s + v), y = 0; y < e.outWidth; ++y) {\r\n                            for (var x = y * o - l, b = x; b < 0;) b += i;\r\n                            for (var w = Math.min(e.inWidth, u + x), C = Number.NEGATIVE_INFINITY, E = -1, R = m; R < g; R += a)\r\n                                for (var I = R - v, k = b; k < w; k += i) {\r\n                                    var S = k - x,\r\n                                        A = h.get(f, R, k, d);\r\n                                    A > C && (C = A, E = I * u + S);\r\n                                }\r\n                            n.set(E, f, p, y, d);\r\n                        }\r\n                    }\r\n            return n.toTensor()\r\n        }, o.prototype.maxPoolBackprop = function(t, e, n, r) {\r\n            Hh([e, n], \"maxPoolBackprop\");\r\n            for (var o = this.maxPoolPositions(e, r), a = r.strideHeight, i = r.strideWidth, s = r.dilationHeight, u = r.dilationWidth, c = r.effectiveFilterHeight, l = r.effectiveFilterWidth, h = l - 1 - r.padInfo.left, f = c - 1 - r.padInfo.top, d = dr(e.shape, \"float32\"), p = this.bufferSync(o), v = this.bufferSync(t), m = 0; m < r.batchSize; ++m)\r\n                for (var g = 0; g < r.inChannels; ++g)\r\n                    for (var y = 0; y < r.inHeight; ++y)\r\n                        for (var x = 0; x < r.inWidth; ++x) {\r\n                            for (var b = y - f, w = x - h, C = 0, E = 0; E < c; E += s) {\r\n                                var R = (b + E) / a;\r\n                                if (!(R < 0 || R >= r.outHeight || Math.floor(R) !== R))\r\n                                    for (var I = 0; I < l; I += u) { var k = (w + I) / i; if (!(k < 0 || k >= r.outWidth || Math.floor(k) !== k)) { var S = c * l - 1 - p.get(m, R, k, g) === E * l + I ? 1 : 0; if (0 !== S) C += v.get(m, R, k, g) * S; } }\r\n                            }\r\n                            d.set(C, m, y, x, g);\r\n                        }\r\n            return d.toTensor()\r\n        }, o.prototype.avgPoolBackprop = function(t, e, n) {\r\n            Hh([t, e], \"avgPoolBackprop\");\r\n            for (var r = n.strideHeight, o = n.strideWidth, a = n.filterHeight, i = n.filterWidth, s = n.dilationHeight, u = n.dilationWidth, c = n.effectiveFilterHeight, l = n.effectiveFilterWidth, h = l - 1 - n.padInfo.left, f = c - 1 - n.padInfo.top, d = dr(e.shape, \"float32\"), p = 1 / (a * i), v = this.bufferSync(t), m = 0; m < n.batchSize; ++m)\r\n                for (var g = 0; g < n.inChannels; ++g)\r\n                    for (var y = 0; y < n.inHeight; ++y)\r\n                        for (var x = 0; x < n.inWidth; ++x) {\r\n                            for (var b = y - f, w = x - h, C = 0, E = 0; E < c; E += s) {\r\n                                var R = (b + E) / r;\r\n                                if (!(R < 0 || R >= n.outHeight || Math.floor(R) !== R))\r\n                                    for (var I = 0; I < l; I += u) { var k = (w + I) / o; if (!(k < 0 || k >= n.outWidth || Math.floor(k) !== k)) C += v.get(m, R, k, g); }\r\n                            }\r\n                            d.set(C * p, m, y, x, g);\r\n                        }\r\n            return d.toTensor()\r\n        }, o.prototype.pool3d = function(t, e, n) {\r\n            Hh(t, \"pool3d\");\r\n            for (var r = e.strideDepth, o = e.strideHeight, a = e.strideWidth, i = e.dilationDepth, s = e.dilationHeight, u = e.dilationWidth, c = e.effectiveFilterDepth, l = e.effectiveFilterHeight, h = e.effectiveFilterWidth, f = e.padInfo.front, d = e.padInfo.top, p = e.padInfo.left, v = \"max\" === n ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY, m = this.readSync(t.dataId), g = dr(e.outShape, t.dtype), y = g.values, x = e.outShape[1] * e.outShape[2] * e.outShape[3] * e.outShape[4], b = e.outShape[2] * e.outShape[3] * e.outShape[4], w = e.outShape[3] * e.outShape[4], C = e.outShape[4], E = 0; E < e.batchSize; ++E)\r\n                for (var R = E * x, I = E * t.strides[0], k = 0; k < e.inChannels; ++k)\r\n                    for (var S = 0; S < e.outDepth; ++S) {\r\n                        for (var A = S * r - f, D = A; D < 0;) D += i;\r\n                        for (var T = Math.min(e.inDepth, c + A), N = R + S * b, F = 0; F < e.outHeight; ++F) {\r\n                            for (var _ = F * o - d, O = _; O < 0;) O += s;\r\n                            for (var M = Math.min(e.inHeight, l + _), B = N + F * w, P = 0; P < e.outWidth; ++P) {\r\n                                for (var L = P * a - p, W = L; W < 0;) W += u;\r\n                                for (var U = Math.min(e.inWidth, h + L), V = B + P * C, z = v, G = 0, H = 0, q = D; q < T; q += i) { for (var K = I + q * t.strides[1], j = O; j < M; j += s) { for (var X = K + j * t.strides[2], Y = W; Y < U; Y += u) { var $ = m[X + Y * t.strides[3] + k]; if (\"max\" === n && $ > z ? z = $ : \"avg\" === n && (G += $, H++), isNaN(z)) break } if (isNaN(z)) break } if (isNaN(z)) break }\r\n                                y[V + k] = \"avg\" === n ? G / H : z;\r\n                            }\r\n                        }\r\n                    }\r\n            return g.toTensor()\r\n        }, o.prototype.avgPool3d = function(t, e) { return Hh(t, \"avgPool3d\"), this.pool3d(t, e, \"avg\").toFloat() }, o.prototype.avgPool3dBackprop = function(t, e, n) {\r\n            Hh([t, e], \"avgPool3dBackprop\");\r\n            for (var r = n.strideDepth, o = n.strideHeight, a = n.strideWidth, i = n.filterDepth, s = n.filterHeight, u = n.filterWidth, c = n.dilationDepth, l = n.dilationHeight, h = n.dilationWidth, f = n.effectiveFilterDepth, d = n.effectiveFilterHeight, p = n.effectiveFilterWidth, v = f - 1 - n.padInfo.front, m = p - 1 - n.padInfo.left, g = d - 1 - n.padInfo.top, y = dr(e.shape, \"float32\"), x = 1 / (i * s * u), b = this.bufferSync(t), w = 0; w < n.batchSize; ++w)\r\n                for (var C = 0; C < n.inChannels; ++C)\r\n                    for (var E = 0; E < n.inDepth; ++E)\r\n                        for (var R = 0; R < n.inHeight; ++R)\r\n                            for (var I = 0; I < n.inWidth; ++I) {\r\n                                for (var k = E - v, S = R - g, A = I - m, D = 0, T = 0; T < f; T += c) {\r\n                                    var N = (k + T) / r;\r\n                                    if (!(N < 0 || N >= n.outDepth || Math.floor(N) !== N))\r\n                                        for (var F = 0; F < d; F += l) {\r\n                                            var _ = (S + F) / o;\r\n                                            if (!(_ < 0 || _ >= n.outHeight || Math.floor(_) !== _))\r\n                                                for (var O = 0; O < p; O += h) { var M = (A + O) / a; if (!(M < 0 || M >= n.outWidth || Math.floor(M) !== M)) D += b.get(w, N, _, M, C); }\r\n                                        }\r\n                                }\r\n                                y.set(D * x, w, E, R, I, C);\r\n                            }\r\n            return y.toTensor()\r\n        }, o.prototype.maxPool3d = function(t, e) { return Hh(t, \"maxPool3d\"), this.pool3d(t, e, \"max\").toFloat() }, o.prototype.maxPool3dPositions = function(t, e) {\r\n            for (var n = dr(e.outShape, \"int32\"), r = e.strideDepth, o = e.strideHeight, a = e.strideWidth, i = e.dilationDepth, s = e.dilationHeight, u = e.dilationWidth, c = e.effectiveFilterDepth, l = e.effectiveFilterHeight, h = e.effectiveFilterWidth, f = e.padInfo.front, d = e.padInfo.top, p = e.padInfo.left, v = this.bufferSync(t), m = 0; m < e.batchSize; ++m)\r\n                for (var g = 0; g < e.inChannels; ++g)\r\n                    for (var y = 0; y < e.outDepth; ++y) {\r\n                        for (var x = y * r - f, b = x; b < 0;) b += i;\r\n                        for (var w = Math.min(e.inDepth, c + x), C = 0; C < e.outHeight; ++C) {\r\n                            for (var E = C * o - d, R = E; R < 0;) R += s;\r\n                            for (var I = Math.min(e.inHeight, l + E), k = 0; k < e.outWidth; ++k) {\r\n                                for (var S = k * a - p, A = S; A < 0;) A += u;\r\n                                for (var D = Math.min(e.inWidth, h + S), T = Number.NEGATIVE_INFINITY, N = -1, F = b; F < w; F += i)\r\n                                    for (var _ = F - x, O = R; O < I; O += s)\r\n                                        for (var M = O - E, B = A; B < D; B += u) {\r\n                                            var P = B - S,\r\n                                                L = v.get(m, F, O, B, g);\r\n                                            L >= T && (T = L, N = _ * l * h + M * l + P);\r\n                                        }\r\n                                n.set(N, m, y, C, k, g);\r\n                            }\r\n                        }\r\n                    }\r\n            return n.toTensor()\r\n        }, o.prototype.maxPool3dBackprop = function(t, e, n, r) {\r\n            Hh([e, n], \"maxPool3dBackprop\");\r\n            for (var o = this.maxPool3dPositions(e, r), a = r.strideDepth, i = r.strideHeight, s = r.strideWidth, u = r.dilationDepth, c = r.dilationHeight, l = r.dilationWidth, h = r.effectiveFilterDepth, f = r.effectiveFilterHeight, d = r.effectiveFilterWidth, p = h - 1 - r.padInfo.front, v = d - 1 - r.padInfo.left, m = f - 1 - r.padInfo.top, g = dr(e.shape, \"float32\"), y = this.bufferSync(o), x = this.bufferSync(t), b = 0; b < r.batchSize; ++b)\r\n                for (var w = 0; w < r.inChannels; ++w)\r\n                    for (var C = 0; C < r.inDepth; ++C)\r\n                        for (var E = 0; E < r.inHeight; ++E)\r\n                            for (var R = 0; R < r.inWidth; ++R) {\r\n                                for (var I = C - p, k = E - m, S = R - v, A = 0, D = 0; D < h; D += u) {\r\n                                    var T = (I + D) / a;\r\n                                    if (!(T < 0 || T >= r.outDepth || Math.floor(T) !== T))\r\n                                        for (var N = 0; N < f; N += c) {\r\n                                            var F = (k + N) / i;\r\n                                            if (!(F < 0 || F >= r.outHeight || Math.floor(F) !== F))\r\n                                                for (var _ = 0; _ < d; _ += l) { var O = (S + _) / s; if (!(O < 0 || O >= r.outWidth || Math.floor(O) !== O)) { var M = h * f * d - 1 - y.get(b, T, F, O, w) === D * f * d + N * d + _ ? 1 : 0; if (0 !== M) A += x.get(b, T, F, O, w) * M; } }\r\n                                        }\r\n                                }\r\n                                g.set(A, b, C, E, R, w);\r\n                            }\r\n            return g.toTensor()\r\n        }, o.prototype.cast = function(t, e) { return Po(t, e, this) }, o.prototype.reshape = function(t, e) { return Lo(t, e) }, o.prototype.avgPool = function(t, e) { return Hh(t, \"avgPool\"), this.pool(t, e, \"avg\").toFloat() }, o.prototype.resizeBilinear = function(t, e, n, r) {\r\n            Hh(t, \"resizeBilinear\");\r\n            for (var o = t.shape, a = o[0], i = o[1], s = o[2], u = o[3], c = this.readSync(t.dataId), l = new Float32Array(k([a, e, n, u])), h = [r && e > 1 ? i - 1 : i, r && n > 1 ? s - 1 : s], f = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n], d = 0, p = h[0] / f[0], v = h[1] / f[1], m = 0; m < a; m++)\r\n                for (var g = 0; g < e; g++)\r\n                    for (var y = p * g, x = Math.floor(y), b = y - x, w = Math.min(i - 1, Math.ceil(y)), C = m * t.strides[0] + x * t.strides[1], E = m * t.strides[0] + w * t.strides[1], R = 0; R < n; R++)\r\n                        for (var I = v * R, S = Math.floor(I), A = I - S, D = Math.min(s - 1, Math.ceil(I)), T = C + S * t.strides[2], N = E + S * t.strides[2], F = C + D * t.strides[2], _ = E + D * t.strides[2], O = 0; O < u; O++) {\r\n                            var M = c[T + O],\r\n                                B = c[N + O],\r\n                                P = M + (c[F + O] - M) * A,\r\n                                L = P + (B + (c[_ + O] - B) * A - P) * b;\r\n                            l[d++] = L;\r\n                        }\r\n            return Fn(l, [a, e, n, u])\r\n        }, o.prototype.resizeBilinearBackprop = function(t, e, n) {\r\n            Hh([t, e], \"resizeBilinearBackprop\");\r\n            for (var r = e.shape, o = r[0], a = r[1], i = r[2], s = r[3], u = t.shape, c = u[1], l = u[2], h = new Float32Array(o * a * i * s), f = [n && c > 1 ? a - 1 : a, n && l > 1 ? i - 1 : i], d = [n && c > 1 ? c - 1 : c, n && l > 1 ? l - 1 : l], p = f[0] / d[0], v = f[1] / d[1], m = this.readSync(t.dataId), g = 0, y = 0; y < o; y++)\r\n                for (var x = y * e.strides[0], b = 0; b < c; b++)\r\n                    for (var w = b * p, C = Math.floor(w), E = Math.min(Math.ceil(w), a - 1), R = x + C * e.strides[1], I = x + E * e.strides[1], k = w - C, S = 1 - k, A = 0; A < l; A++)\r\n                        for (var D = A * v, T = Math.floor(D), N = Math.min(Math.ceil(D), i - 1), F = D - T, _ = 1 - F, O = R + T * e.strides[2], M = R + N * e.strides[2], B = I + T * e.strides[2], P = I + N * e.strides[2], L = S * _, W = S * F, U = k * _, V = k * F, z = 0; z < s; z++) {\r\n                            var G = m[g++];\r\n                            h[O + z] += G * L, h[M + z] += G * W, h[B + z] += G * U, h[P + z] += G * V;\r\n                        }\r\n            return Ln(h, [o, i, a, s], e.dtype)\r\n        }, o.prototype.resizeNearestNeighbor = function(t, e, n, r) {\r\n            Hh(t, \"resizeNearestNeighbor\");\r\n            for (var o = t.shape, a = o[0], i = o[1], s = o[2], u = o[3], c = this.readSync(t.dataId), l = new Float32Array(a * e * n * u), h = [r && e > 1 ? i - 1 : i, r && n > 1 ? s - 1 : s], f = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n], d = h[0] / f[0], p = h[1] / f[1], v = 0, m = 0; m < a; m++)\r\n                for (var g = m * t.strides[0], y = 0; y < e; y++)\r\n                    for (var x = d * y, b = g + Math.min(i - 1, r ? Math.round(x) : Math.floor(x)) * t.strides[1], w = 0; w < n; w++)\r\n                        for (var C = p * w, E = b + Math.min(s - 1, r ? Math.round(C) : Math.floor(C)) * t.strides[2], R = 0; R < u; R++) {\r\n                            var I = c[E + R];\r\n                            l[v++] = I;\r\n                        }\r\n            return Fn(l, [a, e, n, u], t.dtype)\r\n        }, o.prototype.resizeNearestNeighborBackprop = function(t, e, n) {\r\n            Hh([t, e], \"resizeNearestNeighborBackprop\");\r\n            for (var r = e.shape, o = r[0], a = r[1], i = r[2], s = r[3], u = t.shape, c = u[1], l = u[2], h = new Float32Array(o * a * i * s), f = this.readSync(t.dataId), d = [n && c > 1 ? a - 1 : a, n && l > 1 ? i - 1 : i], p = [n && c > 1 ? c - 1 : c, n && l > 1 ? l - 1 : l], v = d[0] / p[0], m = d[1] / p[1], g = 1 / v, y = 1 / m, x = 2 * Math.ceil(g) + 2, b = 2 * Math.ceil(y) + 2, w = 0; w < o; w++)\r\n                for (var C = w * e.strides[0], E = 0; E < a; E++)\r\n                    for (var R = C + E * e.strides[1], I = Math.floor(E * g), k = Math.floor(I - x / 2), S = 0; S < i; S++)\r\n                        for (var A = R + S * e.strides[2], D = Math.floor(S * y), T = Math.floor(D - b / 2), N = 0; N < s; N++) {\r\n                            for (var F = 0, _ = 0; _ < x; _++) {\r\n                                var O = _ + k;\r\n                                if (!(O < 0 || O >= c)) {\r\n                                    var M = C + O * t.strides[1],\r\n                                        B = O * v;\r\n                                    if (E === Math.min(a - 1, n ? Math.round(B) : Math.floor(B)))\r\n                                        for (var P = 0; P < b; P++) {\r\n                                            var L = P + T;\r\n                                            if (!(L < 0 || L >= l)) {\r\n                                                var W = M + L * t.strides[2],\r\n                                                    U = L * m;\r\n                                                S === Math.min(i - 1, n ? Math.round(U) : Math.floor(U)) && (F += f[W + N]);\r\n                                            }\r\n                                        }\r\n                                }\r\n                            }\r\n                            h[A + N] = F;\r\n                        }\r\n            return Ln(h, e.shape, e.dtype)\r\n        }, o.prototype.batchNormalization = function(t, e, n, r, o, a) { Hh([t, e, n, o, a], \"batchNorm\"); for (var i = this.readSync(t.dataId), s = this.readSync(e.dataId), u = this.readSync(n.dataId), c = o ? this.readSync(o.dataId) : new Float32Array([1]), l = a ? this.readSync(a.dataId) : new Float32Array([0]), h = new Float32Array(i.length), f = l.length, d = c.length, p = u.length, v = s.length, m = 0, g = 0, y = 0, x = 0, b = 0; b < i.length; ++b) h[b] = l[m++] + (i[b] - s[g++]) * c[y++] / Math.sqrt(u[x++] + r), m >= f && (m = 0), g >= v && (g = 0), y >= d && (y = 0), x >= p && (x = 0); return Ln(h, t.shape) }, o.prototype.localResponseNormalization4D = function(t, e, n, r, o) {\r\n            Hh(t, \"localResponseNormalization4D\");\r\n            var a = t.shape[3],\r\n                i = a - 1,\r\n                s = this.readSync(t.dataId),\r\n                u = t.size,\r\n                c = new Float32Array(u);\r\n\r\n            function l(t) {\r\n                for (var n = t % a, r = t - n + Math.max(0, n - e), o = t - n + Math.min(n + e, i), u = 0; r <= o; r++) {\r\n                    var c = s[r];\r\n                    u += c * c;\r\n                }\r\n                return u\r\n            }\r\n            for (var h = 0; h < u; h++) {\r\n                var f = l(h),\r\n                    d = s[h] * Math.pow(n + r * f, -o);\r\n                c[h] = d;\r\n            }\r\n            return Ln(c, t.shape)\r\n        }, o.prototype.LRNGrad = function(t, e, n, r, o, a, i) {\r\n            Hh(t, \"LRNGrad\");\r\n            for (var s = t.shape[3], u = this.readSync(t.dataId), c = this.readSync(e.dataId), l = this.readSync(n.dataId), h = new Float32Array(t.size), f = t.size, d = 0; d < f; d++) {\r\n                for (var p = d % s, v = d - p + Math.max(0, p - r), m = d - p + Math.min(s, p + r + 1), g = 0, y = v; y < m; y++) g += Math.pow(c[y], 2);\r\n                g = a * g + o;\r\n                for (y = v; y < m; y++) {\r\n                    var x = -2 * a * i * c[y] * l[d] / g;\r\n                    d === y && (x += Math.pow(g, -i)), x *= u[d], h[y] += x;\r\n                }\r\n            }\r\n            return Ln(h, t.shape)\r\n        }, o.prototype.multinomial = function(t, e, n, r) {\r\n            Hh(t, \"multinomial\");\r\n            for (var o = e ? t : go(t), a = o.shape[0], i = o.shape[1], s = Gn([a, n], \"int32\"), u = this.readSync(s.dataId), c = this.readSync(o.dataId), l = 0; l < a; ++l) {\r\n                var h = l * i,\r\n                    f = new Float32Array(i - 1);\r\n                f[0] = c[h];\r\n                for (var d = 1; d < f.length; ++d) f[d] = f[d - 1] + c[h + d];\r\n                for (var p = cr(r.toString()), v = l * n, m = 0; m < n; ++m) {\r\n                    var g = p();\r\n                    u[v + m] = f.length;\r\n                    for (var y = 0; y < f.length; y++)\r\n                        if (g < f[y]) { u[v + m] = y; break }\r\n                }\r\n            }\r\n            return s\r\n        }, o.prototype.oneHot = function(t, e, n, r) {\r\n            Hh(t, \"oneHot\");\r\n            var o = new Float32Array(t.size * e);\r\n            o.fill(r);\r\n            for (var a = this.readSync(t.dataId), i = 0; i < t.size; ++i) a[i] >= 0 && a[i] < e && (o[i * e + a[i]] = n);\r\n            return Bn(o, [t.size, e], \"int32\")\r\n        }, o.prototype.nonMaxSuppression = function(t, e, n, r, o) { return Hh(t, \"nonMaxSuppression\"), jo(this.readSync(t.dataId), this.readSync(e.dataId), n, r, o) }, o.prototype.fft = function(t) { return this.fftBatch(t, !1) }, o.prototype.ifft = function(t) { return this.fftBatch(t, !0) }, o.prototype.fftBatch = function(t, e) {\r\n            for (var n = t.shape[0], r = t.shape[1], o = dr(t.shape, \"float32\"), a = dr(t.shape, \"float32\"), i = Tn(t).as2D(n, r), s = Nn(t).as2D(n, r), u = 0; u < n; u++)\r\n                for (var c = i.slice([u, 0], [1, r]), l = s.slice([u, 0], [1, r]), h = Dn(c, l), f = this.readSync(this.fftImpl(h, e).dataId), d = 0; d < r; d++) {\r\n                    var p = zo(f, d);\r\n                    o.values[u * r + d] = p.real, a.values[u * r + d] = p.imag;\r\n                }\r\n            return Dn(o.toTensor(), a.toTensor()).as2D(n, r)\r\n        }, o.prototype.fftImpl = function(t, e) {\r\n            var n = t.as1D(),\r\n                r = n.size;\r\n            if (this.isExponentOf2(r)) { var o = this.fftRadix2(n, r, e).as2D(t.shape[0], t.shape[1]); return e && (o = Dn(Tn(o).div(On(r)), Nn(o).div(On(r)))), o }\r\n            var a = this.readSync(t.dataId),\r\n                i = function(t) { for (var e = new Float32Array(t.length / 2), n = new Float32Array(t.length / 2), r = 0; r < t.length; r += 2) e[r / 2] = t[r], n[r / 2] = t[r + 1]; return { real: e, imag: n } }(this.fourierTransformByMatmul(a, r, e));\r\n            return Dn(i.real, i.imag).as2D(t.shape[0], t.shape[1])\r\n        }, o.prototype.isExponentOf2 = function(t) { return 0 == (t & t - 1) }, o.prototype.fftRadix2 = function(t, e, n) {\r\n            if (1 === e) return t;\r\n            var r = this.readSync(t.dataId),\r\n                o = e / 2,\r\n                a = function(t) { for (var e = Math.ceil(t.length / 4), n = new Float32Array(e), r = new Float32Array(e), o = 0; o < t.length; o += 4) n[Math.floor(o / 4)] = t[o], r[Math.floor(o / 4)] = t[o + 1]; return { real: n, imag: r } }(r),\r\n                i = Dn(a.real, a.imag).as1D(),\r\n                s = function(t) { for (var e = Math.floor(t.length / 4), n = new Float32Array(e), r = new Float32Array(e), o = 2; o < t.length; o += 4) n[Math.floor(o / 4)] = t[o], r[Math.floor(o / 4)] = t[o + 1]; return { real: n, imag: r } }(r),\r\n                u = Dn(s.real, s.imag).as1D();\r\n            i = this.fftRadix2(i, o, n), u = this.fftRadix2(u, o, n);\r\n            var c = function(t, e) {\r\n                    for (var n = new Float32Array(t / 2), r = new Float32Array(t / 2), o = 0; o < Math.ceil(t / 2); o++) {\r\n                        var a = (e ? 2 : -2) * Math.PI * (o / t);\r\n                        n[o] = Math.cos(a), r[o] = Math.sin(a);\r\n                    }\r\n                    return { real: n, imag: r }\r\n                }(e, n),\r\n                l = Dn(c.real, c.imag).mul(u),\r\n                h = i.add(l),\r\n                f = i.sub(l),\r\n                d = Tn(h).concat(Tn(f)),\r\n                p = Nn(h).concat(Nn(f));\r\n            return Dn(d, p).as1D()\r\n        }, o.prototype.fourierTransformByMatmul = function(t, e, n) {\r\n            for (var r = new Float32Array(2 * e), o = 0; o < e; o++) {\r\n                for (var a = 0, i = 0, s = 0; s < e; s++) {\r\n                    var u = Ho(o * s, e, n),\r\n                        c = zo(t, s);\r\n                    a += c.real * u.real - c.imag * u.imag, i += c.real * u.imag + c.imag * u.real;\r\n                }\r\n                n && (a /= e, i /= e), Go(r, a, i, o);\r\n            }\r\n            return r\r\n        }, o.prototype.depthToSpace = function(t, e, n) {\r\n            C(\"NHWC\" === n, (function() { return \"Only NHWC dataFormat supported on CPU for depthToSpace. Got \" + n })), C(e > 1, (function() { return \"blockSize should be > 1 for depthToSpace, but was: \" + e }));\r\n            for (var r = t.shape[0], o = t.shape[1], a = t.shape[2], i = t.shape[3], s = o * e, u = a * e, c = i / (e * e), l = this.readSync(t.dataId), h = new Float32Array(r * s * u * c), f = 0, d = 0; d < r; ++d)\r\n                for (var p = 0; p < s; ++p)\r\n                    for (var v = Math.floor(p / e), m = p % e, g = 0; g < u; ++g)\r\n                        for (var y = Math.floor(g / e), x = (m * e + g % e) * c, b = 0; b < c; ++b) {\r\n                            var w = b + x + i * (y + a * (v + o * d));\r\n                            h[f++] = l[w];\r\n                        }\r\n            return Ln(h, [r, s, u, c])\r\n        }, o.prototype.broadcastedBinaryOp = function(t, e, n, r) {\r\n            var o = Ro(t.shape, e.shape),\r\n                a = dr(o, n),\r\n                i = this.readSync(t.dataId),\r\n                s = this.readSync(e.dataId),\r\n                u = Co(t.shape, o),\r\n                c = Co(e.shape, o),\r\n                l = a.values;\r\n            if (u.length + c.length === 0)\r\n                for (var h = 0; h < l.length; ++h) l[h] = r(i[h % i.length], s[h % s.length]);\r\n            else {\r\n                var f = this.bufferSync(t),\r\n                    d = this.bufferSync(e),\r\n                    p = function(n) {\r\n                        var o = a.indexToLoc(n),\r\n                            h = o.slice(-t.rank);\r\n                        u.forEach((function(t) { return h[t] = 0 }));\r\n                        var p = f.locToIndex(h),\r\n                            v = o.slice(-e.rank);\r\n                        c.forEach((function(t) { return v[t] = 0 }));\r\n                        var m = d.locToIndex(v);\r\n                        l[n] = r(i[p], s[m]);\r\n                    };\r\n                for (h = 0; h < l.length; ++h) p(h);\r\n            }\r\n            return a.toTensor()\r\n        }, o.prototype.broadcastedBinaryComplexOp = function(t, e, n) {\r\n            var r = Ro(t.shape, e.shape),\r\n                o = dr(r, \"float32\"),\r\n                a = dr(r, \"float32\"),\r\n                i = this.readSync(t.dataId),\r\n                s = this.readSync(e.dataId),\r\n                u = Co(t.shape, r),\r\n                c = Co(e.shape, r),\r\n                l = o.values,\r\n                h = a.values;\r\n            if (u.length + c.length === 0)\r\n                for (var f = 0; f < l.length; f++) {\r\n                    var d = f % i.length,\r\n                        p = f % s.length,\r\n                        v = n(i[2 * d], i[2 * d + 1], s[2 * p], s[2 * p + 1]);\r\n                    l[f] = v.real, h[f] = v.imag;\r\n                } else {\r\n                    var m = this.bufferSync(this.data.get(t.dataId).complexTensors.real),\r\n                        g = this.bufferSync(this.data.get(e.dataId).complexTensors.real),\r\n                        y = function(r) {\r\n                            var a = o.indexToLoc(r),\r\n                                f = a.slice(-t.rank);\r\n                            u.forEach((function(t) { return f[t] = 0 }));\r\n                            var d = m.locToIndex(f),\r\n                                p = a.slice(-e.rank);\r\n                            c.forEach((function(t) { return p[t] = 0 }));\r\n                            var v = g.locToIndex(p),\r\n                                y = n(i[2 * d], i[2 * d + 1], s[2 * v], s[2 * v + 1]);\r\n                            l[r] = y.real, h[r] = y.imag;\r\n                        };\r\n                    for (f = 0; f < l.length; f++) y(f);\r\n                }\r\n            return this.complex(o.toTensor(), a.toTensor())\r\n        }, o.prototype.split = function(t, e, n) { return Zo(t, e, n) }, o.prototype.dispose = function() {}, o.prototype.floatPrecision = function() { return 32 }, o.prototype.epsilon = function() { return 1e-7 }, o.prototype.cropAndResize = function(t, e, n, r, o, a) {\r\n            for (var i = t.shape, s = i[0], u = i[1], c = i[2], l = i[3], h = e.shape[0], f = r[0], d = r[1], p = dr([h, f, d, l], \"float32\"), v = this.readSync(e.dataId), m = this.readSync(n.dataId), g = this.readSync(t.dataId), y = t.strides, x = p.strides, b = 0; b < h; b++) {\r\n                var w = 4 * b,\r\n                    C = v[w],\r\n                    E = v[w + 1],\r\n                    R = v[w + 2],\r\n                    I = v[w + 3],\r\n                    k = m[b];\r\n                if (!(k >= s))\r\n                    for (var S = f > 1 ? (R - C) * (u - 1) / (f - 1) : 0, A = d > 1 ? (I - E) * (c - 1) / (d - 1) : 0, D = 0; D < f; D++) {\r\n                        var T = f > 1 ? C * (u - 1) + D * S : .5 * (C + R) * (u - 1);\r\n                        if (T < 0 || T > u - 1)\r\n                            for (var N = 0; N < d; N++)\r\n                                for (var F = 0; F < l; F++) {\r\n                                    var _ = F + N * x[2] + D * x[1] + b * x[0];\r\n                                    p.values[_] = a;\r\n                                } else if (\"bilinear\" === o) {\r\n                                    var O = Math.floor(T),\r\n                                        M = Math.ceil(T),\r\n                                        B = T - O;\r\n                                    for (N = 0; N < d; N++) {\r\n                                        if ((q = d > 1 ? E * (c - 1) + N * A : .5 * (E + I) * (c - 1)) < 0 || q > c - 1)\r\n                                            for (F = 0; F < l; F++) {\r\n                                                _ = F + N * x[2] + D * x[1] + b * x[0];\r\n                                                p.values[_] = a;\r\n                                            } else {\r\n                                                var P = Math.floor(q),\r\n                                                    L = Math.ceil(q),\r\n                                                    W = q - P;\r\n                                                for (F = 0; F < l; F++) {\r\n                                                    var U = g[_ = F + P * y[2] + O * y[1] + k * y[0]],\r\n                                                        V = g[_ = F + L * y[2] + O * y[1] + k * y[0]],\r\n                                                        z = g[_ = F + P * y[2] + M * y[1] + k * y[0]],\r\n                                                        G = U + (V - U) * W,\r\n                                                        H = z + (g[_ = F + L * y[2] + M * y[1] + k * y[0]] - z) * W;\r\n                                                    _ = F + N * x[2] + D * x[1] + b * x[0], p.values[_] = G + (H - G) * B;\r\n                                                }\r\n                                            }\r\n                                    }\r\n                                } else\r\n                                    for (N = 0; N < d; ++N) {\r\n                                        var q;\r\n                                        if ((q = d > 1 ? E * (c - 1) + N * A : .5 * (E + I) * (c - 1)) < 0 || q > c - 1)\r\n                                            for (F = 0; F < l; F++) {\r\n                                                _ = F + N * x[2] + D * x[1] + b * x[0];\r\n                                                p.values[_] = a;\r\n                                            } else {\r\n                                                var K = Math.round(q),\r\n                                                    j = Math.round(T);\r\n                                                for (F = 0; F < l; F++) {\r\n                                                    var X = F + K * y[2] + j * y[1] + k * y[0],\r\n                                                        Y = F + N * x[2] + D * x[1] + b * x[0];\r\n                                                    p.values[Y] = g[X];\r\n                                                }\r\n                                            }\r\n                                    }\r\n                    }\r\n            }\r\n            return p.toTensor()\r\n        }, o.prototype.sparseToDense = function(t, e, n, r) {\r\n            var o = Zr(0, t, n),\r\n                a = o.sliceRank,\r\n                i = o.numUpdates,\r\n                s = o.sliceSize,\r\n                u = o.strides,\r\n                c = o.outputSize;\r\n            return this.scatter(t, e, n, c, s, i, a, u, r, !1)\r\n        }, o.prototype.gatherND = function(t, e) {\r\n            var n = e.shape,\r\n                r = n[n.length - 1],\r\n                o = jr(t, e),\r\n                a = o[0],\r\n                i = o[1],\r\n                s = o[2],\r\n                u = o[3];\r\n            if (0 === i) return Fn([], a, t.dtype);\r\n            for (var c = new gt([i, s], t.dtype), l = this.readSync(e.dataId), h = this.readSync(t.dataId), f = 0; f < i; f++) {\r\n                for (var d = [], p = 0, v = 0; v < r; v++) {\r\n                    var m = l[f * r + v];\r\n                    p += m * u[v], d.push(m);\r\n                }\r\n                if (p < 0 || p >= t.size / s) throw new Error(\"Invalid indices: \" + d + \" does not index into \" + t.shape);\r\n                for (var g = 0; g < s; g++) c.values[f * s + g] = h[p * s + g];\r\n            }\r\n            return c.toTensor().reshape(a)\r\n        }, o.prototype.scatterND = function(t, e, n) {\r\n            var r = Zr(0, t, n),\r\n                o = r.sliceRank,\r\n                a = r.numUpdates,\r\n                i = r.sliceSize,\r\n                s = r.strides,\r\n                u = r.outputSize,\r\n                c = On(0);\r\n            return this.scatter(t, e, n, u, i, a, o, s, c, !0)\r\n        }, o.prototype.fill = function(t, e, n) { var r = P(n = n || j(e), k(t)); return r.fill(e), Lt.makeTensor(r, t, n, this) }, o.prototype.onesLike = function(t) { if (\"string\" === t.dtype) throw new Error(\"onesLike is not supported for string tensors\"); return this.fill(t.shape, 1, t.dtype) }, o.prototype.zerosLike = function(t) { var e = P(t.dtype, k(t.shape)); return this.makeOutput(e, t.shape, t.dtype) }, o.prototype.linspace = function(t, e, n) { return Wo(t, e, n) }, o.prototype.scatter = function(t, e, n, r, o, a, i, s, u, c) {\r\n            var l = [r / o, o],\r\n                h = this.readSync(t.dataId),\r\n                f = this.readSync(e.dataId);\r\n            if (0 === r) return Fn([], n, e.dtype);\r\n            var d = new gt(l, e.dtype);\r\n            d.values.fill(this.readSync(u.dataId)[0]);\r\n            for (var p = 0; p < a; p++) {\r\n                for (var v = [], m = 0, g = 0; g < i; g++) {\r\n                    var y = h[p * i + g];\r\n                    v.push(y), m += y * s[g];\r\n                }\r\n                if (m < 0 || m >= r / o) throw new Error(\"Invalid indices: \" + v + \" does not index into \" + n);\r\n                for (var x = 0; x < o; x++) c ? d.values[m * o + x] += f[p * o + x] : d.values[m * o + x] = 0 === e.rank ? f[0] : f[p * o + x];\r\n            }\r\n            return d.toTensor().reshape(n)\r\n        }, o\r\n    }(bo);\r\n    Lt.registerBackend(\"cpu\", (function() { return new Kh }), 1);\r\n    for (var jh = 0, Xh = [{\r\n            kernelName: \"NonMaxSuppressionV5\",\r\n            backendName: \"cpu\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = t.attrs,\r\n                    o = e,\r\n                    a = o.boxes,\r\n                    i = o.scores,\r\n                    s = r,\r\n                    u = s.maxOutputSize,\r\n                    c = s.iouThreshold,\r\n                    l = s.scoreThreshold,\r\n                    h = s.softNmsSigma,\r\n                    f = n;\r\n                Hh(a, \"NonMaxSuppressionWithScore\");\r\n                var d = Xo(f.data.get(a.dataId).values, f.data.get(i.dataId).values, u, c, l, h);\r\n                return [d.selectedIndices, d.selectedScores]\r\n            }\r\n        }, {\r\n            kernelName: \"Square\",\r\n            backendName: \"cpu\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = e.x,\r\n                    o = n;\r\n                Hh(r, \"square\");\r\n                for (var a = o.data.get(r.dataId).values, i = new Float32Array(a.length), s = 0; s < a.length; ++s) {\r\n                    var u = a[s];\r\n                    i[s] = u * u;\r\n                }\r\n                return { dataId: o.write(i, r.shape, r.dtype), shape: r.shape, dtype: r.dtype }\r\n            }\r\n        }, {\r\n            kernelName: eu,\r\n            backendName: \"cpu\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = e,\r\n                    o = r.a,\r\n                    a = r.b,\r\n                    i = n;\r\n                Hh([o, a], eu);\r\n                var s = i.data.get(o.dataId).values,\r\n                    u = i.data.get(a.dataId).values,\r\n                    c = function(t, e, n, r, o, a) {\r\n                        var i = Ro(t, e),\r\n                            s = i.length,\r\n                            u = $(i),\r\n                            c = B(o, k(i)),\r\n                            l = t.length,\r\n                            h = e.length,\r\n                            f = $(t),\r\n                            d = $(e),\r\n                            p = Co(t, i),\r\n                            v = Co(e, i);\r\n                        if (p.length + v.length === 0)\r\n                            for (var m = 0; m < c.length; ++m) c[m] = a(n[m % n.length], r[m % r.length]);\r\n                        else {\r\n                            var g = function(t) {\r\n                                var e = it(t, s, u),\r\n                                    o = e.slice(-l);\r\n                                p.forEach((function(t) { return o[t] = 0 }));\r\n                                var i = at(o, l, f),\r\n                                    m = e.slice(-h);\r\n                                v.forEach((function(t) { return m[t] = 0 }));\r\n                                var g = at(m, h, d);\r\n                                c[t] = a(n[i], r[g]);\r\n                            };\r\n                            for (m = 0; m < c.length; ++m) g(m);\r\n                        }\r\n                        return [c, i]\r\n                    }(o.shape, a.shape, s, u, o.dtype, (function(t, e) { var n = t - e; return n * n })),\r\n                    l = c[0],\r\n                    h = c[1];\r\n                return { dataId: i.write(l, h, o.dtype), shape: h, dtype: o.dtype }\r\n            }\r\n        }]; jh < Xh.length; jh++) { d(Xh[jh]); }\r\n    var Yh, $h = function(t) {\r\n            this.variableNames = [\"A\"];\r\n            var e = ua(),\r\n                n = t[0],\r\n                r = t[1];\r\n            this.outputShape = t, this.userCode = \"\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int texR = coords[0];\\n        int texC = coords[1];\\n        int depth = coords[2];\\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\" + r + \".0, \" + n + \".0);\\n\\n        vec4 values = \" + e.texture2D + \"(A, uv);\\n        float value;\\n        if (depth == 0) {\\n          value = values.r;\\n        } else if (depth == 1) {\\n          value = values.g;\\n        } else if (depth == 2) {\\n          value = values.b;\\n        } else if (depth == 3) {\\n          value = values.a;\\n        }\\n\\n        setOutput(floor(value * 255.0 + 0.5));\\n      }\\n    \";\r\n        },\r\n        Qh = function(t) {\r\n            this.variableNames = [\"A\"], this.packedInputs = !1, this.packedOutput = !0;\r\n            var e = ua(),\r\n                n = t[0],\r\n                r = t[1];\r\n            this.outputShape = t, this.userCode = \"\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int texR = coords[0];\\n        int texC = coords[1];\\n        int depth = coords[2];\\n\\n        vec4 result = vec4(0.);\\n\\n        for(int row=0; row<=1; row++) {\\n          for(int col=0; col<=1; col++) {\\n            texC = coords[1] + row;\\n            depth = coords[2] + col;\\n\\n            vec2 uv = (vec2(texC, texR) + halfCR) /\\n                       vec2(\" + r + \".0, \" + n + \".0);\\n            vec4 values = \" + e.texture2D + \"(A, uv);\\n            float value;\\n            if (depth == 0) {\\n              value = values.r;\\n            } else if (depth == 1) {\\n              value = values.g;\\n            } else if (depth == 2) {\\n              value = values.b;\\n            } else if (depth == 3) {\\n              value = values.a;\\n            }\\n\\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\\n          }\\n        }\\n\\n        \" + e.output + \" = result;\\n      }\\n    \";\r\n        };\r\n    for (var Jh = 0, Zh = [{\r\n            kernelName: \"FromPixels\",\r\n            backendName: \"webgl\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = t.attrs,\r\n                    o = e.pixels,\r\n                    a = r.numChannels,\r\n                    s = \"undefined\" != typeof HTMLVideoElement && o instanceof HTMLVideoElement,\r\n                    u = \"undefined\" != typeof HTMLImageElement && o instanceof HTMLImageElement,\r\n                    c = s ? [o.videoWidth, o.videoHeight] : [o.width, o.height],\r\n                    l = c[0],\r\n                    h = c[1],\r\n                    f = [h, l],\r\n                    d = [h, l, a];\r\n                (u || s) && (null == Yh && (Yh = document.createElement(\"canvas\").getContext(\"2d\")), Yh.canvas.width = l, Yh.canvas.height = h, Yh.drawImage(o, 0, 0, l, h), o = Yh.canvas);\r\n                var p = n.makeTensorInfo(f, \"int32\");\r\n                n.texData.get(p.dataId).usage = zt.PIXELS, n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId), o);\r\n                var v = i().getBool(\"WEBGL_PACK\") ? new Qh(d) : new $h(d),\r\n                    m = n.runWebGLProgram(v, [p], \"int32\");\r\n                return n.disposeData(p.dataId), m\r\n            }\r\n        }, {\r\n            kernelName: \"NonMaxSuppressionV5\",\r\n            backendName: \"webgl\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = t.attrs;\r\n                dn(\"tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead\");\r\n                var o = e,\r\n                    a = o.boxes,\r\n                    i = o.scores,\r\n                    s = r,\r\n                    u = s.maxOutputSize,\r\n                    c = s.iouThreshold,\r\n                    l = s.scoreThreshold,\r\n                    h = s.softNmsSigma,\r\n                    f = n,\r\n                    d = Xo(f.readSync(a.dataId), f.readSync(i.dataId), u, c, l, h);\r\n                return [d.selectedIndices, d.selectedScores]\r\n            }\r\n        }, {\r\n            kernelName: \"Square\",\r\n            backendName: \"webgl\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = e.x,\r\n                    o = n,\r\n                    a = new Cs(r.shape, \"return x * x;\");\r\n                return o.runWebGLProgram(a, [r], r.dtype)\r\n            }\r\n        }, {\r\n            kernelName: eu,\r\n            backendName: \"webgl\",\r\n            kernelFunc: function(t) {\r\n                var e = t.inputs,\r\n                    n = t.backend,\r\n                    r = e,\r\n                    o = r.a,\r\n                    a = r.b,\r\n                    s = n,\r\n                    u = i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\") ? new La(\"return (a - b) * (a - b);\", o.shape, a.shape) : new Ba(\"return (a - b) * (a - b);\", o.shape, a.shape);\r\n                return s.compileAndRun(u, [o, a])\r\n            }\r\n        }]; Jh < Zh.length; Jh++) { d(Zh[Jh]); }\r\n    for (var tf = 0, ef = [{ kernelName: \"Square\", gradFunc: function(t, e) { var n = e[0]; return { x: function() { return t.mul(n.toFloat().mul(2)) } } } }, {\r\n            kernelName: eu,\r\n            gradFunc: function(t, e) {\r\n                var n = e[0],\r\n                    r = e[1],\r\n                    o = On(2);\r\n                return { a: function() { return gc(t, gc(o, Cc(n, r))) }, b: function() { return gc(t, gc(o, Cc(r, n))) } }\r\n            }\r\n        }]; tf < ef.length; tf++) { p(ef[tf]); }\r\n    var nf = function() {\r\n        function t() {}\r\n        return t.prototype.fetch = function(t, e) { return fetch(t, e) }, t.prototype.now = function() { return performance.now() }, t.prototype.encode = function(t, e) { if (\"utf-8\" !== e && \"utf8\" !== e) throw new Error(\"Browser's encoder only supports utf-8, but got \" + e); return null == this.textEncoder && (this.textEncoder = new TextEncoder), this.textEncoder.encode(t) }, t.prototype.decode = function(t, e) { return new TextDecoder(e).decode(t) }, t\r\n    }();\r\n    i().get(\"IS_BROWSER\") && i().setPlatform(\"browser\", new nf);\r\n    var rf, of = function() { return require(\"node-fetch\") },\r\n        af = function() {\r\n            function t() { this.util = require(\"util\"), this.textEncoder = new this.util.TextEncoder; }\r\n            return t.prototype.fetch = function(t, e) { return null != i().global.fetch ? i().global.fetch(t, e) : (null == rf && (rf = of()), rf(t, e)) }, t.prototype.now = function() { var t = process.hrtime(); return 1e3 * t[0] + t[1] / 1e6 }, t.prototype.encode = function(t, e) { if (\"utf-8\" !== e && \"utf8\" !== e) throw new Error(\"Node built-in encoder only supports utf-8, but got \" + e); return this.textEncoder.encode(t) }, t.prototype.decode = function(t, e) { return 0 === t.length ? \"\" : new this.util.TextDecoder(e).decode(t) }, t\r\n        }();\r\n    i().get(\"IS_NODE\") && i().setPlatform(\"node\", new af);\r\n    var sf = { float32: 4, int32: 4, uint16: 2, uint8: 1, bool: 1 },\r\n        uf = 4;\r\n\r\n    function cf(t, e) {\r\n        for (var n = {}, r = 0, o = function(e) {\r\n                var o = e.name,\r\n                    a = e.dtype,\r\n                    i = e.shape,\r\n                    s = k(i),\r\n                    u = void 0;\r\n                if (\"quantization\" in e) {\r\n                    var c = e.quantization;\r\n                    if (\"uint8\" !== c.dtype && \"uint16\" !== c.dtype) throw new Error(\"Weight \" + e.name + \" has unknown quantization dtype \" + c.dtype + \". Supported quantization dtypes are: 'uint8' and 'uint16'.\");\r\n                    var l = sf[c.dtype],\r\n                        h = t.slice(r, r + s * l),\r\n                        f = \"uint8\" === c.dtype ? new Uint8Array(h) : new Uint16Array(h);\r\n                    if (\"float32\" === a) u = Float32Array.from(f, (function(t) { return t * c.scale + c.min }));\r\n                    else {\r\n                        if (\"int32\" !== a) throw new Error(\"Unsupported dtype in weight '\" + o + \"': \" + a);\r\n                        u = Int32Array.from(f, (function(t) { return Math.round(t * c.scale + c.min) }));\r\n                    }\r\n                    r += s * l;\r\n                } else if (\"string\" === a) {\r\n                    var d = k(e.shape);\r\n                    u = [];\r\n                    for (var p = 0; p < d; p++) {\r\n                        var v = new Uint32Array(t.slice(r, r + uf))[0];\r\n                        r += uf;\r\n                        var m = new Uint8Array(t.slice(r, r + v));\r\n                        u.push(m), r += v;\r\n                    }\r\n                } else {\r\n                    var g = sf[a];\r\n                    h = t.slice(r, r + s * g);\r\n                    if (\"float32\" === a) u = new Float32Array(h);\r\n                    else if (\"int32\" === a) u = new Int32Array(h);\r\n                    else {\r\n                        if (\"bool\" !== a) throw new Error(\"Unsupported dtype in weight '\" + o + \"': \" + a);\r\n                        u = new Uint8Array(h);\r\n                    }\r\n                    r += s * g;\r\n                }\r\n                n[o] = Fn(u, i, a);\r\n            }, a = 0, i = e; a < i.length; a++) { o(i[a]); }\r\n        return n\r\n    }\r\n\r\n    function lf(t) {\r\n        if (null === t) throw new Error(\"Invalid input value: \" + JSON.stringify(t));\r\n        var e = 0,\r\n            n = [];\r\n        t.forEach((function(t) { if (e += t.byteLength, n.push(t.byteLength === t.buffer.byteLength ? t : new t.constructor(t)), !(t instanceof Float32Array || t instanceof Int32Array || t instanceof Uint8Array)) throw new Error(\"Unsupported TypedArray subtype: \" + t.constructor.name) }));\r\n        var r = new Uint8Array(e),\r\n            o = 0;\r\n        return n.forEach((function(t) { r.set(new Uint8Array(t.buffer), o), o += t.byteLength; })), r.buffer\r\n    }\r\n    var hf = \"undefined\" != typeof Buffer && (\"undefined\" == typeof Blob || \"undefined\" == typeof atob || \"undefined\" == typeof btoa);\r\n\r\n    function ff(t) { return hf ? Buffer.byteLength(t) : new Blob([t]).size }\r\n\r\n    function df(t) {\r\n        var e = 0;\r\n        t.forEach((function(t) { e += t.byteLength; }));\r\n        var n = new Uint8Array(e),\r\n            r = 0;\r\n        return t.forEach((function(t) { n.set(new Uint8Array(t), r), r += t.byteLength; })), n.buffer\r\n    }\r\n\r\n    function pf(t) { for (t = t.trim(); t.endsWith(\"/\");) t = t.slice(0, t.length - 1); var e = t.split(\"/\"); return e[e.length - 1] }\r\n\r\n    function vf(t) { if (t.modelTopology instanceof ArrayBuffer) throw new Error(\"Expected JSON model topology, received ArrayBuffer.\"); return { dateSaved: new Date, modelTopologyType: \"JSON\", modelTopologyBytes: null == t.modelTopology ? 0 : ff(JSON.stringify(t.modelTopology)), weightSpecsBytes: null == t.weightSpecs ? 0 : ff(JSON.stringify(t.weightSpecs)), weightDataBytes: null == t.weightData ? 0 : t.weightData.byteLength } }\r\n    var mf = function() {\r\n            function t() { this.saveRouters = [], this.loadRouters = []; }\r\n            return t.getInstance = function() { return null == t.instance && (t.instance = new t), t.instance }, t.registerSaveRouter = function(e) { t.getInstance().saveRouters.push(e); }, t.registerLoadRouter = function(e) { t.getInstance().loadRouters.push(e); }, t.getSaveHandlers = function(e) { return t.getHandlers(e, \"save\") }, t.getLoadHandlers = function(e, n) { return t.getHandlers(e, \"load\", n) }, t.getHandlers = function(e, n, r) {\r\n                var o = [];\r\n                return (\"load\" === n ? t.getInstance().loadRouters : t.getInstance().saveRouters).forEach((function(t) {\r\n                    var n = t(e, r);\r\n                    null !== n && o.push(n);\r\n                })), o\r\n            }, t\r\n        }(),\r\n        gf = \"://\",\r\n        yf = function() {\r\n            function t() { this.managers = {}; }\r\n            return t.getInstance = function() { return null == t.instance && (t.instance = new t), t.instance }, t.registerManager = function(e, n) {\r\n                C(null != e, (function() { return \"scheme must not be undefined or null.\" })), e.endsWith(gf) && (e = e.slice(0, e.indexOf(gf))), C(e.length > 0, (function() { return \"scheme must not be an empty string.\" }));\r\n                var r = t.getInstance();\r\n                C(null == r.managers[e], (function() { return \"A model store manager is already registered for scheme '\" + e + \"'.\" })), r.managers[e] = n;\r\n            }, t.getManager = function(t) { var e = this.getInstance().managers[t]; if (null == e) throw new Error(\"Cannot find model manager for scheme '\" + t + \"'\"); return e }, t.getSchemes = function() { return Object.keys(this.getInstance().managers) }, t\r\n        }();\r\n\r\n    function xf(t) { if (-1 === t.indexOf(gf)) throw new Error(\"The url string provided does not contain a scheme. Supported schemes are: \" + yf.getSchemes().join(\",\")); return { scheme: t.split(gf)[0], path: t.split(gf)[1] } }\r\n\r\n    function bf(t, e, o) {\r\n        return void 0 === o && (o = !1), n(this, void 0, void 0, (function() {\r\n            var n, a, i, s, u, c, l, h, f;\r\n            return r(this, (function(r) {\r\n                switch (r.label) {\r\n                    case 0:\r\n                        return C(t !== e, (function() { return \"Old path and new path are the same: '\" + t + \"'\" })), C((n = mf.getLoadHandlers(t)).length > 0, (function() { return \"Copying failed because no load handler is found for source URL \" + t + \".\" })), C(n.length < 2, (function() { return \"Copying failed because more than one (\" + n.length + \") load handlers for source URL \" + t + \".\" })), a = n[0], C((i = mf.getSaveHandlers(e)).length > 0, (function() { return \"Copying failed because no save handler is found for destination URL \" + e + \".\" })), C(i.length < 2, (function() { return \"Copying failed because more than one (\" + n.length + \") save handlers for destination URL \" + e + \".\" })), s = i[0], u = xf(t).scheme, c = xf(t).path, l = u === xf(t).scheme, [4, a.load()];\r\n                    case 1:\r\n                        return h = r.sent(), o && l ? [4, yf.getManager(u).removeModel(c)] : [3, 3];\r\n                    case 2:\r\n                        r.sent(), r.label = 3;\r\n                    case 3:\r\n                        return [4, s.save(h)];\r\n                    case 4:\r\n                        return f = r.sent(), !o || l ? [3, 6] : [4, yf.getManager(u).removeModel(c)];\r\n                    case 5:\r\n                        r.sent(), r.label = 6;\r\n                    case 6:\r\n                        return [2, f.modelArtifactsInfo]\r\n                }\r\n            }))\r\n        }))\r\n    }\r\n    var wf = \"models_store\",\r\n        Cf = \"model_info_store\";\r\n\r\n    function Ef() {\r\n        if (!i().getBool(\"IS_BROWSER\")) throw new Error(\"Failed to obtain IndexedDB factory because the current environmentis not a web browser.\");\r\n        var t = window || self,\r\n            e = t.indexedDB || t.mozIndexedDB || t.webkitIndexedDB || t.msIndexedDB || t.shimIndexedDB;\r\n        if (null == e) throw new Error(\"The current browser does not appear to support IndexedDB.\");\r\n        return e\r\n    }\r\n\r\n    function Rf(t) {\r\n        var e = t.result;\r\n        e.createObjectStore(wf, { keyPath: \"modelPath\" }), e.createObjectStore(Cf, { keyPath: \"modelPath\" });\r\n    }\r\n    var If = function() {\r\n            function t(t) {\r\n                if (this.indexedDB = Ef(), null == t || !t) throw new Error(\"For IndexedDB, modelPath must not be null, undefined or empty.\");\r\n                this.modelPath = t;\r\n            }\r\n            return t.prototype.save = function(t) { return n(this, void 0, void 0, (function() { return r(this, (function(e) { if (t.modelTopology instanceof ArrayBuffer) throw new Error(\"BrowserLocalStorage.save() does not support saving model topology in binary formats yet.\"); return [2, this.databaseAction(this.modelPath, t)] })) })) }, t.prototype.load = function() { return n(this, void 0, void 0, (function() { return r(this, (function(t) { return [2, this.databaseAction(this.modelPath)] })) })) }, t.prototype.databaseAction = function(t, e) {\r\n                var n = this;\r\n                return new Promise((function(t, r) {\r\n                    var o = n.indexedDB.open(\"tensorflowjs\", 1);\r\n                    o.onupgradeneeded = function() { return Rf(o) }, o.onsuccess = function() {\r\n                        var a = o.result;\r\n                        if (null == e) {\r\n                            var i = a.transaction(wf, \"readonly\"),\r\n                                s = i.objectStore(wf).get(n.modelPath);\r\n                            s.onsuccess = function() {\r\n                                if (null == s.result) return a.close(), r(new Error(\"Cannot find model with path '\" + n.modelPath + \"' in IndexedDB.\"));\r\n                                t(s.result.modelArtifacts);\r\n                            }, s.onerror = function(t) { return a.close(), r(s.error) }, i.oncomplete = function() { return a.close() };\r\n                        } else {\r\n                            var u, c = vf(e),\r\n                                l = a.transaction(Cf, \"readwrite\"),\r\n                                h = l.objectStore(Cf),\r\n                                f = h.put({ modelPath: n.modelPath, modelArtifactsInfo: c });\r\n                            f.onsuccess = function() {\r\n                                var o = (u = a.transaction(wf, \"readwrite\")).objectStore(wf).put({ modelPath: n.modelPath, modelArtifacts: e, modelArtifactsInfo: c });\r\n                                o.onsuccess = function() { return t({ modelArtifactsInfo: c }) }, o.onerror = function(t) {\r\n                                    var e = (h = l.objectStore(Cf)).delete(n.modelPath);\r\n                                    e.onsuccess = function() { return a.close(), r(o.error) }, e.onerror = function(t) { return a.close(), r(o.error) };\r\n                                };\r\n                            }, f.onerror = function(t) { return a.close(), r(f.error) }, l.oncomplete = function() { null == u ? a.close() : u.oncomplete = function() { return a.close() }; };\r\n                        }\r\n                    }, o.onerror = function(t) { return r(o.error) };\r\n                }))\r\n            }, t.URL_SCHEME = \"indexeddb://\", t\r\n        }(),\r\n        kf = function(t) { return i().getBool(\"IS_BROWSER\") && !Array.isArray(t) && t.startsWith(If.URL_SCHEME) ? (e = t.slice(If.URL_SCHEME.length), new If(e)) : null; var e; };\r\n    mf.registerSaveRouter(kf), mf.registerLoadRouter(kf);\r\n    var Sf = function() {\r\n        function t() { this.indexedDB = Ef(); }\r\n        return t.prototype.listModels = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t = this;\r\n                return r(this, (function(e) {\r\n                    return [2, new Promise((function(e, n) {\r\n                        var r = t.indexedDB.open(\"tensorflowjs\", 1);\r\n                        r.onupgradeneeded = function() { return Rf(r) }, r.onsuccess = function() {\r\n                            var t = r.result,\r\n                                o = t.transaction(Cf, \"readonly\"),\r\n                                a = o.objectStore(Cf).getAll();\r\n                            a.onsuccess = function() {\r\n                                for (var t = {}, n = 0, r = a.result; n < r.length; n++) {\r\n                                    var o = r[n];\r\n                                    t[o.modelPath] = o.modelArtifactsInfo;\r\n                                }\r\n                                e(t);\r\n                            }, a.onerror = function(e) { return t.close(), n(a.error) }, o.oncomplete = function() { return t.close() };\r\n                        }, r.onerror = function(t) { return n(r.error) };\r\n                    }))]\r\n                }))\r\n            }))\r\n        }, t.prototype.removeModel = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e = this;\r\n                return r(this, (function(n) {\r\n                    var r;\r\n                    return t = (r = t).startsWith(If.URL_SCHEME) ? r.slice(If.URL_SCHEME.length) : r, [2, new Promise((function(n, r) {\r\n                        var o = e.indexedDB.open(\"tensorflowjs\", 1);\r\n                        o.onupgradeneeded = function() { return Rf(o) }, o.onsuccess = function() {\r\n                            var e, a = o.result,\r\n                                i = a.transaction(Cf, \"readwrite\"),\r\n                                s = i.objectStore(Cf),\r\n                                u = s.get(t);\r\n                            u.onsuccess = function() {\r\n                                if (null == u.result) return a.close(), r(new Error(\"Cannot find model with path '\" + t + \"' in IndexedDB.\"));\r\n                                var o = s.delete(t),\r\n                                    i = function() {\r\n                                        var o = (e = a.transaction(wf, \"readwrite\")).objectStore(wf).delete(t);\r\n                                        o.onsuccess = function() { return n(u.result.modelArtifactsInfo) }, o.onerror = function(t) { return r(u.error) };\r\n                                    };\r\n                                o.onsuccess = i, o.onerror = function(t) { return i(), a.close(), r(u.error) };\r\n                            }, u.onerror = function(t) { return a.close(), r(u.error) }, i.oncomplete = function() { null == e ? a.close() : e.oncomplete = function() { return a.close() }; };\r\n                        }, o.onerror = function(t) { return r(o.error) };\r\n                    }))]\r\n                }))\r\n            }))\r\n        }, t\r\n    }();\r\n    if (i().getBool(\"IS_BROWSER\")) try { yf.registerManager(If.URL_SCHEME, new Sf); } catch (t) {}\r\n    var Af = \"/\",\r\n        Df = \"tensorflowjs_models\",\r\n        Tf = \"info\",\r\n        Nf = \"model_topology\",\r\n        Ff = \"weight_specs\",\r\n        _f = \"weight_data\",\r\n        Of = \"model_metadata\";\r\n\r\n    function Mf(t) { return { info: [Df, t, Tf].join(Af), topology: [Df, t, Nf].join(Af), weightSpecs: [Df, t, Ff].join(Af), weightData: [Df, t, _f].join(Af), modelMetadata: [Df, t, Of].join(Af) } }\r\n\r\n    function Bf(t) { var e = t.split(Af); if (e.length < 3) throw new Error(\"Invalid key format: \" + t); return e.slice(1, e.length - 1).join(Af) }\r\n    var Pf = function() {\r\n            function t(t) {\r\n                if (!i().getBool(\"IS_BROWSER\") || \"undefined\" == typeof window || void 0 === window.localStorage) throw new Error(\"The current environment does not support local storage.\");\r\n                if (this.LS = window.localStorage, null == t || !t) throw new Error(\"For local storage, modelPath must not be null, undefined or empty.\");\r\n                this.modelPath = t, this.keys = Mf(this.modelPath);\r\n            }\r\n            return t.prototype.save = function(t) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var e, n, o;\r\n                    return r(this, (function(r) {\r\n                        if (t.modelTopology instanceof ArrayBuffer) throw new Error(\"BrowserLocalStorage.save() does not support saving model topology in binary formats yet.\");\r\n                        e = JSON.stringify(t.modelTopology), n = JSON.stringify(t.weightSpecs), o = vf(t);\r\n                        try { return this.LS.setItem(this.keys.info, JSON.stringify(o)), this.LS.setItem(this.keys.topology, e), this.LS.setItem(this.keys.weightSpecs, n), this.LS.setItem(this.keys.weightData, function(t) { if (hf) return Buffer.from(t).toString(\"base64\"); for (var e = new Uint8Array(t), n = \"\", r = 0, o = e.length; r < o; r++) n += String.fromCharCode(e[r]); return btoa(n) }(t.weightData)), this.LS.setItem(this.keys.modelMetadata, JSON.stringify({ format: t.format, generatedBy: t.generatedBy, convertedBy: t.convertedBy, userDefinedMetadata: t.userDefinedMetadata })), [2, { modelArtifactsInfo: o }] } catch (t) { throw this.LS.removeItem(this.keys.info), this.LS.removeItem(this.keys.topology), this.LS.removeItem(this.keys.weightSpecs), this.LS.removeItem(this.keys.weightData), this.LS.removeItem(this.keys.modelMetadata), new Error(\"Failed to save model '\" + this.modelPath + \"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=\" + o.modelTopologyBytes + \", weightSpecsBytes=\" + o.weightSpecsBytes + \", weightDataBytes=\" + o.weightDataBytes + \".\") }\r\n                        return [2]\r\n                    }))\r\n                }))\r\n            }, t.prototype.load = function() { return n(this, void 0, void 0, (function() { var t, e, n, o, a, i, s; return r(this, (function(r) { if (null == (t = JSON.parse(this.LS.getItem(this.keys.info)))) throw new Error(\"In local storage, there is no model with name '\" + this.modelPath + \"'\"); if (\"JSON\" !== t.modelTopologyType) throw new Error(\"BrowserLocalStorage does not support loading non-JSON model topology yet.\"); if (e = {}, null == (n = JSON.parse(this.LS.getItem(this.keys.topology)))) throw new Error(\"In local storage, the topology of model '\" + this.modelPath + \"' is missing.\"); if (e.modelTopology = n, null == (o = JSON.parse(this.LS.getItem(this.keys.weightSpecs)))) throw new Error(\"In local storage, the weight specs of model '\" + this.modelPath + \"' are missing.\"); if (e.weightSpecs = o, null != (a = this.LS.getItem(this.keys.modelMetadata)) && (i = JSON.parse(a), e.format = i.format, e.generatedBy = i.generatedBy, e.convertedBy = i.convertedBy, e.userDefinedMetadata = i.userDefinedMetadata), null == (s = this.LS.getItem(this.keys.weightData))) throw new Error(\"In local storage, the binary weight values of model '\" + this.modelPath + \"' are missing.\"); return e.weightData = function(t) { if (hf) { var e = Buffer.from(t, \"base64\"); return e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength) } for (var n = atob(t), r = new Uint8Array(n.length), o = 0; o < n.length; ++o) r.set([n.charCodeAt(o)], o); return r.buffer }(s), [2, e] })) })) }, t.URL_SCHEME = \"localstorage://\", t\r\n        }(),\r\n        Lf = function(t) { return i().getBool(\"IS_BROWSER\") && !Array.isArray(t) && t.startsWith(Pf.URL_SCHEME) ? (e = t.slice(Pf.URL_SCHEME.length), new Pf(e)) : null; var e; };\r\n    mf.registerSaveRouter(Lf), mf.registerLoadRouter(Lf);\r\n    var Wf = function() {\r\n        function t() { C(i().getBool(\"IS_BROWSER\"), (function() { return \"Current environment is not a web browser\" })), C(\"undefined\" == typeof window || void 0 !== window.localStorage, (function() { return \"Current browser does not appear to support localStorage\" })), this.LS = window.localStorage; }\r\n        return t.prototype.listModels = function() { return n(this, void 0, void 0, (function() { var t, e, n, o, a, i; return r(this, (function(r) { for (t = {}, e = Df + Af, n = Af + Tf, o = 0; o < this.LS.length; ++o)(a = this.LS.key(o)).startsWith(e) && a.endsWith(n) && (i = Bf(a), t[i] = JSON.parse(this.LS.getItem(a))); return [2, t] })) })) }, t.prototype.removeModel = function(t) { return n(this, void 0, void 0, (function() { var e, n; return r(this, (function(r) { var o; if (t = (o = t).startsWith(Pf.URL_SCHEME) ? o.slice(Pf.URL_SCHEME.length) : o, e = Mf(t), null == this.LS.getItem(e.info)) throw new Error(\"Cannot find model at path '\" + t + \"'\"); return n = JSON.parse(this.LS.getItem(e.info)), this.LS.removeItem(e.info), this.LS.removeItem(e.topology), this.LS.removeItem(e.weightSpecs), this.LS.removeItem(e.weightData), [2, n] })) })) }, t\r\n    }();\r\n    if (i().getBool(\"IS_BROWSER\")) try { yf.registerManager(Pf.URL_SCHEME, new Wf); } catch (t) {}\r\n    var Uf = \"model\",\r\n        Vf = \".json\",\r\n        zf = \".weights.bin\";\r\n\r\n    function Gf(t) { return new Promise((function(t) { return setTimeout(t) })).then(t) }\r\n    var Hf = function() {\r\n            function t(e) {\r\n                if (!i().getBool(\"IS_BROWSER\")) throw new Error(\"browserDownloads() cannot proceed because the current environment is not a browser.\");\r\n                e.startsWith(t.URL_SCHEME) && (e = e.slice(t.URL_SCHEME.length)), null != e && 0 !== e.length || (e = Uf), this.modelTopologyFileName = e + Vf, this.weightDataFileName = e + zf;\r\n            }\r\n            return t.prototype.save = function(t) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var e, n, o, a, i, s;\r\n                    return r(this, (function(r) {\r\n                        switch (r.label) {\r\n                            case 0:\r\n                                if (\"undefined\" == typeof document) throw new Error(\"Browser downloads are not supported in this environment since `document` is not present\");\r\n                                if (e = window.URL.createObjectURL(new Blob([t.weightData], { type: \"application/octet-stream\" })), !(t.modelTopology instanceof ArrayBuffer)) return [3, 1];\r\n                                throw new Error(\"BrowserDownloads.save() does not support saving model topology in binary formats yet.\");\r\n                            case 1:\r\n                                return n = [{ paths: [\"./\" + this.weightDataFileName], weights: t.weightSpecs }], o = { modelTopology: t.modelTopology, format: t.format, generatedBy: t.generatedBy, convertedBy: t.convertedBy, weightsManifest: n }, a = window.URL.createObjectURL(new Blob([JSON.stringify(o)], { type: \"application/json\" })), (i = null == this.jsonAnchor ? document.createElement(\"a\") : this.jsonAnchor).download = this.modelTopologyFileName, i.href = a, [4, Gf((function() { return i.dispatchEvent(new MouseEvent(\"click\")) }))];\r\n                            case 2:\r\n                                return r.sent(), null == t.weightData ? [3, 4] : ((s = null == this.weightDataAnchor ? document.createElement(\"a\") : this.weightDataAnchor).download = this.weightDataFileName, s.href = e, [4, Gf((function() { return s.dispatchEvent(new MouseEvent(\"click\")) }))]);\r\n                            case 3:\r\n                                r.sent(), r.label = 4;\r\n                            case 4:\r\n                                return [2, { modelArtifactsInfo: vf(t) }]\r\n                        }\r\n                    }))\r\n                }))\r\n            }, t.URL_SCHEME = \"downloads://\", t\r\n        }(),\r\n        qf = function() {\r\n            function t(t) {\r\n                if (null == t || t.length < 1) throw new Error(\"When calling browserFiles, at least 1 file is required, but received \" + t);\r\n                this.files = t;\r\n            }\r\n            return t.prototype.load = function() {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var t, e, n = this;\r\n                    return r(this, (function(r) {\r\n                        return t = this.files[0], e = this.files.slice(1), [2, new Promise((function(r, o) {\r\n                            var a = new FileReader;\r\n                            a.onload = function(a) {\r\n                                var i = JSON.parse(a.target.result),\r\n                                    s = i.modelTopology;\r\n                                if (null != s) {\r\n                                    0 === e.length && r({ modelTopology: s });\r\n                                    var u = i.weightsManifest;\r\n                                    if (null != u) {\r\n                                        var c;\r\n                                        try { c = n.checkManifestAndWeightFiles(u, e); } catch (t) { return void o(t) }\r\n                                        var l = [],\r\n                                            h = [],\r\n                                            f = [];\r\n                                        u.forEach((function(t) { t.paths.forEach((function(t) { h.push(t), f.push(null); })), l.push.apply(l, t.weights); })), u.forEach((function(t) {\r\n                                            t.paths.forEach((function(t) {\r\n                                                var e = new FileReader;\r\n                                                e.onload = function(e) {\r\n                                                    var n = e.target.result,\r\n                                                        o = h.indexOf(t);\r\n                                                    f[o] = n, -1 === f.indexOf(null) && r({ modelTopology: s, weightSpecs: l, weightData: df(f), format: i.format, generatedBy: i.generatedBy, convertedBy: i.convertedBy, userDefinedMetadata: i.userDefinedMetadata });\r\n                                                }, e.onerror = function(e) { return o(\"Failed to weights data from file of path '\" + t + \"'.\") }, e.readAsArrayBuffer(c[t]);\r\n                                            }));\r\n                                        }));\r\n                                    } else o(new Error(\"weightManifest field is missing from file \" + t.name));\r\n                                } else o(new Error(\"modelTopology field is missing from file \" + t.name));\r\n                            }, a.onerror = function(e) { return o(\"Failed to read model topology and weights manifest JSON from file '\" + t.name + \"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.\") }, a.readAsText(t);\r\n                        }))]\r\n                    }))\r\n                }))\r\n            }, t.prototype.checkManifestAndWeightFiles = function(t, e) {\r\n                for (var n = [], r = e.map((function(t) { return pf(t.name) })), o = {}, a = 0, i = t; a < i.length; a++) {\r\n                    i[a].paths.forEach((function(t) {\r\n                        var a = pf(t);\r\n                        if (-1 !== n.indexOf(a)) throw new Error(\"Duplicate file basename found in weights manifest: '\" + a + \"'\");\r\n                        if (n.push(a), -1 === r.indexOf(a)) throw new Error(\"Weight file with basename '\" + a + \"' is not provided.\");\r\n                        o[t] = e[r.indexOf(a)];\r\n                    }));\r\n                }\r\n                if (n.length !== e.length) throw new Error(\"Mismatch in the number of files in weights manifest (\" + n.length + \") and the number of weight files provided (\" + e.length + \").\");\r\n                return o\r\n            }, t\r\n        }();\r\n\r\n    function Kf(t, e, n, r) {\r\n        ! function(t) { C(null != t && Array.isArray(t) && t.length > 0, (function() { return \"promises must be a none empty array\" })); }(t),\r\n        function(t, e) { C(t >= 0 && t <= 1, (function() { return \"Progress fraction must be in range [0, 1], but got startFraction \" + t })), C(e >= 0 && e <= 1, (function() { return \"Progress fraction must be in range [0, 1], but got endFraction \" + e })), C(e >= t, (function() { return \"startFraction must be no more than endFraction, but got startFraction \" + t + \" and endFraction \" + e })); }(n = null == n ? 0 : n, r = null == r ? 1 : r);\r\n        var o = 0;\r\n        return Promise.all(t.map((function(a) { return a.then((function(a) { var i = n + ++o / t.length * (r - n); return e(i), a })), a })))\r\n    }\r\n\r\n    function jf(t, e) {\r\n        return n(this, void 0, void 0, (function() {\r\n            var n, o, a, s, u, c, l, h, f;\r\n            return r(this, (function(r) {\r\n                switch (r.label) {\r\n                    case 0:\r\n                        return null == e && (e = {}), n = null == e.fetchFunc ? i().platform.fetch : e.fetchFunc, o = t.map((function(t) { return n(t, e.requestInit, { isBinary: !0 }) })), a = 0, s = .5, null != e.onProgress ? [3, 2] : [4, Promise.all(o)];\r\n                    case 1:\r\n                        return u = r.sent(), [3, 4];\r\n                    case 2:\r\n                        return [4, Kf(o, e.onProgress, a, s)];\r\n                    case 3:\r\n                        u = r.sent(), r.label = 4;\r\n                    case 4:\r\n                        return c = u.map((function(t) { return t.arrayBuffer() })), l = .5, h = 1, null != e.onProgress ? [3, 6] : [4, Promise.all(c)];\r\n                    case 5:\r\n                        return f = r.sent(), [3, 8];\r\n                    case 6:\r\n                        return [4, Kf(c, e.onProgress, l, h)];\r\n                    case 7:\r\n                        f = r.sent(), r.label = 8;\r\n                    case 8:\r\n                        return [2, f]\r\n                }\r\n            }))\r\n        }))\r\n    }\r\n\r\n    function Xf(t) {\r\n        var e = this;\r\n        return function(o, a, i) {\r\n            return void 0 === a && (a = \"\"), n(e, void 0, void 0, (function() {\r\n                var e, n, s, u, c, l, h, f, d, p;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            if (e = o.map((function() { return !1 })), n = {}, s = null != i ? i.map((function() { return !1 })) : [], u = [], o.forEach((function(t, r) {\r\n                                    var o = 0;\r\n                                    t.weights.forEach((function(t) {\r\n                                        var a = \"quantization\" in t ? t.quantization.dtype : t.dtype,\r\n                                            c = sf[a] * k(t.shape),\r\n                                            l = function() { e[r] = !0, null == n[r] && (n[r] = []), n[r].push({ manifestEntry: t, groupOffset: o, sizeBytes: c }); };\r\n                                        null != i ? i.forEach((function(e, n) { e === t.name && (l(), s[n] = !0); })) : l(), u.push(t.name), o += c;\r\n                                    }));\r\n                                })), !s.every((function(t) { return t }))) throw c = i.filter((function(t, e) { return !s[e] })), new Error(\"Could not find weights in manifest with names: \" + c.join(\", \") + \". \\nManifest JSON has weights with names: \" + u.join(\", \") + \".\");\r\n                            return l = e.reduce((function(t, e, n) { return e && t.push(n), t }), []), h = [], l.forEach((function(t) {\r\n                                o[t].paths.forEach((function(t) {\r\n                                    var e = a + (a.endsWith(\"/\") ? \"\" : \"/\") + t;\r\n                                    h.push(e);\r\n                                }));\r\n                            })), [4, t(h)];\r\n                        case 1:\r\n                            return f = r.sent(), d = {}, p = 0, l.forEach((function(t) {\r\n                                for (var e = o[t].paths.length, r = 0, a = 0; a < e; a++) r += f[p + a].byteLength;\r\n                                for (var i = new ArrayBuffer(r), s = new Uint8Array(i), u = 0, c = 0; c < e; c++) {\r\n                                    var l = new Uint8Array(f[p + c]);\r\n                                    s.set(l, u), u += l.byteLength;\r\n                                }\r\n                                n[t].forEach((function(t) { var e = cf(i.slice(t.groupOffset, t.groupOffset + t.sizeBytes), [t.manifestEntry]); for (var n in e) d[n] = e[n]; })), p += e;\r\n                            })), [2, d]\r\n                    }\r\n                }))\r\n            }))\r\n        }\r\n    }\r\n    mf.registerSaveRouter((function(t) { return i().getBool(\"IS_BROWSER\") && !Array.isArray(t) && t.startsWith(Hf.URL_SCHEME) ? function(t) { void 0 === t && (t = \"model\"); return new Hf(t) }(t.slice(Hf.URL_SCHEME.length)) : null }));\r\n    var Yf = function() {\r\n        function t(t, e) {\r\n            if (this.DEFAULT_METHOD = \"POST\", null == e && (e = {}), this.weightPathPrefix = e.weightPathPrefix, this.onProgress = e.onProgress, null != e.fetchFunc ? (C(\"function\" == typeof e.fetchFunc, (function() { return \"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)\" })), this.fetch = e.fetchFunc) : this.fetch = i().platform.fetch, C(null != t && t.length > 0, (function() { return \"URL path for http must not be null, undefined or empty.\" })), Array.isArray(t) && C(2 === t.length, (function() { return \"URL paths for http must have a length of 2, (actual length is \" + t.length + \").\" })), this.path = t, null != e.requestInit && null != e.requestInit.body) throw new Error(\"requestInit is expected to have no pre-existing body, but has one.\");\r\n            this.requestInit = e.requestInit || {};\r\n        }\r\n        return t.prototype.save = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e, n, o, a;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            if (t.modelTopology instanceof ArrayBuffer) throw new Error(\"BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.\");\r\n                            return (e = Object.assign({ method: this.DEFAULT_METHOD }, this.requestInit)).body = new FormData, n = [{ paths: [\"./model.weights.bin\"], weights: t.weightSpecs }], o = { modelTopology: t.modelTopology, format: t.format, generatedBy: t.generatedBy, convertedBy: t.convertedBy, userDefinedMetadata: t.userDefinedMetadata, weightsManifest: n }, e.body.append(\"model.json\", new Blob([JSON.stringify(o)], { type: \"application/json\" }), \"model.json\"), null != t.weightData && e.body.append(\"model.weights.bin\", new Blob([t.weightData], { type: \"application/octet-stream\" }), \"model.weights.bin\"), [4, this.fetch(this.path, e)];\r\n                        case 1:\r\n                            if ((a = r.sent()).ok) return [2, { modelArtifactsInfo: vf(t), responses: [a] }];\r\n                            throw new Error(\"BrowserHTTPRequest.save() failed due to HTTP response status \" + a.status + \".\")\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.prototype.load = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t, e, n, o, a, i, s, u, c, l, h, f;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return [4, this.fetch(this.path, this.requestInit)];\r\n                        case 1:\r\n                            if (!(t = r.sent()).ok) throw new Error(\"Request to \" + this.path + \" failed with status code \" + t.status + \". Please verify this URL points to the model JSON of the model to load.\");\r\n                            r.label = 2;\r\n                        case 2:\r\n                            return r.trys.push([2, 4, , 5]), [4, t.json()];\r\n                        case 3:\r\n                            return e = r.sent(), [3, 5];\r\n                        case 4:\r\n                            throw r.sent(), n = \"Failed to parse model JSON of response from \" + this.path + \".\", this.path.endsWith(\".pb\") ? n += \" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.\" : n += \" Please make sure the server is serving valid JSON for this request.\", new Error(n);\r\n                        case 5:\r\n                            if (o = e.modelTopology, a = e.weightsManifest, i = e.generatedBy, s = e.convertedBy, u = e.format, c = e.userDefinedMetadata, null == o && null == a) throw new Error(\"The JSON from HTTP path \" + this.path + \" contains neither model topology or manifest for weights.\");\r\n                            return null == a ? [3, 7] : [4, this.loadWeights(a)];\r\n                        case 6:\r\n                            f = r.sent(), l = f[0], h = f[1], r.label = 7;\r\n                        case 7:\r\n                            return [2, { modelTopology: o, weightSpecs: l, weightData: h, userDefinedMetadata: c, generatedBy: i, convertedBy: s, format: u }]\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.prototype.loadWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e, n, o, a, i, s, u, c, l, h, f;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            for (e = Array.isArray(this.path) ? this.path[1] : this.path, n = function(t) {\r\n                                    var e = t.lastIndexOf(\"/\"),\r\n                                        n = t.lastIndexOf(\"?\"),\r\n                                        r = t.substring(0, e),\r\n                                        o = n > e ? t.substring(n) : \"\";\r\n                                    return [r + \"/\", o]\r\n                                }(e), o = n[0], a = n[1], i = this.weightPathPrefix || o, s = [], u = 0, c = t; u < c.length; u++) l = c[u], s.push.apply(s, l.weights);\r\n                            return h = [], t.forEach((function(t) { t.paths.forEach((function(t) { h.push(i + t + a); })); })), [4, jf(h, { requestInit: this.requestInit, fetchFunc: this.fetch, onProgress: this.onProgress })];\r\n                        case 1:\r\n                            return f = r.sent(), [2, [s, df(f)]]\r\n                    }\r\n                }))\r\n            }))\r\n        }, t.URL_SCHEME_REGEX = /^https?:\\/\\//, t\r\n    }();\r\n\r\n    function $f(t) { return null != t.match(Yf.URL_SCHEME_REGEX) }\r\n    var Qf = function(t, e) { if (\"undefined\" == typeof fetch) return null; return (Array.isArray(t) ? t.every((function(t) { return $f(t) })) : $f(t)) ? Jf(t, { onProgress: e }) : null };\r\n\r\n    function Jf(t, e) { return new Yf(t, e) }\r\n    mf.registerSaveRouter(Qf), mf.registerLoadRouter(Qf);\r\n    var Zf = function() {\r\n            function t(t) { this.modelArtifacts = t; }\r\n            return t.prototype.load = function() { return n(this, void 0, void 0, (function() { return r(this, (function(t) { return [2, this.modelArtifacts] })) })) }, t\r\n        }(),\r\n        td = function() {\r\n            function t(t) { this.saveHandler = t; }\r\n            return t.prototype.save = function(t) { return n(this, void 0, void 0, (function() { return r(this, (function(e) { return [2, this.saveHandler(t)] })) })) }, t\r\n        }();\r\n    var ed = Object.freeze({\r\n        browserFiles: function(t) { return new qf(t) },\r\n        browserHTTPRequest: function(t, e) { return Jf(t, e) },\r\n        concatenateArrayBuffers: df,\r\n        decodeWeights: cf,\r\n        encodeWeights: function(t, e) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var o, a, i, s, u, c = this;\r\n                return r(this, (function(l) {\r\n                    switch (l.label) {\r\n                        case 0:\r\n                            for (o = [], a = [], i = Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t), s = function(s) {\r\n                                    var u = i[s],\r\n                                        l = Array.isArray(t) ? t[s].tensor : t[u];\r\n                                    if (\"float32\" !== l.dtype && \"int32\" !== l.dtype && \"bool\" !== l.dtype && \"string\" !== l.dtype) throw new Error(\"Unsupported dtype in weight '\" + u + \"': \" + l.dtype);\r\n                                    var h = { name: u, shape: l.shape, dtype: l.dtype };\r\n                                    if (\"string\" === l.dtype) {\r\n                                        var f = new Promise((function(t) {\r\n                                            return n(c, void 0, void 0, (function() {\r\n                                                var e, n, o, a, i, s, u;\r\n                                                return r(this, (function(r) {\r\n                                                    switch (r.label) {\r\n                                                        case 0:\r\n                                                            return [4, l.bytes()];\r\n                                                        case 1:\r\n                                                            for (e = r.sent(), n = e.reduce((function(t, e) { return t + e.length }), 0) + uf * e.length, o = new Uint8Array(n), a = 0, i = 0; i < e.length; i++) s = e[i], u = new Uint8Array(new Uint32Array([s.length]).buffer), o.set(u, a), a += uf, o.set(s, a), a += s.length;\r\n                                                            return t(o), [2]\r\n                                                    }\r\n                                                }))\r\n                                            }))\r\n                                        }));\r\n                                        a.push(f);\r\n                                    } else a.push(l.data());\r\n                                    null != e && (h.group = e), o.push(h);\r\n                                }, u = 0; u < i.length; ++u) s(u);\r\n                            return [4, Promise.all(a)];\r\n                        case 1:\r\n                            return [2, { data: lf(l.sent()), specs: o }]\r\n                    }\r\n                }))\r\n            }))\r\n        },\r\n        fromMemory: function(t, e, n, r) { return 1 === arguments.length ? null != t.modelTopology || null != t.weightSpecs ? new Zf(t) : (console.warn(\"Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release.\"), new Zf({ modelTopology: t })) : (console.warn(\"Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release.\"), new Zf({ modelTopology: t, weightSpecs: e, weightData: n, trainingConfig: r })) },\r\n        getLoadHandlers: function(t, e) { return mf.getLoadHandlers(t, e) },\r\n        getModelArtifactsInfoForJSON: vf,\r\n        getSaveHandlers: function(t) { return mf.getSaveHandlers(t) },\r\n        http: Jf,\r\n        isHTTPScheme: $f,\r\n        loadWeights: function(t, e, o, a) { return void 0 === e && (e = \"\"), n(this, void 0, void 0, (function() { return r(this, (function(n) { return [2, Xf((function(t) { return jf(t, { requestInit: a }) }))(t, e, o)] })) })) },\r\n        registerLoadRouter: function(t) { return mf.registerLoadRouter(t) },\r\n        registerSaveRouter: function(t) { return mf.registerSaveRouter(t) },\r\n        weightsLoaderFactory: Xf,\r\n        withSaveHandler: function(t) { return new td(t) },\r\n        copyModel: function(t, e) { return n(this, void 0, void 0, (function() { return r(this, (function(n) { return [2, bf(t, e, !1)] })) })) },\r\n        listModels: function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t, e, n, o, a, i, s;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            t = yf.getSchemes(), e = {}, n = 0, o = t, r.label = 1;\r\n                        case 1:\r\n                            return n < o.length ? (a = o[n], [4, yf.getManager(a).listModels()]) : [3, 4];\r\n                        case 2:\r\n                            for (s in i = r.sent()) e[a + gf + s] = i[s];\r\n                            r.label = 3;\r\n                        case 3:\r\n                            return n++, [3, 1];\r\n                        case 4:\r\n                            return [2, e]\r\n                    }\r\n                }))\r\n            }))\r\n        },\r\n        moveModel: function(t, e) { return n(this, void 0, void 0, (function() { return r(this, (function(n) { return [2, bf(t, e, !0)] })) })) },\r\n        removeModel: function(t) { return n(this, void 0, void 0, (function() { var e; return r(this, (function(n) { return e = xf(t), [2, yf.getManager(e.scheme).removeModel(e.path)] })) })) }\r\n    });\r\n    var nd, rd = An({\r\n            confusionMatrix_: function(t, e, n) {\r\n                var r = mn(t, \"labels\", \"confusionMatrix\"),\r\n                    o = mn(e, \"predictions\", \"confusionMatrix\");\r\n                C(null == n || n > 0 && Number.isInteger(n), (function() { return \"If provided, numClasses must be a positive integer, but got \" + n })), C(1 === r.rank, (function() { return \"Expected the rank of labels to be 1, but got \" + r.rank })), C(1 === o.rank, (function() { return \"Expected the rank of predictions to be 1, but got \" + o.rank })), C(r.shape[0] === o.shape[0], (function() { return \"Mismatch in the number of examples: \" + r.shape[0] + \" vs. \" + o.shape[0] + \". Labels and predictions should have the same number of elements.\" })), C(n > 0 && Number.isInteger(n), (function() { return \"numClasses is required to be a positive integer, but got \" + n }));\r\n                var a = Rr(r.asType(\"int32\"), n),\r\n                    i = Rr(o.asType(\"int32\"), n);\r\n                return a.transpose().matMul(i).asType(\"int32\")\r\n            }\r\n        }),\r\n        od = Object.freeze({ confusionMatrix: rd });\r\n    var ad = An({\r\n            fromPixels_: function(t, e) {\r\n                if (void 0 === e && (e = 3), e > 4) throw new Error(\"Cannot construct Tensor with more than 4 channels from pixels.\");\r\n                if (null == t) throw new Error(\"pixels passed to tf.browser.fromPixels() can not be null\");\r\n                var n = !1,\r\n                    r = !1,\r\n                    o = !1,\r\n                    a = !1,\r\n                    i = !1;\r\n                if (t.data instanceof Uint8Array) n = !0;\r\n                else if (\"undefined\" != typeof ImageData && t instanceof ImageData) r = !0;\r\n                else if (\"undefined\" != typeof HTMLVideoElement && t instanceof HTMLVideoElement) o = !0;\r\n                else if (\"undefined\" != typeof HTMLImageElement && t instanceof HTMLImageElement) a = !0;\r\n                else {\r\n                    if (null == t.getContext) throw new Error(\"pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was \" + t.constructor.name);\r\n                    i = !0;\r\n                }\r\n                if (o) { if (o && t.readyState < 2) throw new Error(\"The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.\") }\r\n                if (null != l(\"FromPixels\", Lt.backendName)) return Lt.runKernel(\"FromPixels\", { pixels: t }, { numChannels: e });\r\n                var s, u, c = o ? [t.videoWidth, t.videoHeight] : [t.width, t.height],\r\n                    h = c[0],\r\n                    f = c[1];\r\n                if (i ? s = t.getContext(\"2d\").getImageData(0, 0, h, f).data : r || n ? s = t.data : (a || o) && (null == nd && (nd = document.createElement(\"canvas\").getContext(\"2d\")), nd.canvas.width = h, nd.canvas.height = f, nd.drawImage(t, 0, 0, h, f), s = nd.getImageData(0, 0, h, f).data), 4 === e) u = new Int32Array(s);\r\n                else {\r\n                    var d = h * f;\r\n                    u = new Int32Array(d * e);\r\n                    for (var p = 0; p < d; p++)\r\n                        for (var v = 0; v < e; ++v) u[p * e + v] = s[4 * p + v];\r\n                }\r\n                return Pn(u, [f, h, e], \"int32\")\r\n            }\r\n        }),\r\n        id = Object.freeze({\r\n            toPixels: function(t, e) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var n, o, a, i, s, u, c, l, h, f, d, p, v, m, g, y, x, b, w, C, E, R, I;\r\n                    return r(this, (function(r) {\r\n                        switch (r.label) {\r\n                            case 0:\r\n                                if (n = mn(t, \"img\", \"toPixels\"), t instanceof wt || (n = n.toInt()), 2 !== n.rank && 3 !== n.rank) throw new Error(\"toPixels only supports rank 2 or 3 tensors, got rank \" + n.rank + \".\");\r\n                                if (o = n.shape.slice(0, 2), a = o[0], i = o[1], (s = 2 === n.rank ? 1 : n.shape[2]) > 4 || 2 === s) throw new Error(\"toPixels only supports depth of size 1, 3 or 4 but got \" + s);\r\n                                return [4, n.data()];\r\n                            case 1:\r\n                                return u = r.sent(), c = n.min(), l = n.max(), [4, Promise.all([c.data(), l.data()])];\r\n                            case 2:\r\n                                if (h = r.sent(), f = h[0], d = h[1], p = f[0], v = d[0], c.dispose(), l.dispose(), \"float32\" === n.dtype) { if (p < 0 || v > 1) throw new Error(\"Tensor values for a float32 Tensor must be in the range [0 - 1] but got range [\" + p + \" - \" + v + \"].\") } else { if (\"int32\" !== n.dtype) throw new Error(\"Unsupported type for toPixels: \" + n.dtype + \". Please use float32 or int32 tensors.\"); if (p < 0 || v > 255) throw new Error(\"Tensor values for a int32 Tensor must be in the range [0 - 255] but got range [\" + p + \" - \" + v + \"].\") }\r\n                                for (m = \"float32\" === n.dtype ? 255 : 1, g = new Uint8ClampedArray(i * a * 4), y = 0; y < a * i; ++y) x = void 0, b = void 0, w = void 0, C = void 0, 1 === s ? (x = u[y] * m, b = u[y] * m, w = u[y] * m, C = 255) : 3 === s ? (x = u[3 * y] * m, b = u[3 * y + 1] * m, w = u[3 * y + 2] * m, C = 255) : 4 === s && (x = u[4 * y] * m, b = u[4 * y + 1] * m, w = u[4 * y + 2] * m, C = u[4 * y + 3] * m), g[(E = 4 * y) + 0] = Math.round(x), g[E + 1] = Math.round(b), g[E + 2] = Math.round(w), g[E + 3] = Math.round(C);\r\n                                return null != e && (e.width = i, e.height = a, R = e.getContext(\"2d\"), I = new ImageData(g, i, a), R.putImageData(I, 0, 0)), n !== t && n.dispose(), [2, g]\r\n                        }\r\n                    }))\r\n                }))\r\n            },\r\n            fromPixels: ad\r\n        }),\r\n        sd = function() {\r\n            function t() {}\r\n            return t.prototype.getClassName = function() { return this.constructor.className }, t.fromConfig = function(t, e) { return new t(e) }, t\r\n        }(),\r\n        ud = function() {\r\n            function t() { this.classNameMap = {}; }\r\n            return t.getMap = function() { return null == t.instance && (t.instance = new t), t.instance }, t.register = function(e) { t.getMap().classNameMap[e.className] = [e, e.fromConfig]; }, t\r\n        }();\r\n\r\n    function cd(t) { C(null != t.className, (function() { return \"Class being registered does not have the static className property defined.\" })), C(\"string\" == typeof t.className, (function() { return \"className is required to be a string, but got type \" + typeof t.className })), C(t.className.length > 0, (function() { return \"Class being registered has an empty-string as its className, which is disallowed.\" })), ud.register(t); }\r\n    var ld = Object.freeze({ Serializable: sd, SerializationMap: ud, registerClass: cd }),\r\n        hd = .001,\r\n        fd = .1;\r\n\r\n    function dd() { return 32 === Lt.backend.floatPrecision() ? hd : fd }\r\n\r\n    function pd(t, e, n) {\r\n        var r = !0;\r\n        if ((V(t) || V(e)) && (r = !1), V(t) && V(e) && (r = !0), r) {\r\n            var o = t.constructor.name,\r\n                a = e.constructor.name;\r\n            if (o !== a) throw new Error(\"Arrays are of different type. Actual: \" + o + \". Expected: \" + a)\r\n        }\r\n        if (Array.isArray(t) && Array.isArray(e)) {\r\n            var i = pn(t),\r\n                s = pn(e);\r\n            if (!S(i, s)) throw new Error(\"Arrays have different shapes. Actual: [\" + i + \"]. Expected: [\" + s + \"]\")\r\n        }\r\n        var u = V(t) ? t : I(t),\r\n            c = V(e) ? e : I(e);\r\n        if (u.length !== c.length) throw new Error(\"Arrays have different lengths actual: \" + u.length + \" vs expected: \" + c.length + \".\\nActual:   \" + u + \".\\nExpected: \" + c + \".\");\r\n        for (var l = 0; l < c.length; ++l) {\r\n            var h = u[l],\r\n                f = c[l];\r\n            if (!n(h, f)) throw new Error(\"Arrays differ: actual[\" + l + \"] = \" + h + \", expected[\" + l + \"] = \" + f + \".\\nActual:   \" + u + \".\\nExpected: \" + c + \".\")\r\n        }\r\n    }\r\n\r\n    function vd(t, e, n) { return !isFinite(t) && !isFinite(e) || !(isNaN(t) || isNaN(e) || Math.abs(t - e) > n) }\r\n    var md = Object.freeze({\r\n            TEST_EPSILON_FLOAT16: fd,\r\n            expectArraysClose: function(t, e, n) { return null == n && (n = dd()), pd(t, e, (function(t, e) { return vd(t, e, n) })) },\r\n            testEpsilon: dd,\r\n            expectPromiseToFail: function(t, e) { t().then((function() { return e.fail() }), (function() { return e() })); },\r\n            expectArraysEqual: function(t, e) { var n = \"string\" == typeof e || \"number\" == typeof e || \"boolean\" == typeof e ? [e] : e; return H(t) || H(t[0]) || H(e) || H(e[0]) ? pd(t, n, (function(t, e) { return t == e })) : pd(t, e, (function(t, e) { return vd(t, e, 0) })) },\r\n            expectNumbersClose: function(t, e, n) { if (null == n && (n = dd()), !vd(t, e, n)) throw new Error(\"Numbers differ: actual === \" + t + \", expected === \" + e) },\r\n            expectValuesInRange: function(t, e, n) {\r\n                for (var r = 0; r < t.length; r++)\r\n                    if (t[r] < e || t[r] > n) throw new Error(\"Value out of range:\" + t[r] + \" low: \" + e + \", high: \" + n)\r\n            },\r\n            expectArrayBuffersEqual: function(t, e) { expect(new Float32Array(t)).toEqual(new Float32Array(e)); }\r\n        }),\r\n        gd = \"1.7.0\";\r\n    var yd = Object.freeze({ gpgpu_util: Mi, webgl_util: Ge, forceHalfFloat: function() { i().set(\"WEBGL_FORCE_F16_TEXTURES\", !0); }, MathBackendWebGL: Zs, setWebGLContext: Kt, GPGPUContext: Bi }),\r\n        xd = function(t) {\r\n            function o() { return null !== t && t.apply(this, arguments) || this }\r\n            return e(o, t), o.prototype.minimize = function(t, e, n) {\r\n                void 0 === e && (e = !1);\r\n                var r = this.computeGradients(t, n),\r\n                    o = r.value,\r\n                    a = r.grads;\r\n                if (null != n) {\r\n                    var i = n.map((function(t) { return { name: t.name, tensor: a[t.name] } }));\r\n                    this.applyGradients(i);\r\n                } else this.applyGradients(a);\r\n                return tn(a), e ? o : (o.dispose(), null)\r\n            }, Object.defineProperty(o.prototype, \"iterations\", { get: function() { return null == this.iterations_ && (this.iterations_ = 0), this.iterations_ }, enumerable: !0, configurable: !0 }), o.prototype.incrementIterations = function() { this.iterations_ = this.iterations + 1; }, o.prototype.computeGradients = function(t, e) { return po(t, e) }, o.prototype.dispose = function() { null != this.iterations_ && tn(this.iterations_); }, o.prototype.saveIterations = function() { return n(this, void 0, void 0, (function() { return r(this, (function(t) { return null == this.iterations_ && (this.iterations_ = 0), [2, { name: \"iter\", tensor: On(this.iterations_, \"int32\") }] })) })) }, o.prototype.getWeights = function() { return n(this, void 0, void 0, (function() { return r(this, (function(t) { throw new Error(\"getWeights() is not implemented for this optimizer yet.\") })) })) }, o.prototype.setWeights = function(t) { return n(this, void 0, void 0, (function() { return r(this, (function(t) { throw new Error(\"setWeights() is not implemented for this optimizer class \" + this.getClassName()) })) })) }, o.prototype.extractIterations = function(t) {\r\n                return n(this, void 0, void 0, (function() {\r\n                    var e;\r\n                    return r(this, (function(n) {\r\n                        switch (n.label) {\r\n                            case 0:\r\n                                return e = this, [4, t[0].tensor.data()];\r\n                            case 1:\r\n                                return e.iterations_ = n.sent()[0], [2, t.slice(1)]\r\n                        }\r\n                    }))\r\n                }))\r\n            }, o\r\n        }(sd);\r\n    Object.defineProperty(xd, Symbol.hasInstance, { value: function(t) { return null != t.minimize && null != t.computeGradients && null != t.applyGradients } });\r\n    var bd = function(t) {\r\n        function o(e, n, r) { void 0 === r && (r = null); var o = t.call(this) || this; return o.learningRate = e, o.rho = n, o.epsilon = r, o.accumulatedGrads = [], o.accumulatedUpdates = [], null == r && (o.epsilon = Lt.backend.epsilon()), o }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this;\r\n            (Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t)).forEach((function(n, r) {\r\n                var o = Lt.registeredVariables[n];\r\n                null == e.accumulatedGrads[r] && (e.accumulatedGrads[r] = { originalName: n + \"/accum_grad\", variable: Ze((function() { return Xn(o).variable(!1) })) }), null == e.accumulatedUpdates[r] && (e.accumulatedUpdates[r] = { originalName: n + \"/accum_var\", variable: Ze((function() { return Xn(o).variable(!1) })) });\r\n                var a = Array.isArray(t) ? t[r].tensor : t[n];\r\n                if (null != a) {\r\n                    var i = e.accumulatedGrads[r].variable,\r\n                        s = e.accumulatedUpdates[r].variable;\r\n                    Ze((function() {\r\n                        var t = i.mul(e.rho).add(a.square().mul(1 - e.rho)),\r\n                            n = s.add(e.epsilon).sqrt().div(i.add(e.epsilon).sqrt()).mul(a),\r\n                            r = s.mul(e.rho).add(n.square().mul(1 - e.rho));\r\n                        i.assign(t), s.assign(r);\r\n                        var u = n.mul(-e.learningRate).add(o);\r\n                        o.assign(u);\r\n                    }));\r\n                }\r\n            })), this.incrementIterations();\r\n        }, o.prototype.dispose = function() { null != this.accumulatedUpdates && (tn(this.accumulatedGrads.map((function(t) { return t.variable }))), tn(this.accumulatedUpdates.map((function(t) { return t.variable })))); }, o.prototype.getWeights = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t;\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return t = this.accumulatedGrads.concat(this.accumulatedUpdates), [4, this.saveIterations()];\r\n                        case 1:\r\n                            return [2, [e.sent()].concat(t.map((function(t) { return { name: t.originalName, tensor: t.variable } })))]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.setWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e;\r\n                return r(this, (function(n) {\r\n                    switch (n.label) {\r\n                        case 0:\r\n                            return [4, this.extractIterations(t)];\r\n                        case 1:\r\n                            return t = n.sent(), e = t.length / 2, this.accumulatedGrads = t.slice(0, e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), this.accumulatedUpdates = t.slice(e, 2 * e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), [2]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.getConfig = function() { return { learningRate: this.learningRate, rho: this.rho, epsilon: this.epsilon } }, o.fromConfig = function(t, e) { return new t(e.learningRate, e.rho, e.epsilon) }, o.className = \"Adadelta\", o\r\n    }(xd);\r\n    cd(bd);\r\n    var wd = function(t) {\r\n        function o(e, n) { void 0 === n && (n = .1); var r = t.call(this) || this; return r.learningRate = e, r.initialAccumulatorValue = n, r.accumulatedGrads = [], r }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this;\r\n            (Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t)).forEach((function(n, r) {\r\n                var o = Lt.registeredVariables[n];\r\n                if (null == e.accumulatedGrads[r]) { e.accumulatedGrads[r] = { originalName: n + \"/accumulator\", variable: Ze((function() { return Hn(o.shape, e.initialAccumulatorValue).variable(!1) })) }; }\r\n                var a = Array.isArray(t) ? t[r].tensor : t[n];\r\n                if (null != a) {\r\n                    var i = e.accumulatedGrads[r].variable;\r\n                    Ze((function() {\r\n                        var t = i.add(a.square());\r\n                        i.assign(t);\r\n                        var n = a.div(t.add(Lt.backend.epsilon()).sqrt()).mul(-e.learningRate).add(o);\r\n                        o.assign(n);\r\n                    }));\r\n                }\r\n            })), this.incrementIterations();\r\n        }, o.prototype.dispose = function() { null != this.accumulatedGrads && tn(this.accumulatedGrads.map((function(t) { return t.variable }))); }, o.prototype.getWeights = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                return r(this, (function(t) {\r\n                    switch (t.label) {\r\n                        case 0:\r\n                            return [4, this.saveIterations()];\r\n                        case 1:\r\n                            return [2, [t.sent()].concat(this.accumulatedGrads.map((function(t) { return { name: t.originalName, tensor: t.variable } })))]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.setWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return [4, this.extractIterations(t)];\r\n                        case 1:\r\n                            return t = e.sent(), this.accumulatedGrads = t.map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), [2]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.getConfig = function() { return { learningRate: this.learningRate, initialAccumulatorValue: this.initialAccumulatorValue } }, o.fromConfig = function(t, e) { return new t(e.learningRate, e.initialAccumulatorValue) }, o.className = \"Adagrad\", o\r\n    }(xd);\r\n    cd(wd);\r\n    var Cd = function(t) {\r\n        function o(e, n, r, o) { void 0 === o && (o = null); var a = t.call(this) || this; return a.learningRate = e, a.beta1 = n, a.beta2 = r, a.epsilon = o, a.accumulatedFirstMoment = [], a.accumulatedSecondMoment = [], Ze((function() { a.accBeta1 = On(n).variable(), a.accBeta2 = On(r).variable(); })), null == o && (a.epsilon = Lt.backend.epsilon()), a }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this,\r\n                n = Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t);\r\n            Ze((function() {\r\n                var r = Cc(1, e.accBeta1),\r\n                    o = Cc(1, e.accBeta2);\r\n                n.forEach((function(n, a) {\r\n                    var i = Lt.registeredVariables[n];\r\n                    null == e.accumulatedFirstMoment[a] && (e.accumulatedFirstMoment[a] = { originalName: n + \"/m\", variable: Ze((function() { return Xn(i).variable(!1) })) }), null == e.accumulatedSecondMoment[a] && (e.accumulatedSecondMoment[a] = { originalName: n + \"/v\", variable: Ze((function() { return Xn(i).variable(!1) })) });\r\n                    var s = Array.isArray(t) ? t[a].tensor : t[n];\r\n                    if (null != s) {\r\n                        var u = e.accumulatedFirstMoment[a].variable,\r\n                            c = e.accumulatedSecondMoment[a].variable,\r\n                            l = u.mul(e.beta1).add(s.mul(1 - e.beta1)),\r\n                            h = c.mul(e.beta2).add(s.square().mul(1 - e.beta2)),\r\n                            f = l.div(r),\r\n                            d = h.div(o);\r\n                        u.assign(l), c.assign(h);\r\n                        var p = f.div(d.sqrt().add(e.epsilon)).mul(-e.learningRate).add(i);\r\n                        i.assign(p);\r\n                    }\r\n                })), e.accBeta1.assign(e.accBeta1.mul(e.beta1)), e.accBeta2.assign(e.accBeta2.mul(e.beta2));\r\n            })), this.incrementIterations();\r\n        }, o.prototype.dispose = function() { this.accBeta1.dispose(), this.accBeta2.dispose(), null != this.accumulatedFirstMoment && tn(this.accumulatedFirstMoment.map((function(t) { return t.variable }))), null != this.accumulatedSecondMoment && tn(this.accumulatedSecondMoment.map((function(t) { return t.variable }))); }, o.prototype.getWeights = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t;\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return t = this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment), [4, this.saveIterations()];\r\n                        case 1:\r\n                            return [2, [e.sent()].concat(t.map((function(t) { return { name: t.originalName, tensor: t.variable } })))]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.setWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e, n = this;\r\n                return r(this, (function(r) {\r\n                    switch (r.label) {\r\n                        case 0:\r\n                            return [4, this.extractIterations(t)];\r\n                        case 1:\r\n                            return t = r.sent(), Ze((function() { n.accBeta1.assign(xc(n.beta1, n.iterations_ + 1)), n.accBeta2.assign(xc(n.beta2, n.iterations_ + 1)); })), e = t.length / 2, this.accumulatedFirstMoment = t.slice(0, e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), this.accumulatedSecondMoment = t.slice(e, 2 * e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), [2]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.getConfig = function() { return { learningRate: this.learningRate, beta1: this.beta1, beta2: this.beta2, epsilon: this.epsilon } }, o.fromConfig = function(t, e) { return new t(e.learningRate, e.beta1, e.beta2, e.epsilon) }, o.className = \"Adam\", o\r\n    }(xd);\r\n    cd(Cd);\r\n    var Ed = function(t) {\r\n        function o(e, n, r, o, a) { void 0 === o && (o = null), void 0 === a && (a = 0); var i = t.call(this) || this; return i.learningRate = e, i.beta1 = n, i.beta2 = r, i.epsilon = o, i.decay = a, i.accumulatedFirstMoment = [], i.accumulatedWeightedInfNorm = [], Ze((function() { i.iteration = On(0).variable(), i.accBeta1 = On(n).variable(); })), null == o && (i.epsilon = Lt.backend.epsilon()), i }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this,\r\n                n = Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t);\r\n            Ze((function() {\r\n                var r = Cc(1, e.accBeta1),\r\n                    o = sc(-e.learningRate, e.iteration.mul(e.decay).add(1));\r\n                n.forEach((function(n, a) {\r\n                    var i = Lt.registeredVariables[n];\r\n                    null == e.accumulatedFirstMoment[a] && (e.accumulatedFirstMoment[a] = { originalName: n + \"/m\", variable: Xn(i).variable(!1) }), null == e.accumulatedWeightedInfNorm[a] && (e.accumulatedWeightedInfNorm[a] = { originalName: n + \"/v\", variable: Xn(i).variable(!1) });\r\n                    var s = Array.isArray(t) ? t[a].tensor : t[n];\r\n                    if (null != s) {\r\n                        var u = e.accumulatedFirstMoment[a].variable,\r\n                            c = e.accumulatedWeightedInfNorm[a].variable,\r\n                            l = u.mul(e.beta1).add(s.mul(1 - e.beta1)),\r\n                            h = c.mul(e.beta2),\r\n                            f = s.abs(),\r\n                            d = h.maximum(f);\r\n                        u.assign(l), c.assign(d);\r\n                        var p = o.div(r).mul(l.div(d.add(e.epsilon))).add(i);\r\n                        i.assign(p);\r\n                    }\r\n                })), e.iteration.assign(e.iteration.add(1)), e.accBeta1.assign(e.accBeta1.mul(e.beta1));\r\n            })), this.incrementIterations();\r\n        }, o.prototype.dispose = function() { this.accBeta1.dispose(), this.iteration.dispose(), null != this.accumulatedFirstMoment && tn(this.accumulatedFirstMoment.map((function(t) { return t.variable }))), null != this.accumulatedWeightedInfNorm && tn(this.accumulatedWeightedInfNorm.map((function(t) { return t.variable }))); }, o.prototype.getWeights = function() { return n(this, void 0, void 0, (function() { return r(this, (function(t) { throw new Error(\"getWeights() is not implemented for Adamax yet.\") })) })) }, o.prototype.setWeights = function(t) { return n(this, void 0, void 0, (function() { return r(this, (function(t) { throw new Error(\"setWeights() is not implemented for Adamax yet.\") })) })) }, o.prototype.getConfig = function() { return { learningRate: this.learningRate, beta1: this.beta1, beta2: this.beta2, epsilon: this.epsilon, decay: this.decay } }, o.fromConfig = function(t, e) { return new t(e.learningRate, e.beta1, e.beta2, e.epsilon, e.decay) }, o.className = \"Adamax\", o\r\n    }(xd);\r\n    cd(Ed);\r\n    var Rd = function(t) {\r\n        function o(e) { var n = t.call(this) || this; return n.learningRate = e, n.setLearningRate(e), n }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this;\r\n            (Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t)).forEach((function(n, r) {\r\n                var o = Array.isArray(t) ? t[r].tensor : t[n];\r\n                if (null != o) {\r\n                    var a = Lt.registeredVariables[n];\r\n                    Ze((function() {\r\n                        var t = e.c.mul(o).add(a);\r\n                        a.assign(t);\r\n                    }));\r\n                }\r\n            })), this.incrementIterations();\r\n        }, o.prototype.setLearningRate = function(t) { this.learningRate = t, null != this.c && this.c.dispose(), this.c = en(On(-t)); }, o.prototype.dispose = function() { this.c.dispose(); }, o.prototype.getWeights = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                return r(this, (function(t) {\r\n                    switch (t.label) {\r\n                        case 0:\r\n                            return [4, this.saveIterations()];\r\n                        case 1:\r\n                            return [2, [t.sent()]]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.setWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return [4, this.extractIterations(t)];\r\n                        case 1:\r\n                            if (0 !== (t = e.sent()).length) throw new Error(\"SGD optimizer does not have settable weights.\");\r\n                            return [2]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.getConfig = function() { return { learningRate: this.learningRate } }, o.fromConfig = function(t, e) { return new t(e.learningRate) }, o.className = \"SGD\", o\r\n    }(xd);\r\n    cd(Rd);\r\n    var Id = function(t) {\r\n        function o(e, n, r) { void 0 === r && (r = !1); var o = t.call(this, e) || this; return o.learningRate = e, o.momentum = n, o.useNesterov = r, o.accumulations = [], o.m = On(o.momentum), o }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this;\r\n            (Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t)).forEach((function(n, r) {\r\n                var o = Lt.registeredVariables[n];\r\n                if (null == e.accumulations[r]) { e.accumulations[r] = { originalName: n + \"/momentum\", variable: Ze((function() { return Xn(o).variable(!1) })) }; }\r\n                var a = e.accumulations[r].variable,\r\n                    i = Array.isArray(t) ? t[r].tensor : t[n];\r\n                null != i && Ze((function() {\r\n                    var t, n = e.m.mul(a).add(i);\r\n                    t = e.useNesterov ? e.c.mul(i.add(n.mul(e.m))).add(o) : e.c.mul(n).add(o), a.assign(n), o.assign(t);\r\n                }));\r\n            })), this.incrementIterations();\r\n        }, o.prototype.dispose = function() { this.m.dispose(), null != this.accumulations && tn(this.accumulations.map((function(t) { return t.variable }))); }, o.prototype.setMomentum = function(t) { this.momentum = t; }, o.prototype.getWeights = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                return r(this, (function(t) {\r\n                    switch (t.label) {\r\n                        case 0:\r\n                            return [4, this.saveIterations()];\r\n                        case 1:\r\n                            return [2, [t.sent()].concat(this.accumulations.map((function(t) { return { name: t.originalName, tensor: t.variable } })))]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.setWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return [4, this.extractIterations(t)];\r\n                        case 1:\r\n                            return t = e.sent(), this.accumulations = t.map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), [2]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.getConfig = function() { return { learningRate: this.learningRate, momentum: this.momentum, useNesterov: this.useNesterov } }, o.fromConfig = function(t, e) { return new t(e.learningRate, e.momentum, e.useNesterov) }, o.className = \"Momentum\", o\r\n    }(Rd);\r\n    cd(Id);\r\n    var kd = function(t) {\r\n        function o(e, n, r, o, a) { void 0 === n && (n = .9), void 0 === r && (r = 0), void 0 === o && (o = null), void 0 === a && (a = !1); var i = t.call(this) || this; if (i.learningRate = e, i.decay = n, i.momentum = r, i.epsilon = o, i.accumulatedMeanSquares = [], i.accumulatedMoments = [], i.accumulatedMeanGrads = [], i.centered = a, null == o && (i.epsilon = Lt.backend.epsilon()), null == e) throw new Error(\"learningRate for RMSPropOptimizer must be defined.\"); return i }\r\n        return e(o, t), o.prototype.applyGradients = function(t) {\r\n            var e = this;\r\n            (Array.isArray(t) ? t.map((function(t) { return t.name })) : Object.keys(t)).forEach((function(n, r) {\r\n                var o = Lt.registeredVariables[n];\r\n                null == e.accumulatedMeanSquares[r] && (e.accumulatedMeanSquares[r] = { originalName: n + \"/rms\", variable: Ze((function() { return Xn(o).variable(!1) })) }), null == e.accumulatedMoments[r] && (e.accumulatedMoments[r] = { originalName: n + \"/momentum\", variable: Ze((function() { return Xn(o).variable(!1) })) }), null == e.accumulatedMeanGrads[r] && e.centered && (e.accumulatedMeanGrads[r] = { originalName: n + \"/mg\", variable: Ze((function() { return Xn(o).variable(!1) })) });\r\n                var a = Array.isArray(t) ? t[r].tensor : t[n];\r\n                if (null != a) {\r\n                    var i = e.accumulatedMeanSquares[r].variable,\r\n                        s = e.accumulatedMoments[r].variable;\r\n                    Ze((function() {\r\n                        var t = i.mul(e.decay).add(a.square().mul(1 - e.decay));\r\n                        if (e.centered) {\r\n                            var n = e.accumulatedMeanGrads[r].variable,\r\n                                u = n.mul(e.decay).add(a.mul(1 - e.decay)),\r\n                                c = s.mul(e.momentum).add(a.mul(e.learningRate).div(t.sub(u.square().add(e.epsilon)).sqrt()));\r\n                            i.assign(t), n.assign(u), s.assign(c);\r\n                            var l = o.sub(c);\r\n                            o.assign(l);\r\n                        } else {\r\n                            var h = i.mul(e.decay).add(a.square().mul(1 - e.decay));\r\n                            c = s.mul(e.momentum).add(a.mul(e.learningRate).div(h.add(e.epsilon).sqrt()));\r\n                            i.assign(h), s.assign(c);\r\n                            l = o.sub(c);\r\n                            o.assign(l);\r\n                        }\r\n                    }));\r\n                }\r\n            })), this.incrementIterations();\r\n        }, o.prototype.dispose = function() { null != this.accumulatedMeanSquares && tn(this.accumulatedMeanSquares.map((function(t) { return t.variable }))), null != this.accumulatedMeanGrads && this.centered && tn(this.accumulatedMeanGrads.map((function(t) { return t.variable }))), null != this.accumulatedMoments && tn(this.accumulatedMoments.map((function(t) { return t.variable }))); }, o.prototype.getWeights = function() {\r\n            return n(this, void 0, void 0, (function() {\r\n                var t;\r\n                return r(this, (function(e) {\r\n                    switch (e.label) {\r\n                        case 0:\r\n                            return t = this.accumulatedMeanSquares.concat(this.accumulatedMoments), this.centered && t.push.apply(t, this.accumulatedMeanGrads), [4, this.saveIterations()];\r\n                        case 1:\r\n                            return [2, [e.sent()].concat(t.map((function(t) { return { name: t.originalName, tensor: t.variable } })))]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.setWeights = function(t) {\r\n            return n(this, void 0, void 0, (function() {\r\n                var e;\r\n                return r(this, (function(n) {\r\n                    switch (n.label) {\r\n                        case 0:\r\n                            return [4, this.extractIterations(t)];\r\n                        case 1:\r\n                            return t = n.sent(), e = this.centered ? t.length / 3 : t.length / 2, this.accumulatedMeanSquares = t.slice(0, e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), this.accumulatedMoments = t.slice(e, 2 * e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } })), this.centered && (this.accumulatedMeanGrads = t.slice(2 * e, 3 * e).map((function(t) { return { originalName: t.name, variable: t.tensor.variable(!1) } }))), [2]\r\n                    }\r\n                }))\r\n            }))\r\n        }, o.prototype.getConfig = function() { return { learningRate: this.learningRate, decay: this.decay, momentum: this.momentum, epsilon: this.epsilon, centered: this.centered } }, o.fromConfig = function(t, e) { return new t(e.learningRate, e.decay, e.momentum, e.epsilon, e.centered) }, o.className = \"RMSProp\", o\r\n    }(xd);\r\n    cd(kd);\r\n    var Sd = function() {\r\n            function t() {}\r\n            return t.sgd = function(t) { return new Rd(t) }, t.momentum = function(t, e, n) { return void 0 === n && (n = !1), new Id(t, e, n) }, t.rmsprop = function(t, e, n, r, o) { return void 0 === e && (e = .9), void 0 === n && (n = 0), void 0 === r && (r = null), void 0 === o && (o = !1), new kd(t, e, n, r, o) }, t.adam = function(t, e, n, r) { return void 0 === t && (t = .001), void 0 === e && (e = .9), void 0 === n && (n = .999), void 0 === r && (r = null), new Cd(t, e, n, r) }, t.adadelta = function(t, e, n) { return void 0 === t && (t = .001), void 0 === e && (e = .95), void 0 === n && (n = null), new bd(t, e, n) }, t.adamax = function(t, e, n, r, o) { return void 0 === t && (t = .002), void 0 === e && (e = .9), void 0 === n && (n = .999), void 0 === r && (r = null), void 0 === o && (o = 0), new Ed(t, e, n, r, o) }, t.adagrad = function(t, e) { return void 0 === e && (e = .1), new wd(t, e) }, t\r\n        }(),\r\n        Ad = { sgd: Sd.sgd, momentum: Sd.momentum, adadelta: Sd.adadelta, adagrad: Sd.adagrad, rmsprop: Sd.rmsprop, adamax: Sd.adamax, adam: Sd.adam },\r\n        Dd = \"undefined\" != typeof requestAnimationFrame ? requestAnimationFrame : \"undefined\" != typeof setImmediate ? setImmediate : function(t) { return t() };\r\n\r\n    function Td() { return new Promise((function(t) { return Dd((function() { return t() })) })) }\r\n    wt.prototype.squaredDifference = function(t) { return nu(this, t) }, xt = Gh;\r\n\r\n    var tfCore_esm = /*#__PURE__*/ Object.freeze({\r\n        __proto__: null,\r\n        AdadeltaOptimizer: bd,\r\n        AdagradOptimizer: wd,\r\n        AdamOptimizer: Cd,\r\n        AdamaxOptimizer: Ed,\r\n        DataStorage: xo,\r\n        get ENV() { return s; },\r\n        Environment: o,\r\n        KernelBackend: bo,\r\n        MomentumOptimizer: Id,\r\n        Optimizer: xd,\r\n        RMSPropOptimizer: kd,\r\n        get Rank() { return Ct; },\r\n        get Reduction() { return ch; },\r\n        SGDOptimizer: Rd,\r\n        Tensor: wt,\r\n        TensorBuffer: gt,\r\n        Variable: St,\r\n        abs: ru,\r\n        acos: ou,\r\n        acosh: au,\r\n        add: rc,\r\n        addN: oc,\r\n        addStrict: ac,\r\n        all: Cl,\r\n        any: El,\r\n        argMax: Rl,\r\n        argMin: Il,\r\n        asin: iu,\r\n        asinh: su,\r\n        atan: uu,\r\n        atan2: ic,\r\n        atanh: cu,\r\n        avgPool: fl,\r\n        avgPool3d: vl,\r\n        backend: hn,\r\n        backend_util: Uo,\r\n        basicLSTMCell: zl,\r\n        batchNorm: ju,\r\n        batchNorm2d: Xu,\r\n        batchNorm3d: Yu,\r\n        batchNorm4d: $u,\r\n        batchNormalization: Ku,\r\n        batchNormalization2d: Gu,\r\n        batchNormalization3d: Hu,\r\n        batchNormalization4d: qu,\r\n        batchToSpaceND: vr,\r\n        booleanMaskAsync: Uc,\r\n        broadcastTo: mr,\r\n        browser: id,\r\n        buffer: dr,\r\n        cast: gr,\r\n        ceil: lu,\r\n        clipByValue: hu,\r\n        clone: yr,\r\n        complex: Dn,\r\n        concat: Yn,\r\n        concat1d: $n,\r\n        concat2d: Qn,\r\n        concat3d: Jn,\r\n        concat4d: Zn,\r\n        conv1d: Hc,\r\n        conv2d: qc,\r\n        conv2dTranspose: Zc,\r\n        conv3d: Kc,\r\n        conv3dTranspose: tl,\r\n        cos: fu,\r\n        cosh: du,\r\n        cumsum: xr,\r\n        customGrad: vo,\r\n        deprecationWarn: Xe,\r\n        depthToSpace: br,\r\n        depthwiseConv2d: Yc,\r\n        diag: eh,\r\n        disableDeprecationWarnings: je,\r\n        dispose: tn,\r\n        disposeVariables: Ye,\r\n        div: sc,\r\n        divNoNan: uc,\r\n        divStrict: cc,\r\n        dot: nl,\r\n        dropout: nh,\r\n        elu: _l,\r\n        enableDebugMode: Ke,\r\n        enableProdMode: qe,\r\n        engine: $e,\r\n        env: i,\r\n        equal: Rc,\r\n        equalStrict: Ic,\r\n        erf: pu,\r\n        exp: vu,\r\n        expandDims: wr,\r\n        expm1: mu,\r\n        eye: Cr,\r\n        fft: Xl,\r\n        fill: Hn,\r\n        findBackend: un,\r\n        findBackendFactory: cn,\r\n        floor: gu,\r\n        floorDiv: lc,\r\n        frame: ih,\r\n        fused: zh,\r\n        gather: Lc,\r\n        gatherND: th,\r\n        gather_util: Xr,\r\n        getBackend: an,\r\n        getGradient: h,\r\n        getKernel: l,\r\n        getKernelsForBackend: f,\r\n        grad: co,\r\n        grads: lo,\r\n        greater: kc,\r\n        greaterEqual: Sc,\r\n        greaterEqualStrict: Ac,\r\n        greaterStrict: Dc,\r\n        hammingWindow: ah,\r\n        hannWindow: oh,\r\n        ifft: Yl,\r\n        imag: Nn,\r\n        image: Oh,\r\n        inTopKAsync: lh,\r\n        io: ed,\r\n        irfft: Ql,\r\n        isFinite: Du,\r\n        isInf: Au,\r\n        isNaN: Su,\r\n        keep: en,\r\n        leakyRelu: Ol,\r\n        less: Tc,\r\n        lessEqual: Nc,\r\n        lessEqualStrict: Fc,\r\n        lessStrict: _c,\r\n        linalg: Ih,\r\n        linspace: qn,\r\n        localResponseNormalization: Ul,\r\n        log: yu,\r\n        log1p: xu,\r\n        logSigmoid: bu,\r\n        logSoftmax: yo,\r\n        logSumExp: kl,\r\n        logicalAnd: Qu,\r\n        logicalNot: Ju,\r\n        logicalOr: Zu,\r\n        logicalXor: tc,\r\n        losses: bh,\r\n        matMul: el,\r\n        math: od,\r\n        max: Sl,\r\n        maxPool: hl,\r\n        maxPool3d: pl,\r\n        maximum: hc,\r\n        maximumStrict: fc,\r\n        mean: Al,\r\n        memory: Qe,\r\n        min: Dl,\r\n        minimum: dc,\r\n        minimumStrict: pc,\r\n        mod: vc,\r\n        modStrict: mc,\r\n        moments: Tl,\r\n        movingAverage: Hl,\r\n        mul: gc,\r\n        mulStrict: yc,\r\n        multiRNNCell: Gl,\r\n        multinomial: Er,\r\n        neg: wu,\r\n        nextFrame: Td,\r\n        norm: Vl,\r\n        notEqual: Oc,\r\n        notEqualStrict: Mc,\r\n        oneHot: Rr,\r\n        ones: zn,\r\n        onesLike: jn,\r\n        op: An,\r\n        outerProduct: rl,\r\n        pad: Ir,\r\n        pad1d: kr,\r\n        pad2d: Sr,\r\n        pad3d: Ar,\r\n        pad4d: Dr,\r\n        pool: dl,\r\n        pow: xc,\r\n        powStrict: bc,\r\n        prelu: Ml,\r\n        print: pr,\r\n        prod: Fl,\r\n        profile: Je,\r\n        rand: Tr,\r\n        randomGamma: Fr,\r\n        randomNormal: Nr,\r\n        randomUniform: _r,\r\n        range: Kn,\r\n        ready: on,\r\n        real: Tn,\r\n        reciprocal: Cu,\r\n        registerBackend: ln,\r\n        registerGradient: p,\r\n        registerKernel: d,\r\n        relu: Bl,\r\n        relu6: Pl,\r\n        removeBackend: sn,\r\n        reshape: Or,\r\n        reverse: ol,\r\n        reverse1d: al,\r\n        reverse2d: il,\r\n        reverse3d: sl,\r\n        reverse4d: ul,\r\n        rfft: $l,\r\n        round: Eu,\r\n        rsqrt: Ru,\r\n        scalar: On,\r\n        scatterND: jl,\r\n        scatter_util: to,\r\n        selu: Ll,\r\n        separableConv2d: Jc,\r\n        serialization: ld,\r\n        setBackend: rn,\r\n        setPlatform: fn,\r\n        setdiff1dAsync: Vr,\r\n        sigmoid: Iu,\r\n        sign: ku,\r\n        signal: uh,\r\n        sin: Tu,\r\n        sinh: Nu,\r\n        slice: ml,\r\n        slice1d: gl,\r\n        slice2d: yl,\r\n        slice3d: xl,\r\n        slice4d: bl,\r\n        slice_util: uo,\r\n        softmax: go,\r\n        softplus: Fu,\r\n        spaceToBatchND: Mr,\r\n        sparseToDense: Zl,\r\n        spectral: Jl,\r\n        split: tr,\r\n        sqrt: _u,\r\n        square: tu,\r\n        squaredDifference: nu,\r\n        squaredDifferenceStrict: wc,\r\n        squeeze: Br,\r\n        stack: Pr,\r\n        step: Ou,\r\n        stft: sh,\r\n        stridedSlice: ql,\r\n        sub: Cc,\r\n        subStrict: Ec,\r\n        sum: Nl,\r\n        sumOutType: Tt,\r\n        tan: Mu,\r\n        tanh: Bu,\r\n        tensor: Fn,\r\n        tensor1d: Mn,\r\n        tensor2d: Bn,\r\n        tensor3d: Pn,\r\n        tensor4d: Ln,\r\n        tensor5d: Wn,\r\n        tensor6d: Un,\r\n        tensor_util: Mt,\r\n        test_util: md,\r\n        tidy: Ze,\r\n        tile: Lr,\r\n        time: nn,\r\n        topk: Kl,\r\n        train: Ad,\r\n        transpose: Wl,\r\n        truncatedNormal: Wr,\r\n        unregisterGradient: m,\r\n        unregisterKernel: v,\r\n        unsortedSegmentSum: Wc,\r\n        unstack: Ur,\r\n        util: st,\r\n        valueAndGrad: ho,\r\n        valueAndGrads: fo,\r\n        variable: Vn,\r\n        variableGrads: po,\r\n        version_core: gd,\r\n        webgl: yd,\r\n        where: ec,\r\n        whereAsync: nc,\r\n        zeros: Gn,\r\n        zerosLike: Xn\r\n    });\r\n\r\n    function drawContour(ctx, points, isClosed) {\r\n        if (isClosed === void 0) { isClosed = false; }\r\n        ctx.beginPath();\r\n        points.slice(1).forEach(function(_a, prevIdx) {\r\n            var x = _a.x,\r\n                y = _a.y;\r\n            var from = points[prevIdx];\r\n            ctx.moveTo(from.x, from.y);\r\n            ctx.lineTo(x, y);\r\n        });\r\n        if (isClosed) {\r\n            var from = points[points.length - 1];\r\n            var to = points[0];\r\n            if (!from || !to) {\r\n                return;\r\n            }\r\n            ctx.moveTo(from.x, from.y);\r\n            ctx.lineTo(to.x, to.y);\r\n        }\r\n        ctx.stroke();\r\n    }\r\n\r\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] }\r\n                instanceof Array && function(d, b) { d.__proto__ = b; }) ||\r\n            function(d, b) {\r\n                for (var p in b)\r\n                    if (b.hasOwnProperty(p)) d[p] = b[p];\r\n            };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s)\r\n                    if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new(P || (P = Promise))(function(resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n\r\n            function step(result) { result.done ? resolve(result.value) : new P(function(resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] },\r\n            f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n\r\n        function verb(n) { return function(v) { return step([n, v]); }; }\r\n\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0:\r\n                    case 1:\r\n                        t = op;\r\n                        break;\r\n                    case 4:\r\n                        _.label++;\r\n                        return { value: op[1], done: false };\r\n                    case 5:\r\n                        _.label++;\r\n                        y = op[1];\r\n                        op = [0];\r\n                        continue;\r\n                    case 7:\r\n                        op = _.ops.pop();\r\n                        _.trys.pop();\r\n                        continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) {\r\n                            _.label = t[1];\r\n                            t = op;\r\n                            break;\r\n                        }\r\n                        if (t && _.label < t[2]) {\r\n                            _.label = t[2];\r\n                            _.ops.push(op);\r\n                            break;\r\n                        }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop();\r\n                        continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) {\r\n                op = [6, e];\r\n                y = 0;\r\n            } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1];\r\n            return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\r\n\r\n    var Dimensions = /** @class */ (function() {\r\n        function Dimensions(width, height) {\r\n            if (!isValidNumber(width) || !isValidNumber(height)) {\r\n                throw new Error(\"Dimensions.constructor - expected width and height to be valid numbers, instead have \" + JSON.stringify({ width: width, height: height }));\r\n            }\r\n            this._width = width;\r\n            this._height = height;\r\n        }\r\n        Object.defineProperty(Dimensions.prototype, \"width\", {\r\n            get: function() { return this._width; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Dimensions.prototype, \"height\", {\r\n            get: function() { return this._height; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Dimensions.prototype.reverse = function() {\r\n            return new Dimensions(1 / this.width, 1 / this.height);\r\n        };\r\n        return Dimensions;\r\n    }());\r\n\r\n    function isTensor(tensor, dim) {\r\n        return tensor instanceof wt && tensor.shape.length === dim;\r\n    }\r\n\r\n    function isTensor1D(tensor) {\r\n        return isTensor(tensor, 1);\r\n    }\r\n\r\n    function isTensor2D(tensor) {\r\n        return isTensor(tensor, 2);\r\n    }\r\n\r\n    function isTensor3D(tensor) {\r\n        return isTensor(tensor, 3);\r\n    }\r\n\r\n    function isTensor4D(tensor) {\r\n        return isTensor(tensor, 4);\r\n    }\r\n\r\n    function isFloat(num) {\r\n        return num % 1 !== 0;\r\n    }\r\n\r\n    function isEven(num) {\r\n        return num % 2 === 0;\r\n    }\r\n\r\n    function round(num, prec) {\r\n        if (prec === void 0) { prec = 2; }\r\n        var f = Math.pow(10, prec);\r\n        return Math.floor(num * f) / f;\r\n    }\r\n\r\n    function isDimensions(obj) {\r\n        return obj && obj.width && obj.height;\r\n    }\r\n\r\n    function computeReshapedDimensions(_a, inputSize) {\r\n        var width = _a.width,\r\n            height = _a.height;\r\n        var scale = inputSize / Math.max(height, width);\r\n        return new Dimensions(Math.round(width * scale), Math.round(height * scale));\r\n    }\r\n\r\n    function getCenterPoint(pts) {\r\n        return pts.reduce(function(sum, pt) { return sum.add(pt); }, new Point(0, 0))\r\n            .div(new Point(pts.length, pts.length));\r\n    }\r\n\r\n    function range(num, start, step) {\r\n        return Array(num).fill(0).map(function(_, i) { return start + (i * step); });\r\n    }\r\n\r\n    function isValidNumber(num) {\r\n        return !!num && num !== Infinity && num !== -Infinity && !isNaN(num) || num === 0;\r\n    }\r\n\r\n    function isValidProbablitiy(num) {\r\n        return isValidNumber(num) && 0 <= num && num <= 1.0;\r\n    }\r\n\r\n    var index = /*#__PURE__*/ Object.freeze({\r\n        __proto__: null,\r\n        isTensor: isTensor,\r\n        isTensor1D: isTensor1D,\r\n        isTensor2D: isTensor2D,\r\n        isTensor3D: isTensor3D,\r\n        isTensor4D: isTensor4D,\r\n        isFloat: isFloat,\r\n        isEven: isEven,\r\n        round: round,\r\n        isDimensions: isDimensions,\r\n        computeReshapedDimensions: computeReshapedDimensions,\r\n        getCenterPoint: getCenterPoint,\r\n        range: range,\r\n        isValidNumber: isValidNumber,\r\n        isValidProbablitiy: isValidProbablitiy\r\n    });\r\n\r\n    var Point = /** @class */ (function() {\r\n        function Point(x, y) {\r\n            this._x = x;\r\n            this._y = y;\r\n        }\r\n        Object.defineProperty(Point.prototype, \"x\", {\r\n            get: function() { return this._x; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Point.prototype, \"y\", {\r\n            get: function() { return this._y; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Point.prototype.add = function(pt) {\r\n            return new Point(this.x + pt.x, this.y + pt.y);\r\n        };\r\n        Point.prototype.sub = function(pt) {\r\n            return new Point(this.x - pt.x, this.y - pt.y);\r\n        };\r\n        Point.prototype.mul = function(pt) {\r\n            return new Point(this.x * pt.x, this.y * pt.y);\r\n        };\r\n        Point.prototype.div = function(pt) {\r\n            return new Point(this.x / pt.x, this.y / pt.y);\r\n        };\r\n        Point.prototype.abs = function() {\r\n            return new Point(Math.abs(this.x), Math.abs(this.y));\r\n        };\r\n        Point.prototype.magnitude = function() {\r\n            return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\r\n        };\r\n        Point.prototype.floor = function() {\r\n            return new Point(Math.floor(this.x), Math.floor(this.y));\r\n        };\r\n        return Point;\r\n    }());\r\n\r\n    var Box = /** @class */ (function() {\r\n        function Box(_box, allowNegativeDimensions) {\r\n            if (allowNegativeDimensions === void 0) { allowNegativeDimensions = true; }\r\n            var box = (_box || {});\r\n            var isBbox = [box.left, box.top, box.right, box.bottom].every(isValidNumber);\r\n            var isRect = [box.x, box.y, box.width, box.height].every(isValidNumber);\r\n            if (!isRect && !isBbox) {\r\n                throw new Error(\"Box.constructor - expected box to be IBoundingBox | IRect, instead have \" + JSON.stringify(box));\r\n            }\r\n            var _a = isRect ? [box.x, box.y, box.width, box.height] : [box.left, box.top, box.right - box.left, box.bottom - box.top],\r\n                x = _a[0],\r\n                y = _a[1],\r\n                width = _a[2],\r\n                height = _a[3];\r\n            Box.assertIsValidBox({ x: x, y: y, width: width, height: height }, 'Box.constructor', allowNegativeDimensions);\r\n            this._x = x;\r\n            this._y = y;\r\n            this._width = width;\r\n            this._height = height;\r\n        }\r\n        Box.isRect = function(rect) {\r\n            return !!rect && [rect.x, rect.y, rect.width, rect.height].every(isValidNumber);\r\n        };\r\n        Box.assertIsValidBox = function(box, callee, allowNegativeDimensions) {\r\n            if (allowNegativeDimensions === void 0) { allowNegativeDimensions = false; }\r\n            if (!Box.isRect(box)) {\r\n                throw new Error(callee + \" - invalid box: \" + JSON.stringify(box) + \", expected object with properties x, y, width, height\");\r\n            }\r\n            if (!allowNegativeDimensions && (box.width < 0 || box.height < 0)) {\r\n                throw new Error(callee + \" - width (\" + box.width + \") and height (\" + box.height + \") must be positive numbers\");\r\n            }\r\n        };\r\n        Object.defineProperty(Box.prototype, \"x\", {\r\n            get: function() { return this._x; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"y\", {\r\n            get: function() { return this._y; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"width\", {\r\n            get: function() { return this._width; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"height\", {\r\n            get: function() { return this._height; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"left\", {\r\n            get: function() { return this.x; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"top\", {\r\n            get: function() { return this.y; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"right\", {\r\n            get: function() { return this.x + this.width; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"bottom\", {\r\n            get: function() { return this.y + this.height; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"area\", {\r\n            get: function() { return this.width * this.height; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"topLeft\", {\r\n            get: function() { return new Point(this.left, this.top); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"topRight\", {\r\n            get: function() { return new Point(this.right, this.top); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"bottomLeft\", {\r\n            get: function() { return new Point(this.left, this.bottom); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Box.prototype, \"bottomRight\", {\r\n            get: function() { return new Point(this.right, this.bottom); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Box.prototype.round = function() {\r\n            var _a = [this.x, this.y, this.width, this.height]\r\n                .map(function(val) { return Math.round(val); }),\r\n                x = _a[0],\r\n                y = _a[1],\r\n                width = _a[2],\r\n                height = _a[3];\r\n            return new Box({ x: x, y: y, width: width, height: height });\r\n        };\r\n        Box.prototype.floor = function() {\r\n            var _a = [this.x, this.y, this.width, this.height]\r\n                .map(function(val) { return Math.floor(val); }),\r\n                x = _a[0],\r\n                y = _a[1],\r\n                width = _a[2],\r\n                height = _a[3];\r\n            return new Box({ x: x, y: y, width: width, height: height });\r\n        };\r\n        Box.prototype.toSquare = function() {\r\n            var _a = this,\r\n                x = _a.x,\r\n                y = _a.y,\r\n                width = _a.width,\r\n                height = _a.height;\r\n            var diff = Math.abs(width - height);\r\n            if (width < height) {\r\n                x -= (diff / 2);\r\n                width += diff;\r\n            }\r\n            if (height < width) {\r\n                y -= (diff / 2);\r\n                height += diff;\r\n            }\r\n            return new Box({ x: x, y: y, width: width, height: height });\r\n        };\r\n        Box.prototype.rescale = function(s) {\r\n            var scaleX = isDimensions(s) ? s.width : s;\r\n            var scaleY = isDimensions(s) ? s.height : s;\r\n            return new Box({\r\n                x: this.x * scaleX,\r\n                y: this.y * scaleY,\r\n                width: this.width * scaleX,\r\n                height: this.height * scaleY\r\n            });\r\n        };\r\n        Box.prototype.pad = function(padX, padY) {\r\n            var _a = [\r\n                    this.x - (padX / 2),\r\n                    this.y - (padY / 2),\r\n                    this.width + padX,\r\n                    this.height + padY\r\n                ],\r\n                x = _a[0],\r\n                y = _a[1],\r\n                width = _a[2],\r\n                height = _a[3];\r\n            return new Box({ x: x, y: y, width: width, height: height });\r\n        };\r\n        Box.prototype.clipAtImageBorders = function(imgWidth, imgHeight) {\r\n            var _a = this,\r\n                x = _a.x,\r\n                y = _a.y,\r\n                right = _a.right,\r\n                bottom = _a.bottom;\r\n            var clippedX = Math.max(x, 0);\r\n            var clippedY = Math.max(y, 0);\r\n            var newWidth = right - clippedX;\r\n            var newHeight = bottom - clippedY;\r\n            var clippedWidth = Math.min(newWidth, imgWidth - clippedX);\r\n            var clippedHeight = Math.min(newHeight, imgHeight - clippedY);\r\n            return (new Box({ x: clippedX, y: clippedY, width: clippedWidth, height: clippedHeight })).floor();\r\n        };\r\n        Box.prototype.shift = function(sx, sy) {\r\n            var _a = this,\r\n                width = _a.width,\r\n                height = _a.height;\r\n            var x = this.x + sx;\r\n            var y = this.y + sy;\r\n            return new Box({ x: x, y: y, width: width, height: height });\r\n        };\r\n        Box.prototype.padAtBorders = function(imageHeight, imageWidth) {\r\n            var w = this.width + 1;\r\n            var h = this.height + 1;\r\n            var dx = 1;\r\n            var dy = 1;\r\n            var edx = w;\r\n            var edy = h;\r\n            var x = this.left;\r\n            var y = this.top;\r\n            var ex = this.right;\r\n            var ey = this.bottom;\r\n            if (ex > imageWidth) {\r\n                edx = -ex + imageWidth + w;\r\n                ex = imageWidth;\r\n            }\r\n            if (ey > imageHeight) {\r\n                edy = -ey + imageHeight + h;\r\n                ey = imageHeight;\r\n            }\r\n            if (x < 1) {\r\n                edy = 2 - x;\r\n                x = 1;\r\n            }\r\n            if (y < 1) {\r\n                edy = 2 - y;\r\n                y = 1;\r\n            }\r\n            return { dy: dy, edy: edy, dx: dx, edx: edx, y: y, ey: ey, x: x, ex: ex, w: w, h: h };\r\n        };\r\n        Box.prototype.calibrate = function(region) {\r\n            return new Box({\r\n                left: this.left + (region.left * this.width),\r\n                top: this.top + (region.top * this.height),\r\n                right: this.right + (region.right * this.width),\r\n                bottom: this.bottom + (region.bottom * this.height)\r\n            }).toSquare().round();\r\n        };\r\n        return Box;\r\n    }());\r\n\r\n    var BoundingBox = /** @class */ (function(_super) {\r\n        __extends(BoundingBox, _super);\r\n\r\n        function BoundingBox(left, top, right, bottom, allowNegativeDimensions) {\r\n            if (allowNegativeDimensions === void 0) { allowNegativeDimensions = false; }\r\n            return _super.call(this, { left: left, top: top, right: right, bottom: bottom }, allowNegativeDimensions) || this;\r\n        }\r\n        return BoundingBox;\r\n    }(Box));\r\n\r\n    var ObjectDetection = /** @class */ (function() {\r\n        function ObjectDetection(score, classScore, className, relativeBox, imageDims) {\r\n            this._imageDims = new Dimensions(imageDims.width, imageDims.height);\r\n            this._score = score;\r\n            this._classScore = classScore;\r\n            this._className = className;\r\n            this._box = new Box(relativeBox).rescale(this._imageDims);\r\n        }\r\n        Object.defineProperty(ObjectDetection.prototype, \"score\", {\r\n            get: function() { return this._score; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"classScore\", {\r\n            get: function() { return this._classScore; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"className\", {\r\n            get: function() { return this._className; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"box\", {\r\n            get: function() { return this._box; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"imageDims\", {\r\n            get: function() { return this._imageDims; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"imageWidth\", {\r\n            get: function() { return this.imageDims.width; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"imageHeight\", {\r\n            get: function() { return this.imageDims.height; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ObjectDetection.prototype, \"relativeBox\", {\r\n            get: function() { return new Box(this._box).rescale(this.imageDims.reverse()); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ObjectDetection.prototype.forSize = function(width, height) {\r\n            return new ObjectDetection(this.score, this.classScore, this.className, this.relativeBox, { width: width, height: height });\r\n        };\r\n        return ObjectDetection;\r\n    }());\r\n\r\n    var FaceDetection = /** @class */ (function(_super) {\r\n        __extends(FaceDetection, _super);\r\n\r\n        function FaceDetection(score, relativeBox, imageDims) {\r\n            return _super.call(this, score, score, '', relativeBox, imageDims) || this;\r\n        }\r\n        FaceDetection.prototype.forSize = function(width, height) {\r\n            var _a = _super.prototype.forSize.call(this, width, height),\r\n                score = _a.score,\r\n                relativeBox = _a.relativeBox,\r\n                imageDims = _a.imageDims;\r\n            return new FaceDetection(score, relativeBox, imageDims);\r\n        };\r\n        return FaceDetection;\r\n    }(ObjectDetection));\r\n\r\n    function iou(box1, box2, isIOU) {\r\n        if (isIOU === void 0) { isIOU = true; }\r\n        var width = Math.max(0.0, Math.min(box1.right, box2.right) - Math.max(box1.left, box2.left));\r\n        var height = Math.max(0.0, Math.min(box1.bottom, box2.bottom) - Math.max(box1.top, box2.top));\r\n        var interSection = width * height;\r\n        return isIOU ?\r\n            interSection / (box1.area + box2.area - interSection) :\r\n            interSection / Math.min(box1.area, box2.area);\r\n    }\r\n\r\n    function minBbox(pts) {\r\n        var xs = pts.map(function(pt) { return pt.x; });\r\n        var ys = pts.map(function(pt) { return pt.y; });\r\n        var minX = xs.reduce(function(min, x) { return x < min ? x : min; }, Infinity);\r\n        var minY = ys.reduce(function(min, y) { return y < min ? y : min; }, Infinity);\r\n        var maxX = xs.reduce(function(max, x) { return max < x ? x : max; }, 0);\r\n        var maxY = ys.reduce(function(max, y) { return max < y ? y : max; }, 0);\r\n        return new BoundingBox(minX, minY, maxX, maxY);\r\n    }\r\n\r\n    function nonMaxSuppression(boxes, scores, iouThreshold, isIOU) {\r\n        if (isIOU === void 0) { isIOU = true; }\r\n        var indicesSortedByScore = scores\r\n            .map(function(score, boxIndex) { return ({ score: score, boxIndex: boxIndex }); })\r\n            .sort(function(c1, c2) { return c1.score - c2.score; })\r\n            .map(function(c) { return c.boxIndex; });\r\n        var pick = [];\r\n        var _loop_1 = function() {\r\n            var curr = indicesSortedByScore.pop();\r\n            pick.push(curr);\r\n            var indices = indicesSortedByScore;\r\n            var outputs = [];\r\n            for (var i = 0; i < indices.length; i++) {\r\n                var idx = indices[i];\r\n                var currBox = boxes[curr];\r\n                var idxBox = boxes[idx];\r\n                outputs.push(iou(currBox, idxBox, isIOU));\r\n            }\r\n            indicesSortedByScore = indicesSortedByScore.filter(function(_, j) { return outputs[j] <= iouThreshold; });\r\n        };\r\n        while (indicesSortedByScore.length > 0) {\r\n            _loop_1();\r\n        }\r\n        return pick;\r\n    }\r\n\r\n    function normalize(x, meanRgb) {\r\n        return Ze(function() {\r\n            var r = meanRgb[0],\r\n                g = meanRgb[1],\r\n                b = meanRgb[2];\r\n            var avg_r = Hn(__spreadArrays(x.shape.slice(0, 3), [1]), r);\r\n            var avg_g = Hn(__spreadArrays(x.shape.slice(0, 3), [1]), g);\r\n            var avg_b = Hn(__spreadArrays(x.shape.slice(0, 3), [1]), b);\r\n            var avg_rgb = Yn([avg_r, avg_g, avg_b], 3);\r\n            return Cc(x, avg_rgb);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Pads the smaller dimension of an image tensor with zeros, such that width === height.\r\n     *\r\n     * @param imgTensor The image tensor.\r\n     * @param isCenterImage (optional, default: false) If true, add an equal amount of padding on\r\n     * both sides of the minor dimension oof the image.\r\n     * @returns The padded tensor with width === height.\r\n     */\r\n    function padToSquare(imgTensor, isCenterImage) {\r\n        if (isCenterImage === void 0) { isCenterImage = false; }\r\n        return Ze(function() {\r\n            var _a = imgTensor.shape.slice(1),\r\n                height = _a[0],\r\n                width = _a[1];\r\n            if (height === width) {\r\n                return imgTensor;\r\n            }\r\n            var dimDiff = Math.abs(height - width);\r\n            var paddingAmount = Math.round(dimDiff * (isCenterImage ? 0.5 : 1));\r\n            var paddingAxis = height > width ? 2 : 1;\r\n            var createPaddingTensor = function(paddingAmount) {\r\n                var paddingTensorShape = imgTensor.shape.slice();\r\n                paddingTensorShape[paddingAxis] = paddingAmount;\r\n                return Hn(paddingTensorShape, 0);\r\n            };\r\n            var paddingTensorAppend = createPaddingTensor(paddingAmount);\r\n            var remainingPaddingAmount = dimDiff - paddingTensorAppend.shape[paddingAxis];\r\n            var paddingTensorPrepend = isCenterImage && remainingPaddingAmount ?\r\n                createPaddingTensor(remainingPaddingAmount) :\r\n                null;\r\n            var tensorsToStack = [\r\n                    paddingTensorPrepend,\r\n                    imgTensor,\r\n                    paddingTensorAppend\r\n                ]\r\n                .filter(function(t) { return !!t; })\r\n                .map(function(t) { return t.toFloat(); });\r\n            return Yn(tensorsToStack, paddingAxis);\r\n        });\r\n    }\r\n\r\n    function shuffleArray(inputArray) {\r\n        var array = inputArray.slice();\r\n        for (var i = array.length - 1; i > 0; i--) {\r\n            var j = Math.floor(Math.random() * (i + 1));\r\n            var x = array[i];\r\n            array[i] = array[j];\r\n            array[j] = x;\r\n        }\r\n        return array;\r\n    }\r\n\r\n    function sigmoid(x) {\r\n        return 1 / (1 + Math.exp(-x));\r\n    }\r\n\r\n    function inverseSigmoid(x) {\r\n        return Math.log(x / (1 - x));\r\n    }\r\n\r\n    var Rect = /** @class */ (function(_super) {\r\n        __extends(Rect, _super);\r\n\r\n        function Rect(x, y, width, height, allowNegativeDimensions) {\r\n            if (allowNegativeDimensions === void 0) { allowNegativeDimensions = false; }\r\n            return _super.call(this, { x: x, y: y, width: width, height: height }, allowNegativeDimensions) || this;\r\n        }\r\n        return Rect;\r\n    }(Box));\r\n\r\n    // face alignment constants\r\n    var relX = 0.5;\r\n    var relY = 0.43;\r\n    var relScale = 0.45;\r\n    var FaceLandmarks = /** @class */ (function() {\r\n        function FaceLandmarks(relativeFaceLandmarkPositions, imgDims, shift) {\r\n            if (shift === void 0) { shift = new Point(0, 0); }\r\n            var width = imgDims.width,\r\n                height = imgDims.height;\r\n            this._imgDims = new Dimensions(width, height);\r\n            this._shift = shift;\r\n            this._positions = relativeFaceLandmarkPositions.map(function(pt) { return pt.mul(new Point(width, height)).add(shift); });\r\n        }\r\n        Object.defineProperty(FaceLandmarks.prototype, \"shift\", {\r\n            get: function() { return new Point(this._shift.x, this._shift.y); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FaceLandmarks.prototype, \"imageWidth\", {\r\n            get: function() { return this._imgDims.width; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FaceLandmarks.prototype, \"imageHeight\", {\r\n            get: function() { return this._imgDims.height; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FaceLandmarks.prototype, \"positions\", {\r\n            get: function() { return this._positions; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FaceLandmarks.prototype, \"relativePositions\", {\r\n            get: function() {\r\n                var _this = this;\r\n                return this._positions.map(function(pt) { return pt.sub(_this._shift).div(new Point(_this.imageWidth, _this.imageHeight)); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        FaceLandmarks.prototype.forSize = function(width, height) {\r\n            return new this.constructor(this.relativePositions, { width: width, height: height });\r\n        };\r\n        FaceLandmarks.prototype.shiftBy = function(x, y) {\r\n            return new this.constructor(this.relativePositions, this._imgDims, new Point(x, y));\r\n        };\r\n        FaceLandmarks.prototype.shiftByPoint = function(pt) {\r\n            return this.shiftBy(pt.x, pt.y);\r\n        };\r\n        /**\r\n         * Aligns the face landmarks after face detection from the relative positions of the faces\r\n         * bounding box, or it's current shift. This function should be used to align the face images\r\n         * after face detection has been performed, before they are passed to the face recognition net.\r\n         * This will make the computed face descriptor more accurate.\r\n         *\r\n         * @param detection (optional) The bounding box of the face or the face detection result. If\r\n         * no argument was passed the position of the face landmarks are assumed to be relative to\r\n         * it's current shift.\r\n         * @returns The bounding box of the aligned face.\r\n         */\r\n        FaceLandmarks.prototype.align = function(detection, options) {\r\n            if (options === void 0) { options = {}; }\r\n            if (detection) {\r\n                var box = detection instanceof FaceDetection ?\r\n                    detection.box.floor() :\r\n                    new Box(detection);\r\n                return this.shiftBy(box.x, box.y).align(null, options);\r\n            }\r\n            var _a = Object.assign({}, { useDlibAlignment: false, minBoxPadding: 0.2 }, options),\r\n                useDlibAlignment = _a.useDlibAlignment,\r\n                minBoxPadding = _a.minBoxPadding;\r\n            if (useDlibAlignment) {\r\n                return this.alignDlib();\r\n            }\r\n            return this.alignMinBbox(minBoxPadding);\r\n        };\r\n        FaceLandmarks.prototype.alignDlib = function() {\r\n            var centers = this.getRefPointsForAlignment();\r\n            var leftEyeCenter = centers[0],\r\n                rightEyeCenter = centers[1],\r\n                mouthCenter = centers[2];\r\n            var distToMouth = function(pt) { return mouthCenter.sub(pt).magnitude(); };\r\n            var eyeToMouthDist = (distToMouth(leftEyeCenter) + distToMouth(rightEyeCenter)) / 2;\r\n            var size = Math.floor(eyeToMouthDist / relScale);\r\n            var refPoint = getCenterPoint(centers);\r\n            // TODO: pad in case rectangle is out of image bounds\r\n            var x = Math.floor(Math.max(0, refPoint.x - (relX * size)));\r\n            var y = Math.floor(Math.max(0, refPoint.y - (relY * size)));\r\n            return new Rect(x, y, Math.min(size, this.imageWidth + x), Math.min(size, this.imageHeight + y));\r\n        };\r\n        FaceLandmarks.prototype.alignMinBbox = function(padding) {\r\n            var box = minBbox(this.positions);\r\n            return box.pad(box.width * padding, box.height * padding);\r\n        };\r\n        FaceLandmarks.prototype.getRefPointsForAlignment = function() {\r\n            throw new Error('getRefPointsForAlignment not implemented by base class');\r\n        };\r\n        return FaceLandmarks;\r\n    }());\r\n\r\n    var FaceLandmarks5 = /** @class */ (function(_super) {\r\n        __extends(FaceLandmarks5, _super);\r\n\r\n        function FaceLandmarks5() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        FaceLandmarks5.prototype.getRefPointsForAlignment = function() {\r\n            var pts = this.positions;\r\n            return [\r\n                pts[0],\r\n                pts[1],\r\n                getCenterPoint([pts[3], pts[4]])\r\n            ];\r\n        };\r\n        return FaceLandmarks5;\r\n    }(FaceLandmarks));\r\n\r\n    var FaceLandmarks68 = /** @class */ (function(_super) {\r\n        __extends(FaceLandmarks68, _super);\r\n\r\n        function FaceLandmarks68() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        FaceLandmarks68.prototype.getJawOutline = function() {\r\n            return this.positions.slice(0, 17);\r\n        };\r\n        FaceLandmarks68.prototype.getLeftEyeBrow = function() {\r\n            return this.positions.slice(17, 22);\r\n        };\r\n        FaceLandmarks68.prototype.getRightEyeBrow = function() {\r\n            return this.positions.slice(22, 27);\r\n        };\r\n        FaceLandmarks68.prototype.getNose = function() {\r\n            return this.positions.slice(27, 36);\r\n        };\r\n        FaceLandmarks68.prototype.getLeftEye = function() {\r\n            return this.positions.slice(36, 42);\r\n        };\r\n        FaceLandmarks68.prototype.getRightEye = function() {\r\n            return this.positions.slice(42, 48);\r\n        };\r\n        FaceLandmarks68.prototype.getMouth = function() {\r\n            return this.positions.slice(48, 68);\r\n        };\r\n        FaceLandmarks68.prototype.getRefPointsForAlignment = function() {\r\n            return [\r\n                this.getLeftEye(),\r\n                this.getRightEye(),\r\n                this.getMouth()\r\n            ].map(getCenterPoint);\r\n        };\r\n        return FaceLandmarks68;\r\n    }(FaceLandmarks));\r\n\r\n    var FaceMatch = /** @class */ (function() {\r\n        function FaceMatch(label, distance) {\r\n            this._label = label;\r\n            this._distance = distance;\r\n        }\r\n        Object.defineProperty(FaceMatch.prototype, \"label\", {\r\n            get: function() { return this._label; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FaceMatch.prototype, \"distance\", {\r\n            get: function() { return this._distance; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        FaceMatch.prototype.toString = function(withDistance) {\r\n            if (withDistance === void 0) { withDistance = true; }\r\n            return \"\" + this.label + (withDistance ? \" (\" + round(this.distance) + \")\" : '');\r\n        };\r\n        return FaceMatch;\r\n    }());\r\n\r\n    var LabeledBox = /** @class */ (function(_super) {\r\n        __extends(LabeledBox, _super);\r\n\r\n        function LabeledBox(box, label) {\r\n            var _this = _super.call(this, box) || this;\r\n            _this._label = label;\r\n            return _this;\r\n        }\r\n        LabeledBox.assertIsValidLabeledBox = function(box, callee) {\r\n            Box.assertIsValidBox(box, callee);\r\n            if (!isValidNumber(box.label)) {\r\n                throw new Error(callee + \" - expected property label (\" + box.label + \") to be a number\");\r\n            }\r\n        };\r\n        Object.defineProperty(LabeledBox.prototype, \"label\", {\r\n            get: function() { return this._label; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return LabeledBox;\r\n    }(Box));\r\n\r\n    var LabeledFaceDescriptors = /** @class */ (function() {\r\n        function LabeledFaceDescriptors(label, descriptors) {\r\n            if (!(typeof label === 'string')) {\r\n                throw new Error('LabeledFaceDescriptors - constructor expected label to be a string');\r\n            }\r\n            if (!Array.isArray(descriptors) || descriptors.some(function(desc) { return !(desc instanceof Float32Array); })) {\r\n                throw new Error('LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array');\r\n            }\r\n            this._label = label;\r\n            this._descriptors = descriptors;\r\n        }\r\n        Object.defineProperty(LabeledFaceDescriptors.prototype, \"label\", {\r\n            get: function() { return this._label; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(LabeledFaceDescriptors.prototype, \"descriptors\", {\r\n            get: function() { return this._descriptors; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LabeledFaceDescriptors.prototype.toJSON = function() {\r\n            return {\r\n                label: this.label,\r\n                descriptors: this.descriptors.map(function(d) { return Array.from(d); })\r\n            };\r\n        };\r\n        LabeledFaceDescriptors.fromJSON = function(json) {\r\n            var descriptors = json.descriptors.map(function(d) {\r\n                return new Float32Array(d);\r\n            });\r\n            return new LabeledFaceDescriptors(json.label, descriptors);\r\n        };\r\n        return LabeledFaceDescriptors;\r\n    }());\r\n\r\n    var PredictedBox = /** @class */ (function(_super) {\r\n        __extends(PredictedBox, _super);\r\n\r\n        function PredictedBox(box, label, score, classScore) {\r\n            var _this = _super.call(this, box, label) || this;\r\n            _this._score = score;\r\n            _this._classScore = classScore;\r\n            return _this;\r\n        }\r\n        PredictedBox.assertIsValidPredictedBox = function(box, callee) {\r\n            LabeledBox.assertIsValidLabeledBox(box, callee);\r\n            if (!isValidProbablitiy(box.score) ||\r\n                !isValidProbablitiy(box.classScore)) {\r\n                throw new Error(callee + \" - expected properties score (\" + box.score + \") and (\" + box.classScore + \") to be a number between [0, 1]\");\r\n            }\r\n        };\r\n        Object.defineProperty(PredictedBox.prototype, \"score\", {\r\n            get: function() { return this._score; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(PredictedBox.prototype, \"classScore\", {\r\n            get: function() { return this._classScore; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return PredictedBox;\r\n    }(LabeledBox));\r\n\r\n    function isWithFaceDetection(obj) {\r\n        return obj['detection'] instanceof FaceDetection;\r\n    }\r\n\r\n    function extendWithFaceDetection(sourceObj, detection) {\r\n        var extension = { detection: detection };\r\n        return Object.assign({}, sourceObj, extension);\r\n    }\r\n\r\n    function createBrowserEnv() {\r\n        var fetch = window['fetch'] || function() {\r\n            throw new Error('fetch - missing fetch implementation for browser environment');\r\n        };\r\n        var readFile = function() {\r\n            throw new Error('readFile - filesystem not available for browser environment');\r\n        };\r\n        return {\r\n            Canvas: HTMLCanvasElement,\r\n            CanvasRenderingContext2D: CanvasRenderingContext2D,\r\n            Image: HTMLImageElement,\r\n            ImageData: ImageData,\r\n            Video: HTMLVideoElement,\r\n            createCanvasElement: function() { return document.createElement('canvas'); },\r\n            createImageElement: function() { return document.createElement('img'); },\r\n            fetch: fetch,\r\n            readFile: readFile\r\n        };\r\n    }\r\n\r\n    function createFileSystem(fs) {\r\n        var requireFsError = '';\r\n        if (!fs) {\r\n            try {\r\n                fs = require('fs');\r\n            } catch (err) {\r\n                requireFsError = err.toString();\r\n            }\r\n        }\r\n        var readFile = fs ?\r\n\r\n            function(filePath) {\r\n                return new Promise(function(res, rej) {\r\n                    fs.readFile(filePath, function(err, buffer) {\r\n                        return err ? rej(err) : res(buffer);\r\n                    });\r\n                });\r\n            } :\r\n            function() {\r\n                throw new Error(\"readFile - failed to require fs in nodejs environment with error: \" + requireFsError);\r\n            };\r\n        return {\r\n            readFile: readFile\r\n        };\r\n    }\r\n\r\n    function createNodejsEnv() {\r\n        var Canvas = global['Canvas'] || global['HTMLCanvasElement'];\r\n        var Image = global['Image'] || global['HTMLImageElement'];\r\n        var createCanvasElement = function() {\r\n            if (Canvas) {\r\n                return new Canvas();\r\n            }\r\n            throw new Error('createCanvasElement - missing Canvas implementation for nodejs environment');\r\n        };\r\n        var createImageElement = function() {\r\n            if (Image) {\r\n                return new Image();\r\n            }\r\n            throw new Error('createImageElement - missing Image implementation for nodejs environment');\r\n        };\r\n        var fetch = global['fetch'] || function() {\r\n            throw new Error('fetch - missing fetch implementation for nodejs environment');\r\n        };\r\n        var fileSystem = createFileSystem();\r\n        return __assign({\r\n            Canvas: Canvas || /** @class */ (function() {\r\n                function Canvas() {}\r\n                return Canvas;\r\n            }()),\r\n            CanvasRenderingContext2D: global['CanvasRenderingContext2D'] || /** @class */ (function() {\r\n                function class_1() {}\r\n                return class_1;\r\n            }()),\r\n            Image: Image || /** @class */ (function() {\r\n                function Image() {}\r\n                return Image;\r\n            }()),\r\n            ImageData: global['ImageData'] || /** @class */ (function() {\r\n                function class_2() {}\r\n                return class_2;\r\n            }()),\r\n            Video: global['HTMLVideoElement'] || /** @class */ (function() {\r\n                function class_3() {}\r\n                return class_3;\r\n            }()),\r\n            createCanvasElement: createCanvasElement,\r\n            createImageElement: createImageElement,\r\n            fetch: fetch\r\n        }, fileSystem);\r\n    }\r\n\r\n    function isBrowser() {\r\n        return typeof window === 'object' &&\r\n            typeof document !== 'undefined' &&\r\n            typeof HTMLImageElement !== 'undefined' &&\r\n            typeof HTMLCanvasElement !== 'undefined' &&\r\n            typeof HTMLVideoElement !== 'undefined' &&\r\n            typeof ImageData !== 'undefined' &&\r\n            typeof CanvasRenderingContext2D !== 'undefined';\r\n    }\r\n\r\n    function isNodejs() {\r\n        return typeof global === 'object' &&\r\n            typeof require === 'function' &&\r\n            typeof module !== 'undefined'\r\n            // issues with gatsby.js: module.exports is undefined\r\n            // && !!module.exports\r\n            &&\r\n            typeof process !== 'undefined' && !!process.version;\r\n    }\r\n\r\n    var environment;\r\n\r\n    function getEnv() {\r\n        if (!environment) {\r\n            throw new Error('getEnv - environment is not defined, check isNodejs() and isBrowser()');\r\n        }\r\n        return environment;\r\n    }\r\n\r\n    function setEnv(env) {\r\n        environment = env;\r\n    }\r\n\r\n    function initialize() {\r\n        // check for isBrowser() first to prevent electron renderer process\r\n        // to be initialized with wrong environment due to isNodejs() returning true\r\n        if (isBrowser()) {\r\n            setEnv(createBrowserEnv());\r\n        }\r\n        if (isNodejs()) {\r\n            setEnv(createNodejsEnv());\r\n        }\r\n    }\r\n\r\n    function monkeyPatch(env) {\r\n        if (!environment) {\r\n            initialize();\r\n        }\r\n        if (!environment) {\r\n            throw new Error('monkeyPatch - environment is not defined, check isNodejs() and isBrowser()');\r\n        }\r\n        var _a = env.Canvas,\r\n            Canvas = _a === void 0 ? environment.Canvas : _a,\r\n            _b = env.Image,\r\n            Image = _b === void 0 ? environment.Image : _b;\r\n        environment.Canvas = Canvas;\r\n        environment.Image = Image;\r\n        environment.createCanvasElement = env.createCanvasElement || (function() { return new Canvas(); });\r\n        environment.createImageElement = env.createImageElement || (function() { return new Image(); });\r\n        environment.ImageData = env.ImageData || environment.ImageData;\r\n        environment.Video = env.Video || environment.Video;\r\n        environment.fetch = env.fetch || environment.fetch;\r\n        environment.readFile = env.readFile || environment.readFile;\r\n    }\r\n    var env = {\r\n        getEnv: getEnv,\r\n        setEnv: setEnv,\r\n        initialize: initialize,\r\n        createBrowserEnv: createBrowserEnv,\r\n        createFileSystem: createFileSystem,\r\n        createNodejsEnv: createNodejsEnv,\r\n        monkeyPatch: monkeyPatch,\r\n        isBrowser: isBrowser,\r\n        isNodejs: isNodejs\r\n    };\r\n    initialize();\r\n\r\n    function resolveInput(arg) {\r\n        if (!env.isNodejs() && typeof arg === 'string') {\r\n            return document.getElementById(arg);\r\n        }\r\n        return arg;\r\n    }\r\n\r\n    function getContext2dOrThrow(canvasArg) {\r\n        var _a = env.getEnv(),\r\n            Canvas = _a.Canvas,\r\n            CanvasRenderingContext2D = _a.CanvasRenderingContext2D;\r\n        if (canvasArg instanceof CanvasRenderingContext2D) {\r\n            return canvasArg;\r\n        }\r\n        var canvas = resolveInput(canvasArg);\r\n        if (!(canvas instanceof Canvas)) {\r\n            throw new Error('resolveContext2d - expected canvas to be of instance of Canvas');\r\n        }\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            throw new Error('resolveContext2d - canvas 2d context is null');\r\n        }\r\n        return ctx;\r\n    }\r\n\r\n    var AnchorPosition;\r\n    (function(AnchorPosition) {\r\n        AnchorPosition[\"TOP_LEFT\"] = \"TOP_LEFT\";\r\n        AnchorPosition[\"TOP_RIGHT\"] = \"TOP_RIGHT\";\r\n        AnchorPosition[\"BOTTOM_LEFT\"] = \"BOTTOM_LEFT\";\r\n        AnchorPosition[\"BOTTOM_RIGHT\"] = \"BOTTOM_RIGHT\";\r\n    })(AnchorPosition || (AnchorPosition = {}));\r\n    var DrawTextFieldOptions = /** @class */ (function() {\r\n        function DrawTextFieldOptions(options) {\r\n            if (options === void 0) { options = {}; }\r\n            var anchorPosition = options.anchorPosition,\r\n                backgroundColor = options.backgroundColor,\r\n                fontColor = options.fontColor,\r\n                fontSize = options.fontSize,\r\n                fontStyle = options.fontStyle,\r\n                padding = options.padding;\r\n            this.anchorPosition = anchorPosition || AnchorPosition.TOP_LEFT;\r\n            this.backgroundColor = backgroundColor || 'rgba(0, 0, 0, 0.5)';\r\n            this.fontColor = fontColor || 'rgba(255, 255, 255, 1)';\r\n            this.fontSize = fontSize || 14;\r\n            this.fontStyle = fontStyle || 'Georgia';\r\n            this.padding = padding || 4;\r\n        }\r\n        return DrawTextFieldOptions;\r\n    }());\r\n    var DrawTextField = /** @class */ (function() {\r\n        function DrawTextField(text, anchor, options) {\r\n            if (options === void 0) { options = {}; }\r\n            this.text = typeof text === 'string' ? [text] :\r\n                (text instanceof DrawTextField ? text.text : text);\r\n            this.anchor = anchor;\r\n            this.options = new DrawTextFieldOptions(options);\r\n        }\r\n        DrawTextField.prototype.measureWidth = function(ctx) {\r\n            var padding = this.options.padding;\r\n            return this.text.map(function(l) { return ctx.measureText(l).width; }).reduce(function(w0, w1) { return w0 < w1 ? w1 : w0; }, 0) + (2 * padding);\r\n        };\r\n        DrawTextField.prototype.measureHeight = function() {\r\n            var _a = this.options,\r\n                fontSize = _a.fontSize,\r\n                padding = _a.padding;\r\n            return this.text.length * fontSize + (2 * padding);\r\n        };\r\n        DrawTextField.prototype.getUpperLeft = function(ctx, canvasDims) {\r\n            var anchorPosition = this.options.anchorPosition;\r\n            var isShiftLeft = anchorPosition === AnchorPosition.BOTTOM_RIGHT || anchorPosition === AnchorPosition.TOP_RIGHT;\r\n            var isShiftTop = anchorPosition === AnchorPosition.BOTTOM_LEFT || anchorPosition === AnchorPosition.BOTTOM_RIGHT;\r\n            var textFieldWidth = this.measureWidth(ctx);\r\n            var textFieldHeight = this.measureHeight();\r\n            var x = (isShiftLeft ? this.anchor.x - textFieldWidth : this.anchor.x);\r\n            var y = isShiftTop ? this.anchor.y - textFieldHeight : this.anchor.y;\r\n            // adjust anchor if text box exceeds canvas borders\r\n            if (canvasDims) {\r\n                var width = canvasDims.width,\r\n                    height = canvasDims.height;\r\n                var newX = Math.max(Math.min(x, width - textFieldWidth), 0);\r\n                var newY = Math.max(Math.min(y, height - textFieldHeight), 0);\r\n                return { x: newX, y: newY };\r\n            }\r\n            return { x: x, y: y };\r\n        };\r\n        DrawTextField.prototype.draw = function(canvasArg) {\r\n            var canvas = resolveInput(canvasArg);\r\n            var ctx = getContext2dOrThrow(canvas);\r\n            var _a = this.options,\r\n                backgroundColor = _a.backgroundColor,\r\n                fontColor = _a.fontColor,\r\n                fontSize = _a.fontSize,\r\n                fontStyle = _a.fontStyle,\r\n                padding = _a.padding;\r\n            ctx.font = fontSize + \"px \" + fontStyle;\r\n            var maxTextWidth = this.measureWidth(ctx);\r\n            var textHeight = this.measureHeight();\r\n            ctx.fillStyle = backgroundColor;\r\n            var upperLeft = this.getUpperLeft(ctx, canvas);\r\n            ctx.fillRect(upperLeft.x, upperLeft.y, maxTextWidth, textHeight);\r\n            ctx.fillStyle = fontColor;\r\n            this.text.forEach(function(textLine, i) {\r\n                var x = padding + upperLeft.x;\r\n                var y = padding + upperLeft.y + ((i + 1) * fontSize);\r\n                ctx.fillText(textLine, x, y);\r\n            });\r\n        };\r\n        return DrawTextField;\r\n    }());\r\n\r\n    var DrawBoxOptions = /** @class */ (function() {\r\n        function DrawBoxOptions(options) {\r\n            if (options === void 0) { options = {}; }\r\n            var boxColor = options.boxColor,\r\n                lineWidth = options.lineWidth,\r\n                label = options.label,\r\n                drawLabelOptions = options.drawLabelOptions;\r\n            this.boxColor = boxColor || 'rgba(0, 0, 255, 1)';\r\n            this.lineWidth = lineWidth || 2;\r\n            this.label = label;\r\n            var defaultDrawLabelOptions = {\r\n                anchorPosition: AnchorPosition.BOTTOM_LEFT,\r\n                backgroundColor: this.boxColor\r\n            };\r\n            this.drawLabelOptions = new DrawTextFieldOptions(Object.assign({}, defaultDrawLabelOptions, drawLabelOptions));\r\n        }\r\n        return DrawBoxOptions;\r\n    }());\r\n    var DrawBox = /** @class */ (function() {\r\n        function DrawBox(box, options) {\r\n            if (options === void 0) { options = {}; }\r\n            this.box = new Box(box);\r\n            this.options = new DrawBoxOptions(options);\r\n        }\r\n        DrawBox.prototype.draw = function(canvasArg) {\r\n            var ctx = getContext2dOrThrow(canvasArg);\r\n            var _a = this.options,\r\n                boxColor = _a.boxColor,\r\n                lineWidth = _a.lineWidth;\r\n            var _b = this.box,\r\n                x = _b.x,\r\n                y = _b.y,\r\n                width = _b.width,\r\n                height = _b.height;\r\n            ctx.strokeStyle = boxColor;\r\n            ctx.lineWidth = lineWidth;\r\n            ctx.strokeRect(x, y, width, height);\r\n            var label = this.options.label;\r\n            if (label) {\r\n                new DrawTextField([label], { x: x - (lineWidth / 2), y: y }, this.options.drawLabelOptions).draw(canvasArg);\r\n            }\r\n        };\r\n        return DrawBox;\r\n    }());\r\n\r\n    function drawDetections(canvasArg, detections) {\r\n        var detectionsArray = Array.isArray(detections) ? detections : [detections];\r\n        detectionsArray.forEach(function(det) {\r\n            var score = det instanceof FaceDetection ?\r\n                det.score :\r\n                (isWithFaceDetection(det) ? det.detection.score : undefined);\r\n            var box = det instanceof FaceDetection ?\r\n                det.box :\r\n                (isWithFaceDetection(det) ? det.detection.box : new Box(det));\r\n            var label = score ? \"\" + round(score) : undefined;\r\n            new DrawBox(box, { label: label }).draw(canvasArg);\r\n        });\r\n    }\r\n\r\n    function isMediaLoaded(media) {\r\n        var _a = env.getEnv(),\r\n            Image = _a.Image,\r\n            Video = _a.Video;\r\n        return (media instanceof Image && media.complete) ||\r\n            (media instanceof Video && media.readyState >= 3);\r\n    }\r\n\r\n    function awaitMediaLoaded(media) {\r\n        return new Promise(function(resolve, reject) {\r\n            if (media instanceof env.getEnv().Canvas || isMediaLoaded(media)) {\r\n                return resolve();\r\n            }\r\n\r\n            function onLoad(e) {\r\n                if (!e.currentTarget)\r\n                    return;\r\n                e.currentTarget.removeEventListener('load', onLoad);\r\n                e.currentTarget.removeEventListener('error', onError);\r\n                resolve(e);\r\n            }\r\n\r\n            function onError(e) {\r\n                if (!e.currentTarget)\r\n                    return;\r\n                e.currentTarget.removeEventListener('load', onLoad);\r\n                e.currentTarget.removeEventListener('error', onError);\r\n                reject(e);\r\n            }\r\n            media.addEventListener('load', onLoad);\r\n            media.addEventListener('error', onError);\r\n        });\r\n    }\r\n\r\n    function bufferToImage(buf) {\r\n        return new Promise(function(resolve, reject) {\r\n            if (!(buf instanceof Blob)) {\r\n                return reject('bufferToImage - expected buf to be of type: Blob');\r\n            }\r\n            var reader = new FileReader();\r\n            reader.onload = function() {\r\n                if (typeof reader.result !== 'string') {\r\n                    return reject('bufferToImage - expected reader.result to be a string, in onload');\r\n                }\r\n                var img = env.getEnv().createImageElement();\r\n                img.onload = function() { return resolve(img); };\r\n                img.onerror = reject;\r\n                img.src = reader.result;\r\n            };\r\n            reader.onerror = reject;\r\n            reader.readAsDataURL(buf);\r\n        });\r\n    }\r\n\r\n    function getMediaDimensions(input) {\r\n        var _a = env.getEnv(),\r\n            Image = _a.Image,\r\n            Video = _a.Video;\r\n        if (input instanceof Image) {\r\n            return new Dimensions(input.naturalWidth, input.naturalHeight);\r\n        }\r\n        if (input instanceof Video) {\r\n            return new Dimensions(input.videoWidth, input.videoHeight);\r\n        }\r\n        return new Dimensions(input.width, input.height);\r\n    }\r\n\r\n    function createCanvas(_a) {\r\n        var width = _a.width,\r\n            height = _a.height;\r\n        var createCanvasElement = env.getEnv().createCanvasElement;\r\n        var canvas = createCanvasElement();\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        return canvas;\r\n    }\r\n\r\n    function createCanvasFromMedia(media, dims) {\r\n        var ImageData = env.getEnv().ImageData;\r\n        if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\r\n            throw new Error('createCanvasFromMedia - media has not finished loading yet');\r\n        }\r\n        var _a = dims || getMediaDimensions(media),\r\n            width = _a.width,\r\n            height = _a.height;\r\n        var canvas = createCanvas({ width: width, height: height });\r\n        if (media instanceof ImageData) {\r\n            getContext2dOrThrow(canvas).putImageData(media, 0, 0);\r\n        } else {\r\n            getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\r\n        }\r\n        return canvas;\r\n    }\r\n\r\n    function imageTensorToCanvas(imgTensor, canvas) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var targetCanvas, _a, height, width, numChannels, imgTensor3D;\r\n            return __generator(this, function(_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        targetCanvas = canvas || env.getEnv().createCanvasElement();\r\n                        _a = imgTensor.shape.slice(isTensor4D(imgTensor) ? 1 : 0), height = _a[0], width = _a[1], numChannels = _a[2];\r\n                        imgTensor3D = Ze(function() { return imgTensor.as3D(height, width, numChannels).toInt(); });\r\n                        return [4 /*yield*/ , id.toPixels(imgTensor3D, targetCanvas)];\r\n                    case 1:\r\n                        _b.sent();\r\n                        imgTensor3D.dispose();\r\n                        return [2 /*return*/ , targetCanvas];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function isMediaElement(input) {\r\n        var _a = env.getEnv(),\r\n            Image = _a.Image,\r\n            Canvas = _a.Canvas,\r\n            Video = _a.Video;\r\n        return input instanceof Image ||\r\n            input instanceof Canvas ||\r\n            input instanceof Video;\r\n    }\r\n\r\n    function imageToSquare(input, inputSize, centerImage) {\r\n        if (centerImage === void 0) { centerImage = false; }\r\n        var _a = env.getEnv(),\r\n            Image = _a.Image,\r\n            Canvas = _a.Canvas;\r\n        if (!(input instanceof Image || input instanceof Canvas)) {\r\n            throw new Error('imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement');\r\n        }\r\n        var dims = getMediaDimensions(input);\r\n        var scale = inputSize / Math.max(dims.height, dims.width);\r\n        var width = scale * dims.width;\r\n        var height = scale * dims.height;\r\n        var targetCanvas = createCanvas({ width: inputSize, height: inputSize });\r\n        var inputCanvas = input instanceof Canvas ? input : createCanvasFromMedia(input);\r\n        var offset = Math.abs(width - height) / 2;\r\n        var dx = centerImage && width < height ? offset : 0;\r\n        var dy = centerImage && height < width ? offset : 0;\r\n        getContext2dOrThrow(targetCanvas).drawImage(inputCanvas, dx, dy, width, height);\r\n        return targetCanvas;\r\n    }\r\n\r\n    var NetInput = /** @class */ (function() {\r\n        function NetInput(inputs, treatAsBatchInput) {\r\n            var _this = this;\r\n            if (treatAsBatchInput === void 0) { treatAsBatchInput = false; }\r\n            this._imageTensors = [];\r\n            this._canvases = [];\r\n            this._treatAsBatchInput = false;\r\n            this._inputDimensions = [];\r\n            if (!Array.isArray(inputs)) {\r\n                throw new Error(\"NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have \" + inputs);\r\n            }\r\n            this._treatAsBatchInput = treatAsBatchInput;\r\n            this._batchSize = inputs.length;\r\n            inputs.forEach(function(input, idx) {\r\n                if (isTensor3D(input)) {\r\n                    _this._imageTensors[idx] = input;\r\n                    _this._inputDimensions[idx] = input.shape;\r\n                    return;\r\n                }\r\n                if (isTensor4D(input)) {\r\n                    var batchSize = input.shape[0];\r\n                    if (batchSize !== 1) {\r\n                        throw new Error(\"NetInput - tf.Tensor4D with batchSize \" + batchSize + \" passed, but not supported in input array\");\r\n                    }\r\n                    _this._imageTensors[idx] = input;\r\n                    _this._inputDimensions[idx] = input.shape.slice(1);\r\n                    return;\r\n                }\r\n                var canvas = input instanceof env.getEnv().Canvas ? input : createCanvasFromMedia(input);\r\n                _this._canvases[idx] = canvas;\r\n                _this._inputDimensions[idx] = [canvas.height, canvas.width, 3];\r\n            });\r\n        }\r\n        Object.defineProperty(NetInput.prototype, \"imageTensors\", {\r\n            get: function() {\r\n                return this._imageTensors;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NetInput.prototype, \"canvases\", {\r\n            get: function() {\r\n                return this._canvases;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NetInput.prototype, \"isBatchInput\", {\r\n            get: function() {\r\n                return this.batchSize > 1 || this._treatAsBatchInput;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NetInput.prototype, \"batchSize\", {\r\n            get: function() {\r\n                return this._batchSize;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NetInput.prototype, \"inputDimensions\", {\r\n            get: function() {\r\n                return this._inputDimensions;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NetInput.prototype, \"inputSize\", {\r\n            get: function() {\r\n                return this._inputSize;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NetInput.prototype, \"reshapedInputDimensions\", {\r\n            get: function() {\r\n                var _this = this;\r\n                return range(this.batchSize, 0, 1).map(function(_, batchIdx) { return _this.getReshapedInputDimensions(batchIdx); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        NetInput.prototype.getInput = function(batchIdx) {\r\n            return this.canvases[batchIdx] || this.imageTensors[batchIdx];\r\n        };\r\n        NetInput.prototype.getInputDimensions = function(batchIdx) {\r\n            return this._inputDimensions[batchIdx];\r\n        };\r\n        NetInput.prototype.getInputHeight = function(batchIdx) {\r\n            return this._inputDimensions[batchIdx][0];\r\n        };\r\n        NetInput.prototype.getInputWidth = function(batchIdx) {\r\n            return this._inputDimensions[batchIdx][1];\r\n        };\r\n        NetInput.prototype.getReshapedInputDimensions = function(batchIdx) {\r\n            if (typeof this.inputSize !== 'number') {\r\n                throw new Error('getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet');\r\n            }\r\n            var width = this.getInputWidth(batchIdx);\r\n            var height = this.getInputHeight(batchIdx);\r\n            return computeReshapedDimensions({ width: width, height: height }, this.inputSize);\r\n        };\r\n        /**\r\n         * Create a batch tensor from all input canvases and tensors\r\n         * with size [batchSize, inputSize, inputSize, 3].\r\n         *\r\n         * @param inputSize Height and width of the tensor.\r\n         * @param isCenterImage (optional, default: false) If true, add an equal amount of padding on\r\n         * both sides of the minor dimension oof the image.\r\n         * @returns The batch tensor.\r\n         */\r\n        NetInput.prototype.toBatchTensor = function(inputSize, isCenterInputs) {\r\n            var _this = this;\r\n            if (isCenterInputs === void 0) { isCenterInputs = true; }\r\n            this._inputSize = inputSize;\r\n            return Ze(function() {\r\n                var inputTensors = range(_this.batchSize, 0, 1).map(function(batchIdx) {\r\n                    var input = _this.getInput(batchIdx);\r\n                    if (input instanceof wt) {\r\n                        var imgTensor = isTensor4D(input) ? input : input.expandDims();\r\n                        imgTensor = padToSquare(imgTensor, isCenterInputs);\r\n                        if (imgTensor.shape[1] !== inputSize || imgTensor.shape[2] !== inputSize) {\r\n                            imgTensor = Oh.resizeBilinear(imgTensor, [inputSize, inputSize]);\r\n                        }\r\n                        return imgTensor.as3D(inputSize, inputSize, 3);\r\n                    }\r\n                    if (input instanceof env.getEnv().Canvas) {\r\n                        return id.fromPixels(imageToSquare(input, inputSize, isCenterInputs));\r\n                    }\r\n                    throw new Error(\"toBatchTensor - at batchIdx \" + batchIdx + \", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have \" + input);\r\n                });\r\n                var batchTensor = Pr(inputTensors.map(function(t) { return t.toFloat(); })).as4D(_this.batchSize, inputSize, inputSize, 3);\r\n                return batchTensor;\r\n            });\r\n        };\r\n        return NetInput;\r\n    }());\r\n\r\n    /**\r\n     * Validates the input to make sure, they are valid net inputs and awaits all media elements\r\n     * to be finished loading.\r\n     *\r\n     * @param input The input, which can be a media element or an array of different media elements.\r\n     * @returns A NetInput instance, which can be passed into one of the neural networks.\r\n     */\r\n    function toNetInput(inputs) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var inputArgArray, getIdxHint, inputArray;\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (inputs instanceof NetInput) {\r\n                            return [2 /*return*/ , inputs];\r\n                        }\r\n                        inputArgArray = Array.isArray(inputs) ?\r\n                            inputs : [inputs];\r\n                        if (!inputArgArray.length) {\r\n                            throw new Error('toNetInput - empty array passed as input');\r\n                        }\r\n                        getIdxHint = function(idx) { return Array.isArray(inputs) ? \" at input index \" + idx + \":\" : ''; };\r\n                        inputArray = inputArgArray.map(resolveInput);\r\n                        inputArray.forEach(function(input, i) {\r\n                            if (!isMediaElement(input) && !isTensor3D(input) && !isTensor4D(input)) {\r\n                                if (typeof inputArgArray[i] === 'string') {\r\n                                    throw new Error(\"toNetInput -\" + getIdxHint(i) + \" string passed, but could not resolve HTMLElement for element id \" + inputArgArray[i]);\r\n                                }\r\n                                throw new Error(\"toNetInput -\" + getIdxHint(i) + \" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id\");\r\n                            }\r\n                            if (isTensor4D(input)) {\r\n                                // if tf.Tensor4D is passed in the input array, the batch size has to be 1\r\n                                var batchSize = input.shape[0];\r\n                                if (batchSize !== 1) {\r\n                                    throw new Error(\"toNetInput -\" + getIdxHint(i) + \" tf.Tensor4D with batchSize \" + batchSize + \" passed, but not supported in input array\");\r\n                                }\r\n                            }\r\n                        });\r\n                        // wait for all media elements being loaded\r\n                        return [4 /*yield*/ , Promise.all(inputArray.map(function(input) { return isMediaElement(input) && awaitMediaLoaded(input); }))];\r\n                    case 1:\r\n                        // wait for all media elements being loaded\r\n                        _a.sent();\r\n                        return [2 /*return*/ , new NetInput(inputArray, Array.isArray(inputs))];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Extracts the image regions containing the detected faces.\r\n     *\r\n     * @param input The image that face detection has been performed on.\r\n     * @param detections The face detection results or face bounding boxes for that image.\r\n     * @returns The Canvases of the corresponding image region for each detected face.\r\n     */\r\n    function extractFaces(input, detections) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var Canvas, canvas, netInput, tensorOrCanvas, _a, ctx, boxes;\r\n            return __generator(this, function(_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        Canvas = env.getEnv().Canvas;\r\n                        canvas = input;\r\n                        if (!!(input instanceof Canvas)) return [3 /*break*/ , 5];\r\n                        return [4 /*yield*/ , toNetInput(input)];\r\n                    case 1:\r\n                        netInput = _b.sent();\r\n                        if (netInput.batchSize > 1) {\r\n                            throw new Error('extractFaces - batchSize > 1 not supported');\r\n                        }\r\n                        tensorOrCanvas = netInput.getInput(0);\r\n                        if (!(tensorOrCanvas instanceof Canvas)) return [3 /*break*/ , 2];\r\n                        _a = tensorOrCanvas;\r\n                        return [3 /*break*/ , 4];\r\n                    case 2:\r\n                        return [4 /*yield*/ , imageTensorToCanvas(tensorOrCanvas)];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        canvas = _a;\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        ctx = getContext2dOrThrow(canvas);\r\n                        boxes = detections.map(function(det) {\r\n                                return det instanceof FaceDetection ?\r\n                                    det.forSize(canvas.width, canvas.height).box.floor() :\r\n                                    det;\r\n                            })\r\n                            .map(function(box) { return box.clipAtImageBorders(canvas.width, canvas.height); });\r\n                        return [2 /*return*/ , boxes.map(function(_a) {\r\n                            var x = _a.x,\r\n                                y = _a.y,\r\n                                width = _a.width,\r\n                                height = _a.height;\r\n                            var faceImg = createCanvas({ width: width, height: height });\r\n                            getContext2dOrThrow(faceImg)\r\n                                .putImageData(ctx.getImageData(x, y, width, height), 0, 0);\r\n                            return faceImg;\r\n                        })];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Extracts the tensors of the image regions containing the detected faces.\r\n     * Useful if you want to compute the face descriptors for the face images.\r\n     * Using this method is faster then extracting a canvas for each face and\r\n     * converting them to tensors individually.\r\n     *\r\n     * @param imageTensor The image tensor that face detection has been performed on.\r\n     * @param detections The face detection results or face bounding boxes for that image.\r\n     * @returns Tensors of the corresponding image region for each detected face.\r\n     */\r\n    function extractFaceTensors(imageTensor, detections) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            return __generator(this, function(_a) {\r\n                if (!isTensor3D(imageTensor) && !isTensor4D(imageTensor)) {\r\n                    throw new Error('extractFaceTensors - expected image tensor to be 3D or 4D');\r\n                }\r\n                if (isTensor4D(imageTensor) && imageTensor.shape[0] > 1) {\r\n                    throw new Error('extractFaceTensors - batchSize > 1 not supported');\r\n                }\r\n                return [2 /*return*/ , Ze(function() {\r\n                    var _a = imageTensor.shape.slice(isTensor4D(imageTensor) ? 1 : 0),\r\n                        imgHeight = _a[0],\r\n                        imgWidth = _a[1],\r\n                        numChannels = _a[2];\r\n                    var boxes = detections.map(function(det) {\r\n                            return det instanceof FaceDetection ?\r\n                                det.forSize(imgWidth, imgHeight).box :\r\n                                det;\r\n                        })\r\n                        .map(function(box) { return box.clipAtImageBorders(imgWidth, imgHeight); });\r\n                    var faceTensors = boxes.map(function(_a) {\r\n                        var x = _a.x,\r\n                            y = _a.y,\r\n                            width = _a.width,\r\n                            height = _a.height;\r\n                        return xl(imageTensor.as3D(imgHeight, imgWidth, numChannels), [y, x, 0], [height, width, numChannels]);\r\n                    });\r\n                    return faceTensors;\r\n                })];\r\n            });\r\n        });\r\n    }\r\n\r\n    function fetchOrThrow(url, init) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var fetch, res;\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        fetch = env.getEnv().fetch;\r\n                        return [4 /*yield*/ , fetch(url, init)];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        if (!(res.status < 400)) {\r\n                            throw new Error(\"failed to fetch: (\" + res.status + \") \" + res.statusText + \", from url: \" + res.url);\r\n                        }\r\n                        return [2 /*return*/ , res];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function fetchImage(uri) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var res, blob;\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        return [4 /*yield*/ , fetchOrThrow(uri)];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [4 /*yield*/ , (res).blob()];\r\n                    case 2:\r\n                        blob = _a.sent();\r\n                        if (!blob.type.startsWith('image/')) {\r\n                            throw new Error(\"fetchImage - expected blob type to be of type image/*, instead have: \" + blob.type + \", for url: \" + res.url);\r\n                        }\r\n                        return [2 /*return*/ , bufferToImage(blob)];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function fetchJson(uri) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        return [4 /*yield*/ , fetchOrThrow(uri)];\r\n                    case 1:\r\n                        return [2 /*return*/ , (_a.sent()).json()];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function fetchNetWeights(uri) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var _a;\r\n            return __generator(this, function(_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = Float32Array.bind;\r\n                        return [4 /*yield*/ , fetchOrThrow(uri)];\r\n                    case 1:\r\n                        return [4 /*yield*/ , (_b.sent()).arrayBuffer()];\r\n                    case 2:\r\n                        return [2 /*return*/ , new(_a.apply(Float32Array, [void 0, _b.sent()]))()];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function getModelUris(uri, defaultModelName) {\r\n        var defaultManifestFilename = defaultModelName + \"-weights_manifest.json\";\r\n        if (!uri) {\r\n            return {\r\n                modelBaseUri: '',\r\n                manifestUri: defaultManifestFilename\r\n            };\r\n        }\r\n        if (uri === '/') {\r\n            return {\r\n                modelBaseUri: '/',\r\n                manifestUri: \"/\" + defaultManifestFilename\r\n            };\r\n        }\r\n        var protocol = uri.startsWith('http://') ? 'http://' : uri.startsWith('https://') ? 'https://' : '';\r\n        uri = uri.replace(protocol, '');\r\n        var parts = uri.split('/').filter(function(s) { return s; });\r\n        var manifestFile = uri.endsWith('.json') ?\r\n            parts[parts.length - 1] :\r\n            defaultManifestFilename;\r\n        var modelBaseUri = protocol + (uri.endsWith('.json') ? parts.slice(0, parts.length - 1) : parts).join('/');\r\n        modelBaseUri = uri.startsWith('/') ? \"/\" + modelBaseUri : modelBaseUri;\r\n        return {\r\n            modelBaseUri: modelBaseUri,\r\n            manifestUri: modelBaseUri === '/' ? \"/\" + manifestFile : modelBaseUri + \"/\" + manifestFile\r\n        };\r\n    }\r\n\r\n    function loadWeightMap(uri, defaultModelName) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var _a, manifestUri, modelBaseUri, manifest;\r\n            return __generator(this, function(_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = getModelUris(uri, defaultModelName), manifestUri = _a.manifestUri, modelBaseUri = _a.modelBaseUri;\r\n                        return [4 /*yield*/ , fetchJson(manifestUri)];\r\n                    case 1:\r\n                        manifest = _b.sent();\r\n                        return [2 /*return*/ , ed.loadWeights(manifest, modelBaseUri)];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function matchDimensions(input, reference, useMediaDimensions) {\r\n        if (useMediaDimensions === void 0) { useMediaDimensions = false; }\r\n        var _a = useMediaDimensions ?\r\n            getMediaDimensions(reference) :\r\n            reference,\r\n            width = _a.width,\r\n            height = _a.height;\r\n        input.width = width;\r\n        input.height = height;\r\n        return { width: width, height: height };\r\n    }\r\n\r\n    var NeuralNetwork = /** @class */ (function() {\r\n        function NeuralNetwork(_name) {\r\n            this._name = _name;\r\n            this._params = undefined;\r\n            this._paramMappings = [];\r\n        }\r\n        Object.defineProperty(NeuralNetwork.prototype, \"params\", {\r\n            get: function() { return this._params; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NeuralNetwork.prototype, \"paramMappings\", {\r\n            get: function() { return this._paramMappings; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(NeuralNetwork.prototype, \"isLoaded\", {\r\n            get: function() { return !!this.params; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        NeuralNetwork.prototype.getParamFromPath = function(paramPath) {\r\n            var _a = this.traversePropertyPath(paramPath),\r\n                obj = _a.obj,\r\n                objProp = _a.objProp;\r\n            return obj[objProp];\r\n        };\r\n        NeuralNetwork.prototype.reassignParamFromPath = function(paramPath, tensor) {\r\n            var _a = this.traversePropertyPath(paramPath),\r\n                obj = _a.obj,\r\n                objProp = _a.objProp;\r\n            obj[objProp].dispose();\r\n            obj[objProp] = tensor;\r\n        };\r\n        NeuralNetwork.prototype.getParamList = function() {\r\n            var _this = this;\r\n            return this._paramMappings.map(function(_a) {\r\n                var paramPath = _a.paramPath;\r\n                return ({\r\n                    path: paramPath,\r\n                    tensor: _this.getParamFromPath(paramPath)\r\n                });\r\n            });\r\n        };\r\n        NeuralNetwork.prototype.getTrainableParams = function() {\r\n            return this.getParamList().filter(function(param) { return param.tensor instanceof St; });\r\n        };\r\n        NeuralNetwork.prototype.getFrozenParams = function() {\r\n            return this.getParamList().filter(function(param) { return !(param.tensor instanceof St); });\r\n        };\r\n        NeuralNetwork.prototype.variable = function() {\r\n            var _this = this;\r\n            this.getFrozenParams().forEach(function(_a) {\r\n                var path = _a.path,\r\n                    tensor = _a.tensor;\r\n                _this.reassignParamFromPath(path, tensor.variable());\r\n            });\r\n        };\r\n        NeuralNetwork.prototype.freeze = function() {\r\n            var _this = this;\r\n            this.getTrainableParams().forEach(function(_a) {\r\n                var path = _a.path,\r\n                    variable = _a.tensor;\r\n                var tensor = Fn(variable.dataSync());\r\n                variable.dispose();\r\n                _this.reassignParamFromPath(path, tensor);\r\n            });\r\n        };\r\n        NeuralNetwork.prototype.dispose = function(throwOnRedispose) {\r\n            if (throwOnRedispose === void 0) { throwOnRedispose = true; }\r\n            this.getParamList().forEach(function(param) {\r\n                if (throwOnRedispose && param.tensor.isDisposed) {\r\n                    throw new Error(\"param tensor has already been disposed for path \" + param.path);\r\n                }\r\n                param.tensor.dispose();\r\n            });\r\n            this._params = undefined;\r\n        };\r\n        NeuralNetwork.prototype.serializeParams = function() {\r\n            return new Float32Array(this.getParamList()\r\n                .map(function(_a) {\r\n                    var tensor = _a.tensor;\r\n                    return Array.from(tensor.dataSync());\r\n                })\r\n                .reduce(function(flat, arr) { return flat.concat(arr); }));\r\n        };\r\n        NeuralNetwork.prototype.load = function(weightsOrUrl) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (weightsOrUrl instanceof Float32Array) {\r\n                                this.extractWeights(weightsOrUrl);\r\n                                return [2 /*return*/ ];\r\n                            }\r\n                            return [4 /*yield*/ , this.loadFromUri(weightsOrUrl)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/ ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        NeuralNetwork.prototype.loadFromUri = function(uri) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var weightMap;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (uri && typeof uri !== 'string') {\r\n                                throw new Error(this._name + \".loadFromUri - expected model uri\");\r\n                            }\r\n                            return [4 /*yield*/ , loadWeightMap(uri, this.getDefaultModelName())];\r\n                        case 1:\r\n                            weightMap = _a.sent();\r\n                            this.loadFromWeightMap(weightMap);\r\n                            return [2 /*return*/ ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        NeuralNetwork.prototype.loadFromDisk = function(filePath) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var readFile, _a, manifestUri, modelBaseUri, fetchWeightsFromDisk, loadWeights, manifest, _b, _c, weightMap;\r\n                return __generator(this, function(_d) {\r\n                    switch (_d.label) {\r\n                        case 0:\r\n                            if (filePath && typeof filePath !== 'string') {\r\n                                throw new Error(this._name + \".loadFromDisk - expected model file path\");\r\n                            }\r\n                            readFile = env.getEnv().readFile;\r\n                            _a = getModelUris(filePath, this.getDefaultModelName()), manifestUri = _a.manifestUri, modelBaseUri = _a.modelBaseUri;\r\n                            fetchWeightsFromDisk = function(filePaths) { return Promise.all(filePaths.map(function(filePath) { return readFile(filePath).then(function(buf) { return buf.buffer; }); })); };\r\n                            loadWeights = ed.weightsLoaderFactory(fetchWeightsFromDisk);\r\n                            _c = (_b = JSON).parse;\r\n                            return [4 /*yield*/ , readFile(manifestUri)];\r\n                        case 1:\r\n                            manifest = _c.apply(_b, [(_d.sent()).toString()]);\r\n                            return [4 /*yield*/ , loadWeights(manifest, modelBaseUri)];\r\n                        case 2:\r\n                            weightMap = _d.sent();\r\n                            this.loadFromWeightMap(weightMap);\r\n                            return [2 /*return*/ ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        NeuralNetwork.prototype.loadFromWeightMap = function(weightMap) {\r\n            var _a = this.extractParamsFromWeigthMap(weightMap),\r\n                paramMappings = _a.paramMappings,\r\n                params = _a.params;\r\n            this._paramMappings = paramMappings;\r\n            this._params = params;\r\n        };\r\n        NeuralNetwork.prototype.extractWeights = function(weights) {\r\n            var _a = this.extractParams(weights),\r\n                paramMappings = _a.paramMappings,\r\n                params = _a.params;\r\n            this._paramMappings = paramMappings;\r\n            this._params = params;\r\n        };\r\n        NeuralNetwork.prototype.traversePropertyPath = function(paramPath) {\r\n            if (!this.params) {\r\n                throw new Error(\"traversePropertyPath - model has no loaded params\");\r\n            }\r\n            var result = paramPath.split('/').reduce(function(res, objProp) {\r\n                if (!res.nextObj.hasOwnProperty(objProp)) {\r\n                    throw new Error(\"traversePropertyPath - object does not have property \" + objProp + \", for path \" + paramPath);\r\n                }\r\n                return { obj: res.nextObj, objProp: objProp, nextObj: res.nextObj[objProp] };\r\n            }, { nextObj: this.params });\r\n            var obj = result.obj,\r\n                objProp = result.objProp;\r\n            if (!obj || !objProp || !(obj[objProp] instanceof wt)) {\r\n                throw new Error(\"traversePropertyPath - parameter is not a tensor, for path \" + paramPath);\r\n            }\r\n            return { obj: obj, objProp: objProp };\r\n        };\r\n        return NeuralNetwork;\r\n    }());\r\n\r\n    function depthwiseSeparableConv(x, params, stride) {\r\n        return Ze(function() {\r\n            var out = Jc(x, params.depthwise_filter, params.pointwise_filter, stride, 'same');\r\n            out = rc(out, params.bias);\r\n            return out;\r\n        });\r\n    }\r\n\r\n    function denseBlock3(x, denseBlockParams, isFirstLayer) {\r\n        if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n        return Ze(function() {\r\n            var out1 = Bl(isFirstLayer ?\r\n                rc(qc(x, denseBlockParams.conv0.filters, [2, 2], 'same'), denseBlockParams.conv0.bias) :\r\n                depthwiseSeparableConv(x, denseBlockParams.conv0, [2, 2]));\r\n            var out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1]);\r\n            var in3 = Bl(rc(out1, out2));\r\n            var out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1]);\r\n            return Bl(rc(out1, rc(out2, out3)));\r\n        });\r\n    }\r\n\r\n    function denseBlock4(x, denseBlockParams, isFirstLayer, isScaleDown) {\r\n        if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n        if (isScaleDown === void 0) { isScaleDown = true; }\r\n        return Ze(function() {\r\n            var out1 = Bl(isFirstLayer ?\r\n                rc(qc(x, denseBlockParams.conv0.filters, isScaleDown ? [2, 2] : [1, 1], 'same'), denseBlockParams.conv0.bias) :\r\n                depthwiseSeparableConv(x, denseBlockParams.conv0, isScaleDown ? [2, 2] : [1, 1]));\r\n            var out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1]);\r\n            var in3 = Bl(rc(out1, out2));\r\n            var out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1]);\r\n            var in4 = Bl(rc(out1, rc(out2, out3)));\r\n            var out4 = depthwiseSeparableConv(in4, denseBlockParams.conv3, [1, 1]);\r\n            return Bl(rc(out1, rc(out2, rc(out3, out4))));\r\n        });\r\n    }\r\n\r\n    function convLayer(x, params, padding, withRelu) {\r\n        if (padding === void 0) { padding = 'same'; }\r\n        if (withRelu === void 0) { withRelu = false; }\r\n        return Ze(function() {\r\n            var out = rc(qc(x, params.filters, [1, 1], padding), params.bias);\r\n            return withRelu ? Bl(out) : out;\r\n        });\r\n    }\r\n\r\n    function disposeUnusedWeightTensors(weightMap, paramMappings) {\r\n        Object.keys(weightMap).forEach(function(path) {\r\n            if (!paramMappings.some(function(pm) { return pm.originalPath === path; })) {\r\n                weightMap[path].dispose();\r\n            }\r\n        });\r\n    }\r\n\r\n    function extractConvParamsFactory(extractWeights, paramMappings) {\r\n        return function(channelsIn, channelsOut, filterSize, mappedPrefix) {\r\n            var filters = Ln(extractWeights(channelsIn * channelsOut * filterSize * filterSize), [filterSize, filterSize, channelsIn, channelsOut]);\r\n            var bias = Mn(extractWeights(channelsOut));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/filters\" }, { paramPath: mappedPrefix + \"/bias\" });\r\n            return { filters: filters, bias: bias };\r\n        };\r\n    }\r\n\r\n    function extractFCParamsFactory(extractWeights, paramMappings) {\r\n        return function(channelsIn, channelsOut, mappedPrefix) {\r\n            var fc_weights = Bn(extractWeights(channelsIn * channelsOut), [channelsIn, channelsOut]);\r\n            var fc_bias = Mn(extractWeights(channelsOut));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/weights\" }, { paramPath: mappedPrefix + \"/bias\" });\r\n            return {\r\n                weights: fc_weights,\r\n                bias: fc_bias\r\n            };\r\n        };\r\n    }\r\n\r\n    var SeparableConvParams = /** @class */ (function() {\r\n        function SeparableConvParams(depthwise_filter, pointwise_filter, bias) {\r\n            this.depthwise_filter = depthwise_filter;\r\n            this.pointwise_filter = pointwise_filter;\r\n            this.bias = bias;\r\n        }\r\n        return SeparableConvParams;\r\n    }());\r\n\r\n    function extractSeparableConvParamsFactory(extractWeights, paramMappings) {\r\n        return function(channelsIn, channelsOut, mappedPrefix) {\r\n            var depthwise_filter = Ln(extractWeights(3 * 3 * channelsIn), [3, 3, channelsIn, 1]);\r\n            var pointwise_filter = Ln(extractWeights(channelsIn * channelsOut), [1, 1, channelsIn, channelsOut]);\r\n            var bias = Mn(extractWeights(channelsOut));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/depthwise_filter\" }, { paramPath: mappedPrefix + \"/pointwise_filter\" }, { paramPath: mappedPrefix + \"/bias\" });\r\n            return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\r\n        };\r\n    }\r\n\r\n    function loadSeparableConvParamsFactory(extractWeightEntry) {\r\n        return function(prefix) {\r\n            var depthwise_filter = extractWeightEntry(prefix + \"/depthwise_filter\", 4);\r\n            var pointwise_filter = extractWeightEntry(prefix + \"/pointwise_filter\", 4);\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\r\n        };\r\n    }\r\n\r\n    function extractWeightEntryFactory(weightMap, paramMappings) {\r\n        return function(originalPath, paramRank, mappedPath) {\r\n            var tensor = weightMap[originalPath];\r\n            if (!isTensor(tensor, paramRank)) {\r\n                throw new Error(\"expected weightMap[\" + originalPath + \"] to be a Tensor\" + paramRank + \"D, instead have \" + tensor);\r\n            }\r\n            paramMappings.push({ originalPath: originalPath, paramPath: mappedPath || originalPath });\r\n            return tensor;\r\n        };\r\n    }\r\n\r\n    function extractWeightsFactory(weights) {\r\n        var remainingWeights = weights;\r\n\r\n        function extractWeights(numWeights) {\r\n            var ret = remainingWeights.slice(0, numWeights);\r\n            remainingWeights = remainingWeights.slice(numWeights);\r\n            return ret;\r\n        }\r\n\r\n        function getRemainingWeights() {\r\n            return remainingWeights;\r\n        }\r\n        return {\r\n            extractWeights: extractWeights,\r\n            getRemainingWeights: getRemainingWeights\r\n        };\r\n    }\r\n\r\n    function extractorsFactory(extractWeights, paramMappings) {\r\n        var extractConvParams = extractConvParamsFactory(extractWeights, paramMappings);\r\n        var extractSeparableConvParams = extractSeparableConvParamsFactory(extractWeights, paramMappings);\r\n\r\n        function extractDenseBlock3Params(channelsIn, channelsOut, mappedPrefix, isFirstLayer) {\r\n            if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n            var conv0 = isFirstLayer ?\r\n                extractConvParams(channelsIn, channelsOut, 3, mappedPrefix + \"/conv0\") :\r\n                extractSeparableConvParams(channelsIn, channelsOut, mappedPrefix + \"/conv0\");\r\n            var conv1 = extractSeparableConvParams(channelsOut, channelsOut, mappedPrefix + \"/conv1\");\r\n            var conv2 = extractSeparableConvParams(channelsOut, channelsOut, mappedPrefix + \"/conv2\");\r\n            return { conv0: conv0, conv1: conv1, conv2: conv2 };\r\n        }\r\n\r\n        function extractDenseBlock4Params(channelsIn, channelsOut, mappedPrefix, isFirstLayer) {\r\n            if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n            var _a = extractDenseBlock3Params(channelsIn, channelsOut, mappedPrefix, isFirstLayer),\r\n                conv0 = _a.conv0,\r\n                conv1 = _a.conv1,\r\n                conv2 = _a.conv2;\r\n            var conv3 = extractSeparableConvParams(channelsOut, channelsOut, mappedPrefix + \"/conv3\");\r\n            return { conv0: conv0, conv1: conv1, conv2: conv2, conv3: conv3 };\r\n        }\r\n        return {\r\n            extractDenseBlock3Params: extractDenseBlock3Params,\r\n            extractDenseBlock4Params: extractDenseBlock4Params\r\n        };\r\n    }\r\n\r\n    function extractParams(weights) {\r\n        var paramMappings = [];\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var extractDenseBlock4Params = extractorsFactory(extractWeights, paramMappings).extractDenseBlock4Params;\r\n        var dense0 = extractDenseBlock4Params(3, 32, 'dense0', true);\r\n        var dense1 = extractDenseBlock4Params(32, 64, 'dense1');\r\n        var dense2 = extractDenseBlock4Params(64, 128, 'dense2');\r\n        var dense3 = extractDenseBlock4Params(128, 256, 'dense3');\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return {\r\n            paramMappings: paramMappings,\r\n            params: { dense0: dense0, dense1: dense1, dense2: dense2, dense3: dense3 }\r\n        };\r\n    }\r\n\r\n    function loadConvParamsFactory(extractWeightEntry) {\r\n        return function(prefix) {\r\n            var filters = extractWeightEntry(prefix + \"/filters\", 4);\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return { filters: filters, bias: bias };\r\n        };\r\n    }\r\n\r\n    function loadParamsFactory(weightMap, paramMappings) {\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n        var extractConvParams = loadConvParamsFactory(extractWeightEntry);\r\n        var extractSeparableConvParams = loadSeparableConvParamsFactory(extractWeightEntry);\r\n\r\n        function extractDenseBlock3Params(prefix, isFirstLayer) {\r\n            if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n            var conv0 = isFirstLayer ?\r\n                extractConvParams(prefix + \"/conv0\") :\r\n                extractSeparableConvParams(prefix + \"/conv0\");\r\n            var conv1 = extractSeparableConvParams(prefix + \"/conv1\");\r\n            var conv2 = extractSeparableConvParams(prefix + \"/conv2\");\r\n            return { conv0: conv0, conv1: conv1, conv2: conv2 };\r\n        }\r\n\r\n        function extractDenseBlock4Params(prefix, isFirstLayer) {\r\n            if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n            var conv0 = isFirstLayer ?\r\n                extractConvParams(prefix + \"/conv0\") :\r\n                extractSeparableConvParams(prefix + \"/conv0\");\r\n            var conv1 = extractSeparableConvParams(prefix + \"/conv1\");\r\n            var conv2 = extractSeparableConvParams(prefix + \"/conv2\");\r\n            var conv3 = extractSeparableConvParams(prefix + \"/conv3\");\r\n            return { conv0: conv0, conv1: conv1, conv2: conv2, conv3: conv3 };\r\n        }\r\n        return {\r\n            extractDenseBlock3Params: extractDenseBlock3Params,\r\n            extractDenseBlock4Params: extractDenseBlock4Params\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap(weightMap) {\r\n        var paramMappings = [];\r\n        var extractDenseBlock4Params = loadParamsFactory(weightMap, paramMappings).extractDenseBlock4Params;\r\n        var params = {\r\n            dense0: extractDenseBlock4Params('dense0', true),\r\n            dense1: extractDenseBlock4Params('dense1'),\r\n            dense2: extractDenseBlock4Params('dense2'),\r\n            dense3: extractDenseBlock4Params('dense3')\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    var FaceFeatureExtractor = /** @class */ (function(_super) {\r\n        __extends(FaceFeatureExtractor, _super);\r\n\r\n        function FaceFeatureExtractor() {\r\n            return _super.call(this, 'FaceFeatureExtractor') || this;\r\n        }\r\n        FaceFeatureExtractor.prototype.forwardInput = function(input) {\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error('FaceFeatureExtractor - load model before inference');\r\n            }\r\n            return Ze(function() {\r\n                var batchTensor = input.toBatchTensor(112, true);\r\n                var meanRgb = [122.782, 117.001, 104.298];\r\n                var normalized = normalize(batchTensor, meanRgb).div(On(255));\r\n                var out = denseBlock4(normalized, params.dense0, true);\r\n                out = denseBlock4(out, params.dense1);\r\n                out = denseBlock4(out, params.dense2);\r\n                out = denseBlock4(out, params.dense3);\r\n                out = fl(out, [7, 7], [2, 2], 'valid');\r\n                return out;\r\n            });\r\n        };\r\n        FaceFeatureExtractor.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceFeatureExtractor.prototype.getDefaultModelName = function() {\r\n            return 'face_feature_extractor_model';\r\n        };\r\n        FaceFeatureExtractor.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMap(weightMap);\r\n        };\r\n        FaceFeatureExtractor.prototype.extractParams = function(weights) {\r\n            return extractParams(weights);\r\n        };\r\n        return FaceFeatureExtractor;\r\n    }(NeuralNetwork));\r\n\r\n    function fullyConnectedLayer(x, params) {\r\n        return Ze(function() {\r\n            return rc(el(x, params.weights), params.bias);\r\n        });\r\n    }\r\n\r\n    function extractParams$1(weights, channelsIn, channelsOut) {\r\n        var paramMappings = [];\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var extractFCParams = extractFCParamsFactory(extractWeights, paramMappings);\r\n        var fc = extractFCParams(channelsIn, channelsOut, 'fc');\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return {\r\n            paramMappings: paramMappings,\r\n            params: { fc: fc }\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$1(weightMap) {\r\n        var paramMappings = [];\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n\r\n        function extractFcParams(prefix) {\r\n            var weights = extractWeightEntry(prefix + \"/weights\", 2);\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return { weights: weights, bias: bias };\r\n        }\r\n        var params = {\r\n            fc: extractFcParams('fc')\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    function seperateWeightMaps(weightMap) {\r\n        var featureExtractorMap = {};\r\n        var classifierMap = {};\r\n        Object.keys(weightMap).forEach(function(key) {\r\n            var map = key.startsWith('fc') ? classifierMap : featureExtractorMap;\r\n            map[key] = weightMap[key];\r\n        });\r\n        return { featureExtractorMap: featureExtractorMap, classifierMap: classifierMap };\r\n    }\r\n\r\n    var FaceProcessor = /** @class */ (function(_super) {\r\n        __extends(FaceProcessor, _super);\r\n\r\n        function FaceProcessor(_name, faceFeatureExtractor) {\r\n            var _this = _super.call(this, _name) || this;\r\n            _this._faceFeatureExtractor = faceFeatureExtractor;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(FaceProcessor.prototype, \"faceFeatureExtractor\", {\r\n            get: function() {\r\n                return this._faceFeatureExtractor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        FaceProcessor.prototype.runNet = function(input) {\r\n            var _this = this;\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error(this._name + \" - load model before inference\");\r\n            }\r\n            return Ze(function() {\r\n                var bottleneckFeatures = input instanceof NetInput ?\r\n                    _this.faceFeatureExtractor.forwardInput(input) :\r\n                    input;\r\n                return fullyConnectedLayer(bottleneckFeatures.as2D(bottleneckFeatures.shape[0], -1), params.fc);\r\n            });\r\n        };\r\n        FaceProcessor.prototype.dispose = function(throwOnRedispose) {\r\n            if (throwOnRedispose === void 0) { throwOnRedispose = true; }\r\n            this.faceFeatureExtractor.dispose(throwOnRedispose);\r\n            _super.prototype.dispose.call(this, throwOnRedispose);\r\n        };\r\n        FaceProcessor.prototype.loadClassifierParams = function(weights) {\r\n            var _a = this.extractClassifierParams(weights),\r\n                params = _a.params,\r\n                paramMappings = _a.paramMappings;\r\n            this._params = params;\r\n            this._paramMappings = paramMappings;\r\n        };\r\n        FaceProcessor.prototype.extractClassifierParams = function(weights) {\r\n            return extractParams$1(weights, this.getClassifierChannelsIn(), this.getClassifierChannelsOut());\r\n        };\r\n        FaceProcessor.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            var _a = seperateWeightMaps(weightMap),\r\n                featureExtractorMap = _a.featureExtractorMap,\r\n                classifierMap = _a.classifierMap;\r\n            this.faceFeatureExtractor.loadFromWeightMap(featureExtractorMap);\r\n            return extractParamsFromWeigthMap$1(classifierMap);\r\n        };\r\n        FaceProcessor.prototype.extractParams = function(weights) {\r\n            var cIn = this.getClassifierChannelsIn();\r\n            var cOut = this.getClassifierChannelsOut();\r\n            var classifierWeightSize = (cOut * cIn) + cOut;\r\n            var featureExtractorWeights = weights.slice(0, weights.length - classifierWeightSize);\r\n            var classifierWeights = weights.slice(weights.length - classifierWeightSize);\r\n            this.faceFeatureExtractor.extractWeights(featureExtractorWeights);\r\n            return this.extractClassifierParams(classifierWeights);\r\n        };\r\n        return FaceProcessor;\r\n    }(NeuralNetwork));\r\n\r\n    var FACE_EXPRESSION_LABELS = ['neutral', 'happy', 'sad', 'angry', 'fearful', 'disgusted', 'surprised'];\r\n    var FaceExpressions = /** @class */ (function() {\r\n        function FaceExpressions(probabilities) {\r\n            var _this = this;\r\n            if (probabilities.length !== 7) {\r\n                throw new Error(\"FaceExpressions.constructor - expected probabilities.length to be 7, have: \" + probabilities.length);\r\n            }\r\n            FACE_EXPRESSION_LABELS.forEach(function(expression, idx) {\r\n                _this[expression] = probabilities[idx];\r\n            });\r\n        }\r\n        FaceExpressions.prototype.asSortedArray = function() {\r\n            var _this = this;\r\n            return FACE_EXPRESSION_LABELS\r\n                .map(function(expression) { return ({ expression: expression, probability: _this[expression] }); })\r\n                .sort(function(e0, e1) { return e1.probability - e0.probability; });\r\n        };\r\n        return FaceExpressions;\r\n    }());\r\n\r\n    var FaceExpressionNet = /** @class */ (function(_super) {\r\n        __extends(FaceExpressionNet, _super);\r\n\r\n        function FaceExpressionNet(faceFeatureExtractor) {\r\n            if (faceFeatureExtractor === void 0) { faceFeatureExtractor = new FaceFeatureExtractor(); }\r\n            return _super.call(this, 'FaceExpressionNet', faceFeatureExtractor) || this;\r\n        }\r\n        FaceExpressionNet.prototype.forwardInput = function(input) {\r\n            var _this = this;\r\n            return Ze(function() { return go(_this.runNet(input)); });\r\n        };\r\n        FaceExpressionNet.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceExpressionNet.prototype.predictExpressions = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var netInput, out, probabilitesByBatch, predictionsByBatch;\r\n                var _this = this;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            netInput = _a.sent();\r\n                            return [4 /*yield*/ , this.forwardInput(netInput)];\r\n                        case 2:\r\n                            out = _a.sent();\r\n                            return [4 /*yield*/ , Promise.all(Ur(out).map(function(t) {\r\n                                return __awaiter(_this, void 0, void 0, function() {\r\n                                    var data;\r\n                                    return __generator(this, function(_a) {\r\n                                        switch (_a.label) {\r\n                                            case 0:\r\n                                                return [4 /*yield*/ , t.data()];\r\n                                            case 1:\r\n                                                data = _a.sent();\r\n                                                t.dispose();\r\n                                                return [2 /*return*/ , data];\r\n                                        }\r\n                                    });\r\n                                });\r\n                            }))];\r\n                        case 3:\r\n                            probabilitesByBatch = _a.sent();\r\n                            out.dispose();\r\n                            predictionsByBatch = probabilitesByBatch\r\n                                .map(function(probabilites) { return new FaceExpressions(probabilites); });\r\n                            return [2 /*return*/ , netInput.isBatchInput ?\r\n                                predictionsByBatch :\r\n                                predictionsByBatch[0]\r\n                            ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceExpressionNet.prototype.getDefaultModelName = function() {\r\n            return 'face_expression_model';\r\n        };\r\n        FaceExpressionNet.prototype.getClassifierChannelsIn = function() {\r\n            return 256;\r\n        };\r\n        FaceExpressionNet.prototype.getClassifierChannelsOut = function() {\r\n            return 7;\r\n        };\r\n        return FaceExpressionNet;\r\n    }(FaceProcessor));\r\n\r\n    function isWithFaceExpressions(obj) {\r\n        return obj['expressions'] instanceof FaceExpressions;\r\n    }\r\n\r\n    function extendWithFaceExpressions(sourceObj, expressions) {\r\n        var extension = { expressions: expressions };\r\n        return Object.assign({}, sourceObj, extension);\r\n    }\r\n\r\n    function drawFaceExpressions(canvasArg, faceExpressions, minConfidence, textFieldAnchor) {\r\n        if (minConfidence === void 0) { minConfidence = 0.1; }\r\n        var faceExpressionsArray = Array.isArray(faceExpressions) ? faceExpressions : [faceExpressions];\r\n        faceExpressionsArray.forEach(function(e) {\r\n            var expr = e instanceof FaceExpressions ?\r\n                e :\r\n                (isWithFaceExpressions(e) ? e.expressions : undefined);\r\n            if (!expr) {\r\n                throw new Error('drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof');\r\n            }\r\n            var sorted = expr.asSortedArray();\r\n            var resultsToDisplay = sorted.filter(function(expr) { return expr.probability > minConfidence; });\r\n            var anchor = isWithFaceDetection(e) ?\r\n                e.detection.box.bottomLeft :\r\n                (textFieldAnchor || new Point(0, 0));\r\n            var drawTextField = new DrawTextField(resultsToDisplay.map(function(expr) { return expr.expression + \" (\" + round(expr.probability) + \")\"; }), anchor);\r\n            drawTextField.draw(canvasArg);\r\n        });\r\n    }\r\n\r\n    function isWithFaceLandmarks(obj) {\r\n        return isWithFaceDetection(obj) &&\r\n            obj['landmarks'] instanceof FaceLandmarks &&\r\n            obj['unshiftedLandmarks'] instanceof FaceLandmarks &&\r\n            obj['alignedRect'] instanceof FaceDetection;\r\n    }\r\n\r\n    function extendWithFaceLandmarks(sourceObj, unshiftedLandmarks) {\r\n        var shift = sourceObj.detection.box;\r\n        var landmarks = unshiftedLandmarks.shiftBy(shift.x, shift.y);\r\n        var rect = landmarks.align();\r\n        var imageDims = sourceObj.detection.imageDims;\r\n        var alignedRect = new FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims);\r\n        var extension = {\r\n            landmarks: landmarks,\r\n            unshiftedLandmarks: unshiftedLandmarks,\r\n            alignedRect: alignedRect\r\n        };\r\n        return Object.assign({}, sourceObj, extension);\r\n    }\r\n\r\n    var DrawFaceLandmarksOptions = /** @class */ (function() {\r\n        function DrawFaceLandmarksOptions(options) {\r\n            if (options === void 0) { options = {}; }\r\n            var _a = options.drawLines,\r\n                drawLines = _a === void 0 ? true : _a,\r\n                _b = options.drawPoints,\r\n                drawPoints = _b === void 0 ? true : _b,\r\n                lineWidth = options.lineWidth,\r\n                lineColor = options.lineColor,\r\n                pointSize = options.pointSize,\r\n                pointColor = options.pointColor;\r\n            this.drawLines = drawLines;\r\n            this.drawPoints = drawPoints;\r\n            this.lineWidth = lineWidth || 1;\r\n            this.pointSize = pointSize || 2;\r\n            this.lineColor = lineColor || 'rgba(0, 255, 255, 1)';\r\n            this.pointColor = pointColor || 'rgba(255, 0, 255, 1)';\r\n        }\r\n        return DrawFaceLandmarksOptions;\r\n    }());\r\n    var DrawFaceLandmarks = /** @class */ (function() {\r\n        function DrawFaceLandmarks(faceLandmarks, options) {\r\n            if (options === void 0) { options = {}; }\r\n            this.faceLandmarks = faceLandmarks;\r\n            this.options = new DrawFaceLandmarksOptions(options);\r\n        }\r\n        DrawFaceLandmarks.prototype.draw = function(canvasArg) {\r\n            var ctx = getContext2dOrThrow(canvasArg);\r\n            var _a = this.options,\r\n                drawLines = _a.drawLines,\r\n                drawPoints = _a.drawPoints,\r\n                lineWidth = _a.lineWidth,\r\n                lineColor = _a.lineColor,\r\n                pointSize = _a.pointSize,\r\n                pointColor = _a.pointColor;\r\n            if (drawLines && this.faceLandmarks instanceof FaceLandmarks68) {\r\n                ctx.strokeStyle = lineColor;\r\n                ctx.lineWidth = lineWidth;\r\n                drawContour(ctx, this.faceLandmarks.getJawOutline());\r\n                drawContour(ctx, this.faceLandmarks.getLeftEyeBrow());\r\n                drawContour(ctx, this.faceLandmarks.getRightEyeBrow());\r\n                drawContour(ctx, this.faceLandmarks.getNose());\r\n                drawContour(ctx, this.faceLandmarks.getLeftEye(), true);\r\n                drawContour(ctx, this.faceLandmarks.getRightEye(), true);\r\n                drawContour(ctx, this.faceLandmarks.getMouth(), true);\r\n            }\r\n            if (drawPoints) {\r\n                ctx.strokeStyle = pointColor;\r\n                ctx.fillStyle = pointColor;\r\n                var drawPoint = function(pt) {\r\n                    ctx.beginPath();\r\n                    ctx.arc(pt.x, pt.y, pointSize, 0, 2 * Math.PI);\r\n                    ctx.fill();\r\n                };\r\n                this.faceLandmarks.positions.forEach(drawPoint);\r\n            }\r\n        };\r\n        return DrawFaceLandmarks;\r\n    }());\r\n\r\n    function drawFaceLandmarks(canvasArg, faceLandmarks) {\r\n        var faceLandmarksArray = Array.isArray(faceLandmarks) ? faceLandmarks : [faceLandmarks];\r\n        faceLandmarksArray.forEach(function(f) {\r\n            var landmarks = f instanceof FaceLandmarks ?\r\n                f :\r\n                (isWithFaceLandmarks(f) ? f.landmarks : undefined);\r\n            if (!landmarks) {\r\n                throw new Error('drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof');\r\n            }\r\n            new DrawFaceLandmarks(landmarks).draw(canvasArg);\r\n        });\r\n    }\r\n\r\n\r\n\r\n    var index$1 = /*#__PURE__*/ Object.freeze({\r\n        __proto__: null,\r\n        drawContour: drawContour,\r\n        drawDetections: drawDetections,\r\n        drawFaceExpressions: drawFaceExpressions,\r\n        DrawBoxOptions: DrawBoxOptions,\r\n        DrawBox: DrawBox,\r\n        DrawFaceLandmarksOptions: DrawFaceLandmarksOptions,\r\n        DrawFaceLandmarks: DrawFaceLandmarks,\r\n        drawFaceLandmarks: drawFaceLandmarks,\r\n        get AnchorPosition() { return AnchorPosition; },\r\n        DrawTextFieldOptions: DrawTextFieldOptions,\r\n        DrawTextField: DrawTextField\r\n    });\r\n\r\n    function extractorsFactory$1(extractWeights, paramMappings) {\r\n        var extractConvParams = extractConvParamsFactory(extractWeights, paramMappings);\r\n        var extractSeparableConvParams = extractSeparableConvParamsFactory(extractWeights, paramMappings);\r\n\r\n        function extractReductionBlockParams(channelsIn, channelsOut, mappedPrefix) {\r\n            var separable_conv0 = extractSeparableConvParams(channelsIn, channelsOut, mappedPrefix + \"/separable_conv0\");\r\n            var separable_conv1 = extractSeparableConvParams(channelsOut, channelsOut, mappedPrefix + \"/separable_conv1\");\r\n            var expansion_conv = extractConvParams(channelsIn, channelsOut, 1, mappedPrefix + \"/expansion_conv\");\r\n            return { separable_conv0: separable_conv0, separable_conv1: separable_conv1, expansion_conv: expansion_conv };\r\n        }\r\n\r\n        function extractMainBlockParams(channels, mappedPrefix) {\r\n            var separable_conv0 = extractSeparableConvParams(channels, channels, mappedPrefix + \"/separable_conv0\");\r\n            var separable_conv1 = extractSeparableConvParams(channels, channels, mappedPrefix + \"/separable_conv1\");\r\n            var separable_conv2 = extractSeparableConvParams(channels, channels, mappedPrefix + \"/separable_conv2\");\r\n            return { separable_conv0: separable_conv0, separable_conv1: separable_conv1, separable_conv2: separable_conv2 };\r\n        }\r\n        return {\r\n            extractConvParams: extractConvParams,\r\n            extractSeparableConvParams: extractSeparableConvParams,\r\n            extractReductionBlockParams: extractReductionBlockParams,\r\n            extractMainBlockParams: extractMainBlockParams\r\n        };\r\n    }\r\n\r\n    function extractParams$2(weights, numMainBlocks) {\r\n        var paramMappings = [];\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var _b = extractorsFactory$1(extractWeights, paramMappings),\r\n            extractConvParams = _b.extractConvParams,\r\n            extractSeparableConvParams = _b.extractSeparableConvParams,\r\n            extractReductionBlockParams = _b.extractReductionBlockParams,\r\n            extractMainBlockParams = _b.extractMainBlockParams;\r\n        var entry_flow_conv_in = extractConvParams(3, 32, 3, 'entry_flow/conv_in');\r\n        var entry_flow_reduction_block_0 = extractReductionBlockParams(32, 64, 'entry_flow/reduction_block_0');\r\n        var entry_flow_reduction_block_1 = extractReductionBlockParams(64, 128, 'entry_flow/reduction_block_1');\r\n        var entry_flow = {\r\n            conv_in: entry_flow_conv_in,\r\n            reduction_block_0: entry_flow_reduction_block_0,\r\n            reduction_block_1: entry_flow_reduction_block_1\r\n        };\r\n        var middle_flow = {};\r\n        range(numMainBlocks, 0, 1).forEach(function(idx) {\r\n            middle_flow[\"main_block_\" + idx] = extractMainBlockParams(128, \"middle_flow/main_block_\" + idx);\r\n        });\r\n        var exit_flow_reduction_block = extractReductionBlockParams(128, 256, 'exit_flow/reduction_block');\r\n        var exit_flow_separable_conv = extractSeparableConvParams(256, 512, 'exit_flow/separable_conv');\r\n        var exit_flow = {\r\n            reduction_block: exit_flow_reduction_block,\r\n            separable_conv: exit_flow_separable_conv\r\n        };\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return {\r\n            paramMappings: paramMappings,\r\n            params: { entry_flow: entry_flow, middle_flow: middle_flow, exit_flow: exit_flow }\r\n        };\r\n    }\r\n\r\n    function loadParamsFactory$1(weightMap, paramMappings) {\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n        var extractConvParams = loadConvParamsFactory(extractWeightEntry);\r\n        var extractSeparableConvParams = loadSeparableConvParamsFactory(extractWeightEntry);\r\n\r\n        function extractReductionBlockParams(mappedPrefix) {\r\n            var separable_conv0 = extractSeparableConvParams(mappedPrefix + \"/separable_conv0\");\r\n            var separable_conv1 = extractSeparableConvParams(mappedPrefix + \"/separable_conv1\");\r\n            var expansion_conv = extractConvParams(mappedPrefix + \"/expansion_conv\");\r\n            return { separable_conv0: separable_conv0, separable_conv1: separable_conv1, expansion_conv: expansion_conv };\r\n        }\r\n\r\n        function extractMainBlockParams(mappedPrefix) {\r\n            var separable_conv0 = extractSeparableConvParams(mappedPrefix + \"/separable_conv0\");\r\n            var separable_conv1 = extractSeparableConvParams(mappedPrefix + \"/separable_conv1\");\r\n            var separable_conv2 = extractSeparableConvParams(mappedPrefix + \"/separable_conv2\");\r\n            return { separable_conv0: separable_conv0, separable_conv1: separable_conv1, separable_conv2: separable_conv2 };\r\n        }\r\n        return {\r\n            extractConvParams: extractConvParams,\r\n            extractSeparableConvParams: extractSeparableConvParams,\r\n            extractReductionBlockParams: extractReductionBlockParams,\r\n            extractMainBlockParams: extractMainBlockParams\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$2(weightMap, numMainBlocks) {\r\n        var paramMappings = [];\r\n        var _a = loadParamsFactory$1(weightMap, paramMappings),\r\n            extractConvParams = _a.extractConvParams,\r\n            extractSeparableConvParams = _a.extractSeparableConvParams,\r\n            extractReductionBlockParams = _a.extractReductionBlockParams,\r\n            extractMainBlockParams = _a.extractMainBlockParams;\r\n        var entry_flow_conv_in = extractConvParams('entry_flow/conv_in');\r\n        var entry_flow_reduction_block_0 = extractReductionBlockParams('entry_flow/reduction_block_0');\r\n        var entry_flow_reduction_block_1 = extractReductionBlockParams('entry_flow/reduction_block_1');\r\n        var entry_flow = {\r\n            conv_in: entry_flow_conv_in,\r\n            reduction_block_0: entry_flow_reduction_block_0,\r\n            reduction_block_1: entry_flow_reduction_block_1\r\n        };\r\n        var middle_flow = {};\r\n        range(numMainBlocks, 0, 1).forEach(function(idx) {\r\n            middle_flow[\"main_block_\" + idx] = extractMainBlockParams(\"middle_flow/main_block_\" + idx);\r\n        });\r\n        var exit_flow_reduction_block = extractReductionBlockParams('exit_flow/reduction_block');\r\n        var exit_flow_separable_conv = extractSeparableConvParams('exit_flow/separable_conv');\r\n        var exit_flow = {\r\n            reduction_block: exit_flow_reduction_block,\r\n            separable_conv: exit_flow_separable_conv\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: { entry_flow: entry_flow, middle_flow: middle_flow, exit_flow: exit_flow }, paramMappings: paramMappings };\r\n    }\r\n\r\n    function conv(x, params, stride) {\r\n        return rc(qc(x, params.filters, stride, 'same'), params.bias);\r\n    }\r\n\r\n    function reductionBlock(x, params, isActivateInput) {\r\n        if (isActivateInput === void 0) { isActivateInput = true; }\r\n        var out = isActivateInput ? Bl(x) : x;\r\n        out = depthwiseSeparableConv(out, params.separable_conv0, [1, 1]);\r\n        out = depthwiseSeparableConv(Bl(out), params.separable_conv1, [1, 1]);\r\n        out = hl(out, [3, 3], [2, 2], 'same');\r\n        out = rc(out, conv(x, params.expansion_conv, [2, 2]));\r\n        return out;\r\n    }\r\n\r\n    function mainBlock(x, params) {\r\n        var out = depthwiseSeparableConv(Bl(x), params.separable_conv0, [1, 1]);\r\n        out = depthwiseSeparableConv(Bl(out), params.separable_conv1, [1, 1]);\r\n        out = depthwiseSeparableConv(Bl(out), params.separable_conv2, [1, 1]);\r\n        out = rc(out, x);\r\n        return out;\r\n    }\r\n    var TinyXception = /** @class */ (function(_super) {\r\n        __extends(TinyXception, _super);\r\n\r\n        function TinyXception(numMainBlocks) {\r\n            var _this = _super.call(this, 'TinyXception') || this;\r\n            _this._numMainBlocks = numMainBlocks;\r\n            return _this;\r\n        }\r\n        TinyXception.prototype.forwardInput = function(input) {\r\n            var _this = this;\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error('TinyXception - load model before inference');\r\n            }\r\n            return Ze(function() {\r\n                var batchTensor = input.toBatchTensor(112, true);\r\n                var meanRgb = [122.782, 117.001, 104.298];\r\n                var normalized = normalize(batchTensor, meanRgb).div(On(256));\r\n                var out = Bl(conv(normalized, params.entry_flow.conv_in, [2, 2]));\r\n                out = reductionBlock(out, params.entry_flow.reduction_block_0, false);\r\n                out = reductionBlock(out, params.entry_flow.reduction_block_1);\r\n                range(_this._numMainBlocks, 0, 1).forEach(function(idx) {\r\n                    out = mainBlock(out, params.middle_flow[\"main_block_\" + idx]);\r\n                });\r\n                out = reductionBlock(out, params.exit_flow.reduction_block);\r\n                out = Bl(depthwiseSeparableConv(out, params.exit_flow.separable_conv, [1, 1]));\r\n                return out;\r\n            });\r\n        };\r\n        TinyXception.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyXception.prototype.getDefaultModelName = function() {\r\n            return 'tiny_xception_model';\r\n        };\r\n        TinyXception.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMap$2(weightMap, this._numMainBlocks);\r\n        };\r\n        TinyXception.prototype.extractParams = function(weights) {\r\n            return extractParams$2(weights, this._numMainBlocks);\r\n        };\r\n        return TinyXception;\r\n    }(NeuralNetwork));\r\n\r\n    function extractParams$3(weights) {\r\n        var paramMappings = [];\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var extractFCParams = extractFCParamsFactory(extractWeights, paramMappings);\r\n        var age = extractFCParams(512, 1, 'fc/age');\r\n        var gender = extractFCParams(512, 2, 'fc/gender');\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return {\r\n            paramMappings: paramMappings,\r\n            params: { fc: { age: age, gender: gender } }\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$3(weightMap) {\r\n        var paramMappings = [];\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n\r\n        function extractFcParams(prefix) {\r\n            var weights = extractWeightEntry(prefix + \"/weights\", 2);\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return { weights: weights, bias: bias };\r\n        }\r\n        var params = {\r\n            fc: {\r\n                age: extractFcParams('fc/age'),\r\n                gender: extractFcParams('fc/gender')\r\n            }\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    (function(Gender) {\r\n        Gender[\"FEMALE\"] = \"female\";\r\n        Gender[\"MALE\"] = \"male\";\r\n    })(exports.Gender || (exports.Gender = {}));\r\n\r\n    var AgeGenderNet = /** @class */ (function(_super) {\r\n        __extends(AgeGenderNet, _super);\r\n\r\n        function AgeGenderNet(faceFeatureExtractor) {\r\n            if (faceFeatureExtractor === void 0) { faceFeatureExtractor = new TinyXception(2); }\r\n            var _this = _super.call(this, 'AgeGenderNet') || this;\r\n            _this._faceFeatureExtractor = faceFeatureExtractor;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(AgeGenderNet.prototype, \"faceFeatureExtractor\", {\r\n            get: function() {\r\n                return this._faceFeatureExtractor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        AgeGenderNet.prototype.runNet = function(input) {\r\n            var _this = this;\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error(this._name + \" - load model before inference\");\r\n            }\r\n            return Ze(function() {\r\n                var bottleneckFeatures = input instanceof NetInput ?\r\n                    _this.faceFeatureExtractor.forwardInput(input) :\r\n                    input;\r\n                var pooled = fl(bottleneckFeatures, [7, 7], [2, 2], 'valid').as2D(bottleneckFeatures.shape[0], -1);\r\n                var age = fullyConnectedLayer(pooled, params.fc.age).as1D();\r\n                var gender = fullyConnectedLayer(pooled, params.fc.gender);\r\n                return { age: age, gender: gender };\r\n            });\r\n        };\r\n        AgeGenderNet.prototype.forwardInput = function(input) {\r\n            var _this = this;\r\n            return Ze(function() {\r\n                var _a = _this.runNet(input),\r\n                    age = _a.age,\r\n                    gender = _a.gender;\r\n                return { age: age, gender: go(gender) };\r\n            });\r\n        };\r\n        AgeGenderNet.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        AgeGenderNet.prototype.predictAgeAndGender = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var netInput, out, ages, genders, ageAndGenderTensors, predictionsByBatch;\r\n                var _this = this;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            netInput = _a.sent();\r\n                            return [4 /*yield*/ , this.forwardInput(netInput)];\r\n                        case 2:\r\n                            out = _a.sent();\r\n                            ages = Ur(out.age);\r\n                            genders = Ur(out.gender);\r\n                            ageAndGenderTensors = ages.map(function(ageTensor, i) {\r\n                                return ({\r\n                                    ageTensor: ageTensor,\r\n                                    genderTensor: genders[i]\r\n                                });\r\n                            });\r\n                            return [4 /*yield*/ , Promise.all(ageAndGenderTensors.map(function(_a) {\r\n                                var ageTensor = _a.ageTensor,\r\n                                    genderTensor = _a.genderTensor;\r\n                                return __awaiter(_this, void 0, void 0, function() {\r\n                                    var age, probMale, isMale, gender, genderProbability;\r\n                                    return __generator(this, function(_b) {\r\n                                        switch (_b.label) {\r\n                                            case 0:\r\n                                                return [4 /*yield*/ , ageTensor.data()];\r\n                                            case 1:\r\n                                                age = (_b.sent())[0];\r\n                                                return [4 /*yield*/ , genderTensor.data()];\r\n                                            case 2:\r\n                                                probMale = (_b.sent())[0];\r\n                                                isMale = probMale > 0.5;\r\n                                                gender = isMale ? exports.Gender.MALE : exports.Gender.FEMALE;\r\n                                                genderProbability = isMale ? probMale : (1 - probMale);\r\n                                                ageTensor.dispose();\r\n                                                genderTensor.dispose();\r\n                                                return [2 /*return*/ , { age: age, gender: gender, genderProbability: genderProbability }];\r\n                                        }\r\n                                    });\r\n                                });\r\n                            }))];\r\n                        case 3:\r\n                            predictionsByBatch = _a.sent();\r\n                            out.age.dispose();\r\n                            out.gender.dispose();\r\n                            return [2 /*return*/ , netInput.isBatchInput ?\r\n                                predictionsByBatch :\r\n                                predictionsByBatch[0]\r\n                            ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        AgeGenderNet.prototype.getDefaultModelName = function() {\r\n            return 'age_gender_model';\r\n        };\r\n        AgeGenderNet.prototype.dispose = function(throwOnRedispose) {\r\n            if (throwOnRedispose === void 0) { throwOnRedispose = true; }\r\n            this.faceFeatureExtractor.dispose(throwOnRedispose);\r\n            _super.prototype.dispose.call(this, throwOnRedispose);\r\n        };\r\n        AgeGenderNet.prototype.loadClassifierParams = function(weights) {\r\n            var _a = this.extractClassifierParams(weights),\r\n                params = _a.params,\r\n                paramMappings = _a.paramMappings;\r\n            this._params = params;\r\n            this._paramMappings = paramMappings;\r\n        };\r\n        AgeGenderNet.prototype.extractClassifierParams = function(weights) {\r\n            return extractParams$3(weights);\r\n        };\r\n        AgeGenderNet.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            var _a = seperateWeightMaps(weightMap),\r\n                featureExtractorMap = _a.featureExtractorMap,\r\n                classifierMap = _a.classifierMap;\r\n            this.faceFeatureExtractor.loadFromWeightMap(featureExtractorMap);\r\n            return extractParamsFromWeigthMap$3(classifierMap);\r\n        };\r\n        AgeGenderNet.prototype.extractParams = function(weights) {\r\n            var classifierWeightSize = (512 * 1 + 1) + (512 * 2 + 2);\r\n            var featureExtractorWeights = weights.slice(0, weights.length - classifierWeightSize);\r\n            var classifierWeights = weights.slice(weights.length - classifierWeightSize);\r\n            this.faceFeatureExtractor.extractWeights(featureExtractorWeights);\r\n            return this.extractClassifierParams(classifierWeights);\r\n        };\r\n        return AgeGenderNet;\r\n    }(NeuralNetwork));\r\n\r\n    var FaceLandmark68NetBase = /** @class */ (function(_super) {\r\n        __extends(FaceLandmark68NetBase, _super);\r\n\r\n        function FaceLandmark68NetBase() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        FaceLandmark68NetBase.prototype.postProcess = function(output, inputSize, originalDimensions) {\r\n            var inputDimensions = originalDimensions.map(function(_a) {\r\n                var width = _a.width,\r\n                    height = _a.height;\r\n                var scale = inputSize / Math.max(height, width);\r\n                return {\r\n                    width: width * scale,\r\n                    height: height * scale\r\n                };\r\n            });\r\n            var batchSize = inputDimensions.length;\r\n            return Ze(function() {\r\n                var createInterleavedTensor = function(fillX, fillY) {\r\n                    return Pr([\r\n                        Hn([68], fillX),\r\n                        Hn([68], fillY)\r\n                    ], 1).as2D(1, 136).as1D();\r\n                };\r\n                var getPadding = function(batchIdx, cond) {\r\n                    var _a = inputDimensions[batchIdx],\r\n                        width = _a.width,\r\n                        height = _a.height;\r\n                    return cond(width, height) ? Math.abs(width - height) / 2 : 0;\r\n                };\r\n                var getPaddingX = function(batchIdx) { return getPadding(batchIdx, function(w, h) { return w < h; }); };\r\n                var getPaddingY = function(batchIdx) { return getPadding(batchIdx, function(w, h) { return h < w; }); };\r\n                var landmarkTensors = output\r\n                    .mul(Hn([batchSize, 136], inputSize))\r\n                    .sub(Pr(Array.from(Array(batchSize), function(_, batchIdx) {\r\n                        return createInterleavedTensor(getPaddingX(batchIdx), getPaddingY(batchIdx));\r\n                    })))\r\n                    .div(Pr(Array.from(Array(batchSize), function(_, batchIdx) {\r\n                        return createInterleavedTensor(inputDimensions[batchIdx].width, inputDimensions[batchIdx].height);\r\n                    })));\r\n                return landmarkTensors;\r\n            });\r\n        };\r\n        FaceLandmark68NetBase.prototype.forwardInput = function(input) {\r\n            var _this = this;\r\n            return Ze(function() {\r\n                var out = _this.runNet(input);\r\n                return _this.postProcess(out, input.inputSize, input.inputDimensions.map(function(_a) {\r\n                    var height = _a[0],\r\n                        width = _a[1];\r\n                    return ({ height: height, width: width });\r\n                }));\r\n            });\r\n        };\r\n        FaceLandmark68NetBase.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceLandmark68NetBase.prototype.detectLandmarks = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var netInput, landmarkTensors, landmarksForBatch;\r\n                var _this = this;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            netInput = _a.sent();\r\n                            landmarkTensors = Ze(function() { return Ur(_this.forwardInput(netInput)); });\r\n                            return [4 /*yield*/ , Promise.all(landmarkTensors.map(function(landmarkTensor, batchIdx) {\r\n                                return __awaiter(_this, void 0, void 0, function() {\r\n                                    var landmarksArray, _a, _b, xCoords, yCoords;\r\n                                    return __generator(this, function(_c) {\r\n                                        switch (_c.label) {\r\n                                            case 0:\r\n                                                _b = (_a = Array).from;\r\n                                                return [4 /*yield*/ , landmarkTensor.data()];\r\n                                            case 1:\r\n                                                landmarksArray = _b.apply(_a, [_c.sent()]);\r\n                                                xCoords = landmarksArray.filter(function(_, i) { return isEven(i); });\r\n                                                yCoords = landmarksArray.filter(function(_, i) { return !isEven(i); });\r\n                                                return [2 /*return*/ , new FaceLandmarks68(Array(68).fill(0).map(function(_, i) { return new Point(xCoords[i], yCoords[i]); }), {\r\n                                                    height: netInput.getInputHeight(batchIdx),\r\n                                                    width: netInput.getInputWidth(batchIdx),\r\n                                                })];\r\n                                        }\r\n                                    });\r\n                                });\r\n                            }))];\r\n                        case 2:\r\n                            landmarksForBatch = _a.sent();\r\n                            landmarkTensors.forEach(function(t) { return t.dispose(); });\r\n                            return [2 /*return*/ , netInput.isBatchInput ?\r\n                                landmarksForBatch :\r\n                                landmarksForBatch[0]\r\n                            ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceLandmark68NetBase.prototype.getClassifierChannelsOut = function() {\r\n            return 136;\r\n        };\r\n        return FaceLandmark68NetBase;\r\n    }(FaceProcessor));\r\n\r\n    var FaceLandmark68Net = /** @class */ (function(_super) {\r\n        __extends(FaceLandmark68Net, _super);\r\n\r\n        function FaceLandmark68Net(faceFeatureExtractor) {\r\n            if (faceFeatureExtractor === void 0) { faceFeatureExtractor = new FaceFeatureExtractor(); }\r\n            return _super.call(this, 'FaceLandmark68Net', faceFeatureExtractor) || this;\r\n        }\r\n        FaceLandmark68Net.prototype.getDefaultModelName = function() {\r\n            return 'face_landmark_68_model';\r\n        };\r\n        FaceLandmark68Net.prototype.getClassifierChannelsIn = function() {\r\n            return 256;\r\n        };\r\n        return FaceLandmark68Net;\r\n    }(FaceLandmark68NetBase));\r\n\r\n    function extractParamsFromWeigthMapTiny(weightMap) {\r\n        var paramMappings = [];\r\n        var extractDenseBlock3Params = loadParamsFactory(weightMap, paramMappings).extractDenseBlock3Params;\r\n        var params = {\r\n            dense0: extractDenseBlock3Params('dense0', true),\r\n            dense1: extractDenseBlock3Params('dense1'),\r\n            dense2: extractDenseBlock3Params('dense2')\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    function extractParamsTiny(weights) {\r\n        var paramMappings = [];\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var extractDenseBlock3Params = extractorsFactory(extractWeights, paramMappings).extractDenseBlock3Params;\r\n        var dense0 = extractDenseBlock3Params(3, 32, 'dense0', true);\r\n        var dense1 = extractDenseBlock3Params(32, 64, 'dense1');\r\n        var dense2 = extractDenseBlock3Params(64, 128, 'dense2');\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return {\r\n            paramMappings: paramMappings,\r\n            params: { dense0: dense0, dense1: dense1, dense2: dense2 }\r\n        };\r\n    }\r\n\r\n    var TinyFaceFeatureExtractor = /** @class */ (function(_super) {\r\n        __extends(TinyFaceFeatureExtractor, _super);\r\n\r\n        function TinyFaceFeatureExtractor() {\r\n            return _super.call(this, 'TinyFaceFeatureExtractor') || this;\r\n        }\r\n        TinyFaceFeatureExtractor.prototype.forwardInput = function(input) {\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error('TinyFaceFeatureExtractor - load model before inference');\r\n            }\r\n            return Ze(function() {\r\n                var batchTensor = input.toBatchTensor(112, true);\r\n                var meanRgb = [122.782, 117.001, 104.298];\r\n                var normalized = normalize(batchTensor, meanRgb).div(On(255));\r\n                var out = denseBlock3(normalized, params.dense0, true);\r\n                out = denseBlock3(out, params.dense1);\r\n                out = denseBlock3(out, params.dense2);\r\n                out = fl(out, [14, 14], [2, 2], 'valid');\r\n                return out;\r\n            });\r\n        };\r\n        TinyFaceFeatureExtractor.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyFaceFeatureExtractor.prototype.getDefaultModelName = function() {\r\n            return 'face_feature_extractor_tiny_model';\r\n        };\r\n        TinyFaceFeatureExtractor.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMapTiny(weightMap);\r\n        };\r\n        TinyFaceFeatureExtractor.prototype.extractParams = function(weights) {\r\n            return extractParamsTiny(weights);\r\n        };\r\n        return TinyFaceFeatureExtractor;\r\n    }(NeuralNetwork));\r\n\r\n    var FaceLandmark68TinyNet = /** @class */ (function(_super) {\r\n        __extends(FaceLandmark68TinyNet, _super);\r\n\r\n        function FaceLandmark68TinyNet(faceFeatureExtractor) {\r\n            if (faceFeatureExtractor === void 0) { faceFeatureExtractor = new TinyFaceFeatureExtractor(); }\r\n            return _super.call(this, 'FaceLandmark68TinyNet', faceFeatureExtractor) || this;\r\n        }\r\n        FaceLandmark68TinyNet.prototype.getDefaultModelName = function() {\r\n            return 'face_landmark_68_tiny_model';\r\n        };\r\n        FaceLandmark68TinyNet.prototype.getClassifierChannelsIn = function() {\r\n            return 128;\r\n        };\r\n        return FaceLandmark68TinyNet;\r\n    }(FaceLandmark68NetBase));\r\n\r\n    var FaceLandmarkNet = /** @class */ (function(_super) {\r\n        __extends(FaceLandmarkNet, _super);\r\n\r\n        function FaceLandmarkNet() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        return FaceLandmarkNet;\r\n    }(FaceLandmark68Net));\r\n\r\n    function scale(x, params) {\r\n        return rc(gc(x, params.weights), params.biases);\r\n    }\r\n\r\n    function convLayer$1(x, params, strides, withRelu, padding) {\r\n        if (padding === void 0) { padding = 'same'; }\r\n        var _a = params.conv,\r\n            filters = _a.filters,\r\n            bias = _a.bias;\r\n        var out = qc(x, filters, strides, padding);\r\n        out = rc(out, bias);\r\n        out = scale(out, params.scale);\r\n        return withRelu ? Bl(out) : out;\r\n    }\r\n\r\n    function conv$1(x, params) {\r\n        return convLayer$1(x, params, [1, 1], true);\r\n    }\r\n\r\n    function convNoRelu(x, params) {\r\n        return convLayer$1(x, params, [1, 1], false);\r\n    }\r\n\r\n    function convDown(x, params) {\r\n        return convLayer$1(x, params, [2, 2], true, 'valid');\r\n    }\r\n\r\n    function extractorsFactory$2(extractWeights, paramMappings) {\r\n        function extractFilterValues(numFilterValues, numFilters, filterSize) {\r\n            var weights = extractWeights(numFilterValues);\r\n            var depth = weights.length / (numFilters * filterSize * filterSize);\r\n            if (isFloat(depth)) {\r\n                throw new Error(\"depth has to be an integer: \" + depth + \", weights.length: \" + weights.length + \", numFilters: \" + numFilters + \", filterSize: \" + filterSize);\r\n            }\r\n            return Ze(function() { return Wl(Ln(weights, [numFilters, depth, filterSize, filterSize]), [2, 3, 1, 0]); });\r\n        }\r\n\r\n        function extractConvParams(numFilterValues, numFilters, filterSize, mappedPrefix) {\r\n            var filters = extractFilterValues(numFilterValues, numFilters, filterSize);\r\n            var bias = Mn(extractWeights(numFilters));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/filters\" }, { paramPath: mappedPrefix + \"/bias\" });\r\n            return { filters: filters, bias: bias };\r\n        }\r\n\r\n        function extractScaleLayerParams(numWeights, mappedPrefix) {\r\n            var weights = Mn(extractWeights(numWeights));\r\n            var biases = Mn(extractWeights(numWeights));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/weights\" }, { paramPath: mappedPrefix + \"/biases\" });\r\n            return {\r\n                weights: weights,\r\n                biases: biases\r\n            };\r\n        }\r\n\r\n        function extractConvLayerParams(numFilterValues, numFilters, filterSize, mappedPrefix) {\r\n            var conv = extractConvParams(numFilterValues, numFilters, filterSize, mappedPrefix + \"/conv\");\r\n            var scale = extractScaleLayerParams(numFilters, mappedPrefix + \"/scale\");\r\n            return { conv: conv, scale: scale };\r\n        }\r\n\r\n        function extractResidualLayerParams(numFilterValues, numFilters, filterSize, mappedPrefix, isDown) {\r\n            if (isDown === void 0) { isDown = false; }\r\n            var conv1 = extractConvLayerParams((isDown ? 0.5 : 1) * numFilterValues, numFilters, filterSize, mappedPrefix + \"/conv1\");\r\n            var conv2 = extractConvLayerParams(numFilterValues, numFilters, filterSize, mappedPrefix + \"/conv2\");\r\n            return { conv1: conv1, conv2: conv2 };\r\n        }\r\n        return {\r\n            extractConvLayerParams: extractConvLayerParams,\r\n            extractResidualLayerParams: extractResidualLayerParams\r\n        };\r\n    }\r\n\r\n    function extractParams$4(weights) {\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var paramMappings = [];\r\n        var _b = extractorsFactory$2(extractWeights, paramMappings),\r\n            extractConvLayerParams = _b.extractConvLayerParams,\r\n            extractResidualLayerParams = _b.extractResidualLayerParams;\r\n        var conv32_down = extractConvLayerParams(4704, 32, 7, 'conv32_down');\r\n        var conv32_1 = extractResidualLayerParams(9216, 32, 3, 'conv32_1');\r\n        var conv32_2 = extractResidualLayerParams(9216, 32, 3, 'conv32_2');\r\n        var conv32_3 = extractResidualLayerParams(9216, 32, 3, 'conv32_3');\r\n        var conv64_down = extractResidualLayerParams(36864, 64, 3, 'conv64_down', true);\r\n        var conv64_1 = extractResidualLayerParams(36864, 64, 3, 'conv64_1');\r\n        var conv64_2 = extractResidualLayerParams(36864, 64, 3, 'conv64_2');\r\n        var conv64_3 = extractResidualLayerParams(36864, 64, 3, 'conv64_3');\r\n        var conv128_down = extractResidualLayerParams(147456, 128, 3, 'conv128_down', true);\r\n        var conv128_1 = extractResidualLayerParams(147456, 128, 3, 'conv128_1');\r\n        var conv128_2 = extractResidualLayerParams(147456, 128, 3, 'conv128_2');\r\n        var conv256_down = extractResidualLayerParams(589824, 256, 3, 'conv256_down', true);\r\n        var conv256_1 = extractResidualLayerParams(589824, 256, 3, 'conv256_1');\r\n        var conv256_2 = extractResidualLayerParams(589824, 256, 3, 'conv256_2');\r\n        var conv256_down_out = extractResidualLayerParams(589824, 256, 3, 'conv256_down_out');\r\n        var fc = Ze(function() { return Wl(Bn(extractWeights(256 * 128), [128, 256]), [1, 0]); });\r\n        paramMappings.push({ paramPath: \"fc\" });\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        var params = {\r\n            conv32_down: conv32_down,\r\n            conv32_1: conv32_1,\r\n            conv32_2: conv32_2,\r\n            conv32_3: conv32_3,\r\n            conv64_down: conv64_down,\r\n            conv64_1: conv64_1,\r\n            conv64_2: conv64_2,\r\n            conv64_3: conv64_3,\r\n            conv128_down: conv128_down,\r\n            conv128_1: conv128_1,\r\n            conv128_2: conv128_2,\r\n            conv256_down: conv256_down,\r\n            conv256_1: conv256_1,\r\n            conv256_2: conv256_2,\r\n            conv256_down_out: conv256_down_out,\r\n            fc: fc\r\n        };\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    function extractorsFactory$3(weightMap, paramMappings) {\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n\r\n        function extractScaleLayerParams(prefix) {\r\n            var weights = extractWeightEntry(prefix + \"/scale/weights\", 1);\r\n            var biases = extractWeightEntry(prefix + \"/scale/biases\", 1);\r\n            return { weights: weights, biases: biases };\r\n        }\r\n\r\n        function extractConvLayerParams(prefix) {\r\n            var filters = extractWeightEntry(prefix + \"/conv/filters\", 4);\r\n            var bias = extractWeightEntry(prefix + \"/conv/bias\", 1);\r\n            var scale = extractScaleLayerParams(prefix);\r\n            return { conv: { filters: filters, bias: bias }, scale: scale };\r\n        }\r\n\r\n        function extractResidualLayerParams(prefix) {\r\n            return {\r\n                conv1: extractConvLayerParams(prefix + \"/conv1\"),\r\n                conv2: extractConvLayerParams(prefix + \"/conv2\")\r\n            };\r\n        }\r\n        return {\r\n            extractConvLayerParams: extractConvLayerParams,\r\n            extractResidualLayerParams: extractResidualLayerParams\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$4(weightMap) {\r\n        var paramMappings = [];\r\n        var _a = extractorsFactory$3(weightMap, paramMappings),\r\n            extractConvLayerParams = _a.extractConvLayerParams,\r\n            extractResidualLayerParams = _a.extractResidualLayerParams;\r\n        var conv32_down = extractConvLayerParams('conv32_down');\r\n        var conv32_1 = extractResidualLayerParams('conv32_1');\r\n        var conv32_2 = extractResidualLayerParams('conv32_2');\r\n        var conv32_3 = extractResidualLayerParams('conv32_3');\r\n        var conv64_down = extractResidualLayerParams('conv64_down');\r\n        var conv64_1 = extractResidualLayerParams('conv64_1');\r\n        var conv64_2 = extractResidualLayerParams('conv64_2');\r\n        var conv64_3 = extractResidualLayerParams('conv64_3');\r\n        var conv128_down = extractResidualLayerParams('conv128_down');\r\n        var conv128_1 = extractResidualLayerParams('conv128_1');\r\n        var conv128_2 = extractResidualLayerParams('conv128_2');\r\n        var conv256_down = extractResidualLayerParams('conv256_down');\r\n        var conv256_1 = extractResidualLayerParams('conv256_1');\r\n        var conv256_2 = extractResidualLayerParams('conv256_2');\r\n        var conv256_down_out = extractResidualLayerParams('conv256_down_out');\r\n        var fc = weightMap['fc'];\r\n        paramMappings.push({ originalPath: 'fc', paramPath: 'fc' });\r\n        if (!isTensor2D(fc)) {\r\n            throw new Error(\"expected weightMap[fc] to be a Tensor2D, instead have \" + fc);\r\n        }\r\n        var params = {\r\n            conv32_down: conv32_down,\r\n            conv32_1: conv32_1,\r\n            conv32_2: conv32_2,\r\n            conv32_3: conv32_3,\r\n            conv64_down: conv64_down,\r\n            conv64_1: conv64_1,\r\n            conv64_2: conv64_2,\r\n            conv64_3: conv64_3,\r\n            conv128_down: conv128_down,\r\n            conv128_1: conv128_1,\r\n            conv128_2: conv128_2,\r\n            conv256_down: conv256_down,\r\n            conv256_1: conv256_1,\r\n            conv256_2: conv256_2,\r\n            conv256_down_out: conv256_down_out,\r\n            fc: fc\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    function residual(x, params) {\r\n        var out = conv$1(x, params.conv1);\r\n        out = convNoRelu(out, params.conv2);\r\n        out = rc(out, x);\r\n        out = Bl(out);\r\n        return out;\r\n    }\r\n\r\n    function residualDown(x, params) {\r\n        var out = convDown(x, params.conv1);\r\n        out = convNoRelu(out, params.conv2);\r\n        var pooled = fl(x, 2, 2, 'valid');\r\n        var zeros = Gn(pooled.shape);\r\n        var isPad = pooled.shape[3] !== out.shape[3];\r\n        var isAdjustShape = pooled.shape[1] !== out.shape[1] || pooled.shape[2] !== out.shape[2];\r\n        if (isAdjustShape) {\r\n            var padShapeX = __spreadArrays(out.shape);\r\n            padShapeX[1] = 1;\r\n            var zerosW = Gn(padShapeX);\r\n            out = Yn([out, zerosW], 1);\r\n            var padShapeY = __spreadArrays(out.shape);\r\n            padShapeY[2] = 1;\r\n            var zerosH = Gn(padShapeY);\r\n            out = Yn([out, zerosH], 2);\r\n        }\r\n        pooled = isPad ? Yn([pooled, zeros], 3) : pooled;\r\n        out = rc(pooled, out);\r\n        out = Bl(out);\r\n        return out;\r\n    }\r\n\r\n    var FaceRecognitionNet = /** @class */ (function(_super) {\r\n        __extends(FaceRecognitionNet, _super);\r\n\r\n        function FaceRecognitionNet() {\r\n            return _super.call(this, 'FaceRecognitionNet') || this;\r\n        }\r\n        FaceRecognitionNet.prototype.forwardInput = function(input) {\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error('FaceRecognitionNet - load model before inference');\r\n            }\r\n            return Ze(function() {\r\n                var batchTensor = input.toBatchTensor(150, true).toFloat();\r\n                var meanRgb = [122.782, 117.001, 104.298];\r\n                var normalized = normalize(batchTensor, meanRgb).div(On(256));\r\n                var out = convDown(normalized, params.conv32_down);\r\n                out = hl(out, 3, 2, 'valid');\r\n                out = residual(out, params.conv32_1);\r\n                out = residual(out, params.conv32_2);\r\n                out = residual(out, params.conv32_3);\r\n                out = residualDown(out, params.conv64_down);\r\n                out = residual(out, params.conv64_1);\r\n                out = residual(out, params.conv64_2);\r\n                out = residual(out, params.conv64_3);\r\n                out = residualDown(out, params.conv128_down);\r\n                out = residual(out, params.conv128_1);\r\n                out = residual(out, params.conv128_2);\r\n                out = residualDown(out, params.conv256_down);\r\n                out = residual(out, params.conv256_1);\r\n                out = residual(out, params.conv256_2);\r\n                out = residualDown(out, params.conv256_down_out);\r\n                var globalAvg = out.mean([1, 2]);\r\n                var fullyConnected = el(globalAvg, params.fc);\r\n                return fullyConnected;\r\n            });\r\n        };\r\n        FaceRecognitionNet.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceRecognitionNet.prototype.computeFaceDescriptor = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var netInput, faceDescriptorTensors, faceDescriptorsForBatch;\r\n                var _this = this;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            netInput = _a.sent();\r\n                            faceDescriptorTensors = Ze(function() { return Ur(_this.forwardInput(netInput)); });\r\n                            return [4 /*yield*/ , Promise.all(faceDescriptorTensors.map(function(t) { return t.data(); }))];\r\n                        case 2:\r\n                            faceDescriptorsForBatch = _a.sent();\r\n                            faceDescriptorTensors.forEach(function(t) { return t.dispose(); });\r\n                            return [2 /*return*/ , netInput.isBatchInput ?\r\n                                faceDescriptorsForBatch :\r\n                                faceDescriptorsForBatch[0]\r\n                            ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        FaceRecognitionNet.prototype.getDefaultModelName = function() {\r\n            return 'face_recognition_model';\r\n        };\r\n        FaceRecognitionNet.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMap$4(weightMap);\r\n        };\r\n        FaceRecognitionNet.prototype.extractParams = function(weights) {\r\n            return extractParams$4(weights);\r\n        };\r\n        return FaceRecognitionNet;\r\n    }(NeuralNetwork));\r\n\r\n    function createFaceRecognitionNet(weights) {\r\n        var net = new FaceRecognitionNet();\r\n        net.extractWeights(weights);\r\n        return net;\r\n    }\r\n\r\n    function extendWithFaceDescriptor(sourceObj, descriptor) {\r\n        var extension = { descriptor: descriptor };\r\n        return Object.assign({}, sourceObj, extension);\r\n    }\r\n\r\n    function isWithAge(obj) {\r\n        return typeof obj['age'] === 'number';\r\n    }\r\n\r\n    function extendWithAge(sourceObj, age) {\r\n        var extension = { age: age };\r\n        return Object.assign({}, sourceObj, extension);\r\n    }\r\n\r\n    function isWithGender(obj) {\r\n        return (obj['gender'] === exports.Gender.MALE || obj['gender'] === exports.Gender.FEMALE) &&\r\n            isValidProbablitiy(obj['genderProbability']);\r\n    }\r\n\r\n    function extendWithGender(sourceObj, gender, genderProbability) {\r\n        var extension = { gender: gender, genderProbability: genderProbability };\r\n        return Object.assign({}, sourceObj, extension);\r\n    }\r\n\r\n    var MtcnnOptions = /** @class */ (function() {\r\n        function MtcnnOptions(_a) {\r\n            var _b = _a === void 0 ? {} : _a,\r\n                minFaceSize = _b.minFaceSize,\r\n                scaleFactor = _b.scaleFactor,\r\n                maxNumScales = _b.maxNumScales,\r\n                scoreThresholds = _b.scoreThresholds,\r\n                scaleSteps = _b.scaleSteps;\r\n            this._name = 'MtcnnOptions';\r\n            this._minFaceSize = minFaceSize || 20;\r\n            this._scaleFactor = scaleFactor || 0.709;\r\n            this._maxNumScales = maxNumScales || 10;\r\n            this._scoreThresholds = scoreThresholds || [0.6, 0.7, 0.7];\r\n            this._scaleSteps = scaleSteps;\r\n            if (typeof this._minFaceSize !== 'number' || this._minFaceSize < 0) {\r\n                throw new Error(this._name + \" - expected minFaceSize to be a number > 0\");\r\n            }\r\n            if (typeof this._scaleFactor !== 'number' || this._scaleFactor <= 0 || this._scaleFactor >= 1) {\r\n                throw new Error(this._name + \" - expected scaleFactor to be a number between 0 and 1\");\r\n            }\r\n            if (typeof this._maxNumScales !== 'number' || this._maxNumScales < 0) {\r\n                throw new Error(this._name + \" - expected maxNumScales to be a number > 0\");\r\n            }\r\n            if (!Array.isArray(this._scoreThresholds) ||\r\n                this._scoreThresholds.length !== 3 ||\r\n                this._scoreThresholds.some(function(th) { return typeof th !== 'number'; })) {\r\n                throw new Error(this._name + \" - expected scoreThresholds to be an array of numbers of length 3\");\r\n            }\r\n            if (this._scaleSteps &&\r\n                (!Array.isArray(this._scaleSteps) || this._scaleSteps.some(function(th) { return typeof th !== 'number'; }))) {\r\n                throw new Error(this._name + \" - expected scaleSteps to be an array of numbers\");\r\n            }\r\n        }\r\n        Object.defineProperty(MtcnnOptions.prototype, \"minFaceSize\", {\r\n            get: function() { return this._minFaceSize; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(MtcnnOptions.prototype, \"scaleFactor\", {\r\n            get: function() { return this._scaleFactor; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(MtcnnOptions.prototype, \"maxNumScales\", {\r\n            get: function() { return this._maxNumScales; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(MtcnnOptions.prototype, \"scoreThresholds\", {\r\n            get: function() { return this._scoreThresholds; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(MtcnnOptions.prototype, \"scaleSteps\", {\r\n            get: function() { return this._scaleSteps; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return MtcnnOptions;\r\n    }());\r\n\r\n    function extractorsFactory$4(extractWeights, paramMappings) {\r\n        function extractDepthwiseConvParams(numChannels, mappedPrefix) {\r\n            var filters = Ln(extractWeights(3 * 3 * numChannels), [3, 3, numChannels, 1]);\r\n            var batch_norm_scale = Mn(extractWeights(numChannels));\r\n            var batch_norm_offset = Mn(extractWeights(numChannels));\r\n            var batch_norm_mean = Mn(extractWeights(numChannels));\r\n            var batch_norm_variance = Mn(extractWeights(numChannels));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/filters\" }, { paramPath: mappedPrefix + \"/batch_norm_scale\" }, { paramPath: mappedPrefix + \"/batch_norm_offset\" }, { paramPath: mappedPrefix + \"/batch_norm_mean\" }, { paramPath: mappedPrefix + \"/batch_norm_variance\" });\r\n            return {\r\n                filters: filters,\r\n                batch_norm_scale: batch_norm_scale,\r\n                batch_norm_offset: batch_norm_offset,\r\n                batch_norm_mean: batch_norm_mean,\r\n                batch_norm_variance: batch_norm_variance\r\n            };\r\n        }\r\n\r\n        function extractConvParams(channelsIn, channelsOut, filterSize, mappedPrefix, isPointwiseConv) {\r\n            var filters = Ln(extractWeights(channelsIn * channelsOut * filterSize * filterSize), [filterSize, filterSize, channelsIn, channelsOut]);\r\n            var bias = Mn(extractWeights(channelsOut));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/filters\" }, { paramPath: mappedPrefix + \"/\" + (isPointwiseConv ? 'batch_norm_offset' : 'bias') });\r\n            return { filters: filters, bias: bias };\r\n        }\r\n\r\n        function extractPointwiseConvParams(channelsIn, channelsOut, filterSize, mappedPrefix) {\r\n            var _a = extractConvParams(channelsIn, channelsOut, filterSize, mappedPrefix, true),\r\n                filters = _a.filters,\r\n                bias = _a.bias;\r\n            return {\r\n                filters: filters,\r\n                batch_norm_offset: bias\r\n            };\r\n        }\r\n\r\n        function extractConvPairParams(channelsIn, channelsOut, mappedPrefix) {\r\n            var depthwise_conv = extractDepthwiseConvParams(channelsIn, mappedPrefix + \"/depthwise_conv\");\r\n            var pointwise_conv = extractPointwiseConvParams(channelsIn, channelsOut, 1, mappedPrefix + \"/pointwise_conv\");\r\n            return { depthwise_conv: depthwise_conv, pointwise_conv: pointwise_conv };\r\n        }\r\n\r\n        function extractMobilenetV1Params() {\r\n            var conv_0 = extractPointwiseConvParams(3, 32, 3, 'mobilenetv1/conv_0');\r\n            var conv_1 = extractConvPairParams(32, 64, 'mobilenetv1/conv_1');\r\n            var conv_2 = extractConvPairParams(64, 128, 'mobilenetv1/conv_2');\r\n            var conv_3 = extractConvPairParams(128, 128, 'mobilenetv1/conv_3');\r\n            var conv_4 = extractConvPairParams(128, 256, 'mobilenetv1/conv_4');\r\n            var conv_5 = extractConvPairParams(256, 256, 'mobilenetv1/conv_5');\r\n            var conv_6 = extractConvPairParams(256, 512, 'mobilenetv1/conv_6');\r\n            var conv_7 = extractConvPairParams(512, 512, 'mobilenetv1/conv_7');\r\n            var conv_8 = extractConvPairParams(512, 512, 'mobilenetv1/conv_8');\r\n            var conv_9 = extractConvPairParams(512, 512, 'mobilenetv1/conv_9');\r\n            var conv_10 = extractConvPairParams(512, 512, 'mobilenetv1/conv_10');\r\n            var conv_11 = extractConvPairParams(512, 512, 'mobilenetv1/conv_11');\r\n            var conv_12 = extractConvPairParams(512, 1024, 'mobilenetv1/conv_12');\r\n            var conv_13 = extractConvPairParams(1024, 1024, 'mobilenetv1/conv_13');\r\n            return {\r\n                conv_0: conv_0,\r\n                conv_1: conv_1,\r\n                conv_2: conv_2,\r\n                conv_3: conv_3,\r\n                conv_4: conv_4,\r\n                conv_5: conv_5,\r\n                conv_6: conv_6,\r\n                conv_7: conv_7,\r\n                conv_8: conv_8,\r\n                conv_9: conv_9,\r\n                conv_10: conv_10,\r\n                conv_11: conv_11,\r\n                conv_12: conv_12,\r\n                conv_13: conv_13\r\n            };\r\n        }\r\n\r\n        function extractPredictionLayerParams() {\r\n            var conv_0 = extractPointwiseConvParams(1024, 256, 1, 'prediction_layer/conv_0');\r\n            var conv_1 = extractPointwiseConvParams(256, 512, 3, 'prediction_layer/conv_1');\r\n            var conv_2 = extractPointwiseConvParams(512, 128, 1, 'prediction_layer/conv_2');\r\n            var conv_3 = extractPointwiseConvParams(128, 256, 3, 'prediction_layer/conv_3');\r\n            var conv_4 = extractPointwiseConvParams(256, 128, 1, 'prediction_layer/conv_4');\r\n            var conv_5 = extractPointwiseConvParams(128, 256, 3, 'prediction_layer/conv_5');\r\n            var conv_6 = extractPointwiseConvParams(256, 64, 1, 'prediction_layer/conv_6');\r\n            var conv_7 = extractPointwiseConvParams(64, 128, 3, 'prediction_layer/conv_7');\r\n            var box_encoding_0_predictor = extractConvParams(512, 12, 1, 'prediction_layer/box_predictor_0/box_encoding_predictor');\r\n            var class_predictor_0 = extractConvParams(512, 9, 1, 'prediction_layer/box_predictor_0/class_predictor');\r\n            var box_encoding_1_predictor = extractConvParams(1024, 24, 1, 'prediction_layer/box_predictor_1/box_encoding_predictor');\r\n            var class_predictor_1 = extractConvParams(1024, 18, 1, 'prediction_layer/box_predictor_1/class_predictor');\r\n            var box_encoding_2_predictor = extractConvParams(512, 24, 1, 'prediction_layer/box_predictor_2/box_encoding_predictor');\r\n            var class_predictor_2 = extractConvParams(512, 18, 1, 'prediction_layer/box_predictor_2/class_predictor');\r\n            var box_encoding_3_predictor = extractConvParams(256, 24, 1, 'prediction_layer/box_predictor_3/box_encoding_predictor');\r\n            var class_predictor_3 = extractConvParams(256, 18, 1, 'prediction_layer/box_predictor_3/class_predictor');\r\n            var box_encoding_4_predictor = extractConvParams(256, 24, 1, 'prediction_layer/box_predictor_4/box_encoding_predictor');\r\n            var class_predictor_4 = extractConvParams(256, 18, 1, 'prediction_layer/box_predictor_4/class_predictor');\r\n            var box_encoding_5_predictor = extractConvParams(128, 24, 1, 'prediction_layer/box_predictor_5/box_encoding_predictor');\r\n            var class_predictor_5 = extractConvParams(128, 18, 1, 'prediction_layer/box_predictor_5/class_predictor');\r\n            var box_predictor_0 = {\r\n                box_encoding_predictor: box_encoding_0_predictor,\r\n                class_predictor: class_predictor_0\r\n            };\r\n            var box_predictor_1 = {\r\n                box_encoding_predictor: box_encoding_1_predictor,\r\n                class_predictor: class_predictor_1\r\n            };\r\n            var box_predictor_2 = {\r\n                box_encoding_predictor: box_encoding_2_predictor,\r\n                class_predictor: class_predictor_2\r\n            };\r\n            var box_predictor_3 = {\r\n                box_encoding_predictor: box_encoding_3_predictor,\r\n                class_predictor: class_predictor_3\r\n            };\r\n            var box_predictor_4 = {\r\n                box_encoding_predictor: box_encoding_4_predictor,\r\n                class_predictor: class_predictor_4\r\n            };\r\n            var box_predictor_5 = {\r\n                box_encoding_predictor: box_encoding_5_predictor,\r\n                class_predictor: class_predictor_5\r\n            };\r\n            return {\r\n                conv_0: conv_0,\r\n                conv_1: conv_1,\r\n                conv_2: conv_2,\r\n                conv_3: conv_3,\r\n                conv_4: conv_4,\r\n                conv_5: conv_5,\r\n                conv_6: conv_6,\r\n                conv_7: conv_7,\r\n                box_predictor_0: box_predictor_0,\r\n                box_predictor_1: box_predictor_1,\r\n                box_predictor_2: box_predictor_2,\r\n                box_predictor_3: box_predictor_3,\r\n                box_predictor_4: box_predictor_4,\r\n                box_predictor_5: box_predictor_5\r\n            };\r\n        }\r\n        return {\r\n            extractMobilenetV1Params: extractMobilenetV1Params,\r\n            extractPredictionLayerParams: extractPredictionLayerParams\r\n        };\r\n    }\r\n\r\n    function extractParams$5(weights) {\r\n        var paramMappings = [];\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var _b = extractorsFactory$4(extractWeights, paramMappings),\r\n            extractMobilenetV1Params = _b.extractMobilenetV1Params,\r\n            extractPredictionLayerParams = _b.extractPredictionLayerParams;\r\n        var mobilenetv1 = extractMobilenetV1Params();\r\n        var prediction_layer = extractPredictionLayerParams();\r\n        var extra_dim = Pn(extractWeights(5118 * 4), [1, 5118, 4]);\r\n        var output_layer = {\r\n            extra_dim: extra_dim\r\n        };\r\n        paramMappings.push({ paramPath: 'output_layer/extra_dim' });\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return {\r\n            params: {\r\n                mobilenetv1: mobilenetv1,\r\n                prediction_layer: prediction_layer,\r\n                output_layer: output_layer\r\n            },\r\n            paramMappings: paramMappings\r\n        };\r\n    }\r\n\r\n    function extractorsFactory$5(weightMap, paramMappings) {\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n\r\n        function extractPointwiseConvParams(prefix, idx, mappedPrefix) {\r\n            var filters = extractWeightEntry(prefix + \"/Conv2d_\" + idx + \"_pointwise/weights\", 4, mappedPrefix + \"/filters\");\r\n            var batch_norm_offset = extractWeightEntry(prefix + \"/Conv2d_\" + idx + \"_pointwise/convolution_bn_offset\", 1, mappedPrefix + \"/batch_norm_offset\");\r\n            return { filters: filters, batch_norm_offset: batch_norm_offset };\r\n        }\r\n\r\n        function extractConvPairParams(idx) {\r\n            var mappedPrefix = \"mobilenetv1/conv_\" + idx;\r\n            var prefixDepthwiseConv = \"MobilenetV1/Conv2d_\" + idx + \"_depthwise\";\r\n            var mappedPrefixDepthwiseConv = mappedPrefix + \"/depthwise_conv\";\r\n            var mappedPrefixPointwiseConv = mappedPrefix + \"/pointwise_conv\";\r\n            var filters = extractWeightEntry(prefixDepthwiseConv + \"/depthwise_weights\", 4, mappedPrefixDepthwiseConv + \"/filters\");\r\n            var batch_norm_scale = extractWeightEntry(prefixDepthwiseConv + \"/BatchNorm/gamma\", 1, mappedPrefixDepthwiseConv + \"/batch_norm_scale\");\r\n            var batch_norm_offset = extractWeightEntry(prefixDepthwiseConv + \"/BatchNorm/beta\", 1, mappedPrefixDepthwiseConv + \"/batch_norm_offset\");\r\n            var batch_norm_mean = extractWeightEntry(prefixDepthwiseConv + \"/BatchNorm/moving_mean\", 1, mappedPrefixDepthwiseConv + \"/batch_norm_mean\");\r\n            var batch_norm_variance = extractWeightEntry(prefixDepthwiseConv + \"/BatchNorm/moving_variance\", 1, mappedPrefixDepthwiseConv + \"/batch_norm_variance\");\r\n            return {\r\n                depthwise_conv: {\r\n                    filters: filters,\r\n                    batch_norm_scale: batch_norm_scale,\r\n                    batch_norm_offset: batch_norm_offset,\r\n                    batch_norm_mean: batch_norm_mean,\r\n                    batch_norm_variance: batch_norm_variance\r\n                },\r\n                pointwise_conv: extractPointwiseConvParams('MobilenetV1', idx, mappedPrefixPointwiseConv)\r\n            };\r\n        }\r\n\r\n        function extractMobilenetV1Params() {\r\n            return {\r\n                conv_0: extractPointwiseConvParams('MobilenetV1', 0, 'mobilenetv1/conv_0'),\r\n                conv_1: extractConvPairParams(1),\r\n                conv_2: extractConvPairParams(2),\r\n                conv_3: extractConvPairParams(3),\r\n                conv_4: extractConvPairParams(4),\r\n                conv_5: extractConvPairParams(5),\r\n                conv_6: extractConvPairParams(6),\r\n                conv_7: extractConvPairParams(7),\r\n                conv_8: extractConvPairParams(8),\r\n                conv_9: extractConvPairParams(9),\r\n                conv_10: extractConvPairParams(10),\r\n                conv_11: extractConvPairParams(11),\r\n                conv_12: extractConvPairParams(12),\r\n                conv_13: extractConvPairParams(13)\r\n            };\r\n        }\r\n\r\n        function extractConvParams(prefix, mappedPrefix) {\r\n            var filters = extractWeightEntry(prefix + \"/weights\", 4, mappedPrefix + \"/filters\");\r\n            var bias = extractWeightEntry(prefix + \"/biases\", 1, mappedPrefix + \"/bias\");\r\n            return { filters: filters, bias: bias };\r\n        }\r\n\r\n        function extractBoxPredictorParams(idx) {\r\n            var box_encoding_predictor = extractConvParams(\"Prediction/BoxPredictor_\" + idx + \"/BoxEncodingPredictor\", \"prediction_layer/box_predictor_\" + idx + \"/box_encoding_predictor\");\r\n            var class_predictor = extractConvParams(\"Prediction/BoxPredictor_\" + idx + \"/ClassPredictor\", \"prediction_layer/box_predictor_\" + idx + \"/class_predictor\");\r\n            return { box_encoding_predictor: box_encoding_predictor, class_predictor: class_predictor };\r\n        }\r\n\r\n        function extractPredictionLayerParams() {\r\n            return {\r\n                conv_0: extractPointwiseConvParams('Prediction', 0, 'prediction_layer/conv_0'),\r\n                conv_1: extractPointwiseConvParams('Prediction', 1, 'prediction_layer/conv_1'),\r\n                conv_2: extractPointwiseConvParams('Prediction', 2, 'prediction_layer/conv_2'),\r\n                conv_3: extractPointwiseConvParams('Prediction', 3, 'prediction_layer/conv_3'),\r\n                conv_4: extractPointwiseConvParams('Prediction', 4, 'prediction_layer/conv_4'),\r\n                conv_5: extractPointwiseConvParams('Prediction', 5, 'prediction_layer/conv_5'),\r\n                conv_6: extractPointwiseConvParams('Prediction', 6, 'prediction_layer/conv_6'),\r\n                conv_7: extractPointwiseConvParams('Prediction', 7, 'prediction_layer/conv_7'),\r\n                box_predictor_0: extractBoxPredictorParams(0),\r\n                box_predictor_1: extractBoxPredictorParams(1),\r\n                box_predictor_2: extractBoxPredictorParams(2),\r\n                box_predictor_3: extractBoxPredictorParams(3),\r\n                box_predictor_4: extractBoxPredictorParams(4),\r\n                box_predictor_5: extractBoxPredictorParams(5)\r\n            };\r\n        }\r\n        return {\r\n            extractMobilenetV1Params: extractMobilenetV1Params,\r\n            extractPredictionLayerParams: extractPredictionLayerParams\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$5(weightMap) {\r\n        var paramMappings = [];\r\n        var _a = extractorsFactory$5(weightMap, paramMappings),\r\n            extractMobilenetV1Params = _a.extractMobilenetV1Params,\r\n            extractPredictionLayerParams = _a.extractPredictionLayerParams;\r\n        var extra_dim = weightMap['Output/extra_dim'];\r\n        paramMappings.push({ originalPath: 'Output/extra_dim', paramPath: 'output_layer/extra_dim' });\r\n        if (!isTensor3D(extra_dim)) {\r\n            throw new Error(\"expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have \" + extra_dim);\r\n        }\r\n        var params = {\r\n            mobilenetv1: extractMobilenetV1Params(),\r\n            prediction_layer: extractPredictionLayerParams(),\r\n            output_layer: {\r\n                extra_dim: extra_dim\r\n            }\r\n        };\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    function pointwiseConvLayer(x, params, strides) {\r\n        return Ze(function() {\r\n            var out = qc(x, params.filters, strides, 'same');\r\n            out = rc(out, params.batch_norm_offset);\r\n            return hu(out, 0, 6);\r\n        });\r\n    }\r\n\r\n    var epsilon = 0.0010000000474974513;\r\n\r\n    function depthwiseConvLayer(x, params, strides) {\r\n        return Ze(function() {\r\n            var out = Yc(x, params.filters, strides, 'same');\r\n            out = ju(out, params.batch_norm_mean, params.batch_norm_variance, params.batch_norm_offset, params.batch_norm_scale, epsilon);\r\n            return hu(out, 0, 6);\r\n        });\r\n    }\r\n\r\n    function getStridesForLayerIdx(layerIdx) {\r\n        return [2, 4, 6, 12].some(function(idx) { return idx === layerIdx; }) ? [2, 2] : [1, 1];\r\n    }\r\n\r\n    function mobileNetV1(x, params) {\r\n        return Ze(function() {\r\n            var conv11 = null;\r\n            var out = pointwiseConvLayer(x, params.conv_0, [2, 2]);\r\n            var convPairParams = [\r\n                params.conv_1,\r\n                params.conv_2,\r\n                params.conv_3,\r\n                params.conv_4,\r\n                params.conv_5,\r\n                params.conv_6,\r\n                params.conv_7,\r\n                params.conv_8,\r\n                params.conv_9,\r\n                params.conv_10,\r\n                params.conv_11,\r\n                params.conv_12,\r\n                params.conv_13\r\n            ];\r\n            convPairParams.forEach(function(param, i) {\r\n                var layerIdx = i + 1;\r\n                var depthwiseConvStrides = getStridesForLayerIdx(layerIdx);\r\n                out = depthwiseConvLayer(out, param.depthwise_conv, depthwiseConvStrides);\r\n                out = pointwiseConvLayer(out, param.pointwise_conv, [1, 1]);\r\n                if (layerIdx === 11) {\r\n                    conv11 = out;\r\n                }\r\n            });\r\n            if (conv11 === null) {\r\n                throw new Error('mobileNetV1 - output of conv layer 11 is null');\r\n            }\r\n            return {\r\n                out: out,\r\n                conv11: conv11\r\n            };\r\n        });\r\n    }\r\n\r\n    function nonMaxSuppression$1(boxes, scores, maxOutputSize, iouThreshold, scoreThreshold) {\r\n        var numBoxes = boxes.shape[0];\r\n        var outputSize = Math.min(maxOutputSize, numBoxes);\r\n        var candidates = scores\r\n            .map(function(score, boxIndex) { return ({ score: score, boxIndex: boxIndex }); })\r\n            .filter(function(c) { return c.score > scoreThreshold; })\r\n            .sort(function(c1, c2) { return c2.score - c1.score; });\r\n        var suppressFunc = function(x) { return x <= iouThreshold ? 1 : 0; };\r\n        var selected = [];\r\n        candidates.forEach(function(c) {\r\n            if (selected.length >= outputSize) {\r\n                return;\r\n            }\r\n            var originalScore = c.score;\r\n            for (var j = selected.length - 1; j >= 0; --j) {\r\n                var iou = IOU(boxes, c.boxIndex, selected[j]);\r\n                if (iou === 0.0) {\r\n                    continue;\r\n                }\r\n                c.score *= suppressFunc(iou);\r\n                if (c.score <= scoreThreshold) {\r\n                    break;\r\n                }\r\n            }\r\n            if (originalScore === c.score) {\r\n                selected.push(c.boxIndex);\r\n            }\r\n        });\r\n        return selected;\r\n    }\r\n\r\n    function IOU(boxes, i, j) {\r\n        var boxesData = boxes.arraySync();\r\n        var yminI = Math.min(boxesData[i][0], boxesData[i][2]);\r\n        var xminI = Math.min(boxesData[i][1], boxesData[i][3]);\r\n        var ymaxI = Math.max(boxesData[i][0], boxesData[i][2]);\r\n        var xmaxI = Math.max(boxesData[i][1], boxesData[i][3]);\r\n        var yminJ = Math.min(boxesData[j][0], boxesData[j][2]);\r\n        var xminJ = Math.min(boxesData[j][1], boxesData[j][3]);\r\n        var ymaxJ = Math.max(boxesData[j][0], boxesData[j][2]);\r\n        var xmaxJ = Math.max(boxesData[j][1], boxesData[j][3]);\r\n        var areaI = (ymaxI - yminI) * (xmaxI - xminI);\r\n        var areaJ = (ymaxJ - yminJ) * (xmaxJ - xminJ);\r\n        if (areaI <= 0 || areaJ <= 0) {\r\n            return 0.0;\r\n        }\r\n        var intersectionYmin = Math.max(yminI, yminJ);\r\n        var intersectionXmin = Math.max(xminI, xminJ);\r\n        var intersectionYmax = Math.min(ymaxI, ymaxJ);\r\n        var intersectionXmax = Math.min(xmaxI, xmaxJ);\r\n        var intersectionArea = Math.max(intersectionYmax - intersectionYmin, 0.0) *\r\n            Math.max(intersectionXmax - intersectionXmin, 0.0);\r\n        return intersectionArea / (areaI + areaJ - intersectionArea);\r\n    }\r\n\r\n    function getCenterCoordinatesAndSizesLayer(x) {\r\n        var vec = Ur(Wl(x, [1, 0]));\r\n        var sizes = [\r\n            Cc(vec[2], vec[0]),\r\n            Cc(vec[3], vec[1])\r\n        ];\r\n        var centers = [\r\n            rc(vec[0], sc(sizes[0], On(2))),\r\n            rc(vec[1], sc(sizes[1], On(2)))\r\n        ];\r\n        return {\r\n            sizes: sizes,\r\n            centers: centers\r\n        };\r\n    }\r\n\r\n    function decodeBoxesLayer(x0, x1) {\r\n        var _a = getCenterCoordinatesAndSizesLayer(x0),\r\n            sizes = _a.sizes,\r\n            centers = _a.centers;\r\n        var vec = Ur(Wl(x1, [1, 0]));\r\n        var div0_out = sc(gc(vu(sc(vec[2], On(5))), sizes[0]), On(2));\r\n        var add0_out = rc(gc(sc(vec[0], On(10)), sizes[0]), centers[0]);\r\n        var div1_out = sc(gc(vu(sc(vec[3], On(5))), sizes[1]), On(2));\r\n        var add1_out = rc(gc(sc(vec[1], On(10)), sizes[1]), centers[1]);\r\n        return Wl(Pr([\r\n            Cc(add0_out, div0_out),\r\n            Cc(add1_out, div1_out),\r\n            rc(add0_out, div0_out),\r\n            rc(add1_out, div1_out)\r\n        ]), [1, 0]);\r\n    }\r\n\r\n    function outputLayer(boxPredictions, classPredictions, params) {\r\n        return Ze(function() {\r\n            var batchSize = boxPredictions.shape[0];\r\n            var boxes = decodeBoxesLayer(Or(Lr(params.extra_dim, [batchSize, 1, 1]), [-1, 4]), Or(boxPredictions, [-1, 4]));\r\n            boxes = Or(boxes, [batchSize, (boxes.shape[0] / batchSize), 4]);\r\n            var scoresAndClasses = Iu(ml(classPredictions, [0, 0, 1], [-1, -1, -1]));\r\n            var scores = ml(scoresAndClasses, [0, 0, 0], [-1, -1, 1]);\r\n            scores = Or(scores, [batchSize, scores.shape[1]]);\r\n            var boxesByBatch = Ur(boxes);\r\n            var scoresByBatch = Ur(scores);\r\n            return {\r\n                boxes: boxesByBatch,\r\n                scores: scoresByBatch\r\n            };\r\n        });\r\n    }\r\n\r\n    function boxPredictionLayer(x, params) {\r\n        return Ze(function() {\r\n            var batchSize = x.shape[0];\r\n            var boxPredictionEncoding = Or(convLayer(x, params.box_encoding_predictor), [batchSize, -1, 1, 4]);\r\n            var classPrediction = Or(convLayer(x, params.class_predictor), [batchSize, -1, 3]);\r\n            return {\r\n                boxPredictionEncoding: boxPredictionEncoding,\r\n                classPrediction: classPrediction\r\n            };\r\n        });\r\n    }\r\n\r\n    function predictionLayer(x, conv11, params) {\r\n        return Ze(function() {\r\n            var conv0 = pointwiseConvLayer(x, params.conv_0, [1, 1]);\r\n            var conv1 = pointwiseConvLayer(conv0, params.conv_1, [2, 2]);\r\n            var conv2 = pointwiseConvLayer(conv1, params.conv_2, [1, 1]);\r\n            var conv3 = pointwiseConvLayer(conv2, params.conv_3, [2, 2]);\r\n            var conv4 = pointwiseConvLayer(conv3, params.conv_4, [1, 1]);\r\n            var conv5 = pointwiseConvLayer(conv4, params.conv_5, [2, 2]);\r\n            var conv6 = pointwiseConvLayer(conv5, params.conv_6, [1, 1]);\r\n            var conv7 = pointwiseConvLayer(conv6, params.conv_7, [2, 2]);\r\n            var boxPrediction0 = boxPredictionLayer(conv11, params.box_predictor_0);\r\n            var boxPrediction1 = boxPredictionLayer(x, params.box_predictor_1);\r\n            var boxPrediction2 = boxPredictionLayer(conv1, params.box_predictor_2);\r\n            var boxPrediction3 = boxPredictionLayer(conv3, params.box_predictor_3);\r\n            var boxPrediction4 = boxPredictionLayer(conv5, params.box_predictor_4);\r\n            var boxPrediction5 = boxPredictionLayer(conv7, params.box_predictor_5);\r\n            var boxPredictions = Yn([\r\n                boxPrediction0.boxPredictionEncoding,\r\n                boxPrediction1.boxPredictionEncoding,\r\n                boxPrediction2.boxPredictionEncoding,\r\n                boxPrediction3.boxPredictionEncoding,\r\n                boxPrediction4.boxPredictionEncoding,\r\n                boxPrediction5.boxPredictionEncoding\r\n            ], 1);\r\n            var classPredictions = Yn([\r\n                boxPrediction0.classPrediction,\r\n                boxPrediction1.classPrediction,\r\n                boxPrediction2.classPrediction,\r\n                boxPrediction3.classPrediction,\r\n                boxPrediction4.classPrediction,\r\n                boxPrediction5.classPrediction\r\n            ], 1);\r\n            return {\r\n                boxPredictions: boxPredictions,\r\n                classPredictions: classPredictions\r\n            };\r\n        });\r\n    }\r\n\r\n    var SsdMobilenetv1Options = /** @class */ (function() {\r\n        function SsdMobilenetv1Options(_a) {\r\n            var _b = _a === void 0 ? {} : _a,\r\n                minConfidence = _b.minConfidence,\r\n                maxResults = _b.maxResults;\r\n            this._name = 'SsdMobilenetv1Options';\r\n            this._minConfidence = minConfidence || 0.5;\r\n            this._maxResults = maxResults || 100;\r\n            if (typeof this._minConfidence !== 'number' || this._minConfidence <= 0 || this._minConfidence >= 1) {\r\n                throw new Error(this._name + \" - expected minConfidence to be a number between 0 and 1\");\r\n            }\r\n            if (typeof this._maxResults !== 'number') {\r\n                throw new Error(this._name + \" - expected maxResults to be a number\");\r\n            }\r\n        }\r\n        Object.defineProperty(SsdMobilenetv1Options.prototype, \"minConfidence\", {\r\n            get: function() { return this._minConfidence; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SsdMobilenetv1Options.prototype, \"maxResults\", {\r\n            get: function() { return this._maxResults; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return SsdMobilenetv1Options;\r\n    }());\r\n\r\n    var SsdMobilenetv1 = /** @class */ (function(_super) {\r\n        __extends(SsdMobilenetv1, _super);\r\n\r\n        function SsdMobilenetv1() {\r\n            return _super.call(this, 'SsdMobilenetv1') || this;\r\n        }\r\n        SsdMobilenetv1.prototype.forwardInput = function(input) {\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error('SsdMobilenetv1 - load model before inference');\r\n            }\r\n            return Ze(function() {\r\n                var batchTensor = input.toBatchTensor(512, false).toFloat();\r\n                var x = Cc(gc(batchTensor, On(0.007843137718737125)), On(1));\r\n                var features = mobileNetV1(x, params.mobilenetv1);\r\n                var _a = predictionLayer(features.out, features.conv11, params.prediction_layer),\r\n                    boxPredictions = _a.boxPredictions,\r\n                    classPredictions = _a.classPredictions;\r\n                return outputLayer(boxPredictions, classPredictions, params.output_layer);\r\n            });\r\n        };\r\n        SsdMobilenetv1.prototype.forward = function(input) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SsdMobilenetv1.prototype.locateFaces = function(input, options) {\r\n            if (options === void 0) { options = {}; }\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a, maxResults, minConfidence, netInput, _b, _boxes, _scores, boxes, scores, i, scoresData, _c, _d, iouThreshold, indices, reshapedDims, inputSize, padX, padY, boxesData, results;\r\n                return __generator(this, function(_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            _a = new SsdMobilenetv1Options(options), maxResults = _a.maxResults, minConfidence = _a.minConfidence;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            netInput = _e.sent();\r\n                            _b = this.forwardInput(netInput), _boxes = _b.boxes, _scores = _b.scores;\r\n                            boxes = _boxes[0];\r\n                            scores = _scores[0];\r\n                            for (i = 1; i < _boxes.length; i++) {\r\n                                _boxes[i].dispose();\r\n                                _scores[i].dispose();\r\n                            }\r\n                            _d = (_c = Array).from;\r\n                            return [4 /*yield*/ , scores.data()];\r\n                        case 2:\r\n                            scoresData = _d.apply(_c, [_e.sent()]);\r\n                            iouThreshold = 0.5;\r\n                            indices = nonMaxSuppression$1(boxes, scoresData, maxResults, iouThreshold, minConfidence);\r\n                            reshapedDims = netInput.getReshapedInputDimensions(0);\r\n                            inputSize = netInput.inputSize;\r\n                            padX = inputSize / reshapedDims.width;\r\n                            padY = inputSize / reshapedDims.height;\r\n                            boxesData = boxes.arraySync();\r\n                            results = indices\r\n                                .map(function(idx) {\r\n                                    var _a = [\r\n                                            Math.max(0, boxesData[idx][0]),\r\n                                            Math.min(1.0, boxesData[idx][2])\r\n                                        ].map(function(val) { return val * padY; }),\r\n                                        top = _a[0],\r\n                                        bottom = _a[1];\r\n                                    var _b = [\r\n                                            Math.max(0, boxesData[idx][1]),\r\n                                            Math.min(1.0, boxesData[idx][3])\r\n                                        ].map(function(val) { return val * padX; }),\r\n                                        left = _b[0],\r\n                                        right = _b[1];\r\n                                    return new FaceDetection(scoresData[idx], new Rect(left, top, right - left, bottom - top), {\r\n                                        height: netInput.getInputHeight(0),\r\n                                        width: netInput.getInputWidth(0)\r\n                                    });\r\n                                });\r\n                            boxes.dispose();\r\n                            scores.dispose();\r\n                            return [2 /*return*/ , results];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SsdMobilenetv1.prototype.getDefaultModelName = function() {\r\n            return 'ssd_mobilenetv1_model';\r\n        };\r\n        SsdMobilenetv1.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMap$5(weightMap);\r\n        };\r\n        SsdMobilenetv1.prototype.extractParams = function(weights) {\r\n            return extractParams$5(weights);\r\n        };\r\n        return SsdMobilenetv1;\r\n    }(NeuralNetwork));\r\n\r\n    function createSsdMobilenetv1(weights) {\r\n        var net = new SsdMobilenetv1();\r\n        net.extractWeights(weights);\r\n        return net;\r\n    }\r\n\r\n    function createFaceDetectionNet(weights) {\r\n        return createSsdMobilenetv1(weights);\r\n    }\r\n    // alias for backward compatibily\r\n    var FaceDetectionNet = /** @class */ (function(_super) {\r\n        __extends(FaceDetectionNet, _super);\r\n\r\n        function FaceDetectionNet() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        return FaceDetectionNet;\r\n    }(SsdMobilenetv1));\r\n\r\n    var IOU_THRESHOLD = 0.4;\r\n    var BOX_ANCHORS = [\r\n        new Point(0.738768, 0.874946),\r\n        new Point(2.42204, 2.65704),\r\n        new Point(4.30971, 7.04493),\r\n        new Point(10.246, 4.59428),\r\n        new Point(12.6868, 11.8741)\r\n    ];\r\n    var BOX_ANCHORS_SEPARABLE = [\r\n        new Point(1.603231, 2.094468),\r\n        new Point(6.041143, 7.080126),\r\n        new Point(2.882459, 3.518061),\r\n        new Point(4.266906, 5.178857),\r\n        new Point(9.041765, 10.66308)\r\n    ];\r\n    var MEAN_RGB_SEPARABLE = [117.001, 114.697, 97.404];\r\n    var DEFAULT_MODEL_NAME = 'tiny_yolov2_model';\r\n    var DEFAULT_MODEL_NAME_SEPARABLE_CONV = 'tiny_yolov2_separable_conv_model';\r\n\r\n    var isNumber = function(arg) { return typeof arg === 'number'; };\r\n\r\n    function validateConfig(config) {\r\n        if (!config) {\r\n            throw new Error(\"invalid config: \" + config);\r\n        }\r\n        if (typeof config.withSeparableConvs !== 'boolean') {\r\n            throw new Error(\"config.withSeparableConvs has to be a boolean, have: \" + config.withSeparableConvs);\r\n        }\r\n        if (!isNumber(config.iouThreshold) || config.iouThreshold < 0 || config.iouThreshold > 1.0) {\r\n            throw new Error(\"config.iouThreshold has to be a number between [0, 1], have: \" + config.iouThreshold);\r\n        }\r\n        if (!Array.isArray(config.classes) ||\r\n            !config.classes.length ||\r\n            !config.classes.every(function(c) { return typeof c === 'string'; })) {\r\n            throw new Error(\"config.classes has to be an array class names: string[], have: \" + JSON.stringify(config.classes));\r\n        }\r\n        if (!Array.isArray(config.anchors) ||\r\n            !config.anchors.length ||\r\n            !config.anchors.map(function(a) { return a || {}; }).every(function(a) { return isNumber(a.x) && isNumber(a.y); })) {\r\n            throw new Error(\"config.anchors has to be an array of { x: number, y: number }, have: \" + JSON.stringify(config.anchors));\r\n        }\r\n        if (config.meanRgb && (!Array.isArray(config.meanRgb) ||\r\n                config.meanRgb.length !== 3 ||\r\n                !config.meanRgb.every(isNumber))) {\r\n            throw new Error(\"config.meanRgb has to be an array of shape [number, number, number], have: \" + JSON.stringify(config.meanRgb));\r\n        }\r\n    }\r\n\r\n    function leaky(x) {\r\n        return Ze(function() {\r\n            var min = gc(x, On(0.10000000149011612));\r\n            return rc(Bl(Cc(x, min)), min);\r\n            //return tf.maximum(x, min)\r\n        });\r\n    }\r\n\r\n    function convWithBatchNorm(x, params) {\r\n        return Ze(function() {\r\n            var out = Ir(x, [\r\n                [0, 0],\r\n                [1, 1],\r\n                [1, 1],\r\n                [0, 0]\r\n            ]);\r\n            out = qc(out, params.conv.filters, [1, 1], 'valid');\r\n            out = Cc(out, params.bn.sub);\r\n            out = gc(out, params.bn.truediv);\r\n            out = rc(out, params.conv.bias);\r\n            return leaky(out);\r\n        });\r\n    }\r\n\r\n    function depthwiseSeparableConv$1(x, params) {\r\n        return Ze(function() {\r\n            var out = Ir(x, [\r\n                [0, 0],\r\n                [1, 1],\r\n                [1, 1],\r\n                [0, 0]\r\n            ]);\r\n            out = Jc(out, params.depthwise_filter, params.pointwise_filter, [1, 1], 'valid');\r\n            out = rc(out, params.bias);\r\n            return leaky(out);\r\n        });\r\n    }\r\n\r\n    function extractorsFactory$6(extractWeights, paramMappings) {\r\n        var extractConvParams = extractConvParamsFactory(extractWeights, paramMappings);\r\n\r\n        function extractBatchNormParams(size, mappedPrefix) {\r\n            var sub = Mn(extractWeights(size));\r\n            var truediv = Mn(extractWeights(size));\r\n            paramMappings.push({ paramPath: mappedPrefix + \"/sub\" }, { paramPath: mappedPrefix + \"/truediv\" });\r\n            return { sub: sub, truediv: truediv };\r\n        }\r\n\r\n        function extractConvWithBatchNormParams(channelsIn, channelsOut, mappedPrefix) {\r\n            var conv = extractConvParams(channelsIn, channelsOut, 3, mappedPrefix + \"/conv\");\r\n            var bn = extractBatchNormParams(channelsOut, mappedPrefix + \"/bn\");\r\n            return { conv: conv, bn: bn };\r\n        }\r\n        var extractSeparableConvParams = extractSeparableConvParamsFactory(extractWeights, paramMappings);\r\n        return {\r\n            extractConvParams: extractConvParams,\r\n            extractConvWithBatchNormParams: extractConvWithBatchNormParams,\r\n            extractSeparableConvParams: extractSeparableConvParams\r\n        };\r\n    }\r\n\r\n    function extractParams$6(weights, config, boxEncodingSize, filterSizes) {\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var paramMappings = [];\r\n        var _b = extractorsFactory$6(extractWeights, paramMappings),\r\n            extractConvParams = _b.extractConvParams,\r\n            extractConvWithBatchNormParams = _b.extractConvWithBatchNormParams,\r\n            extractSeparableConvParams = _b.extractSeparableConvParams;\r\n        var params;\r\n        if (config.withSeparableConvs) {\r\n            var s0 = filterSizes[0],\r\n                s1 = filterSizes[1],\r\n                s2 = filterSizes[2],\r\n                s3 = filterSizes[3],\r\n                s4 = filterSizes[4],\r\n                s5 = filterSizes[5],\r\n                s6 = filterSizes[6],\r\n                s7 = filterSizes[7],\r\n                s8 = filterSizes[8];\r\n            var conv0 = config.isFirstLayerConv2d ?\r\n                extractConvParams(s0, s1, 3, 'conv0') :\r\n                extractSeparableConvParams(s0, s1, 'conv0');\r\n            var conv1 = extractSeparableConvParams(s1, s2, 'conv1');\r\n            var conv2 = extractSeparableConvParams(s2, s3, 'conv2');\r\n            var conv3 = extractSeparableConvParams(s3, s4, 'conv3');\r\n            var conv4 = extractSeparableConvParams(s4, s5, 'conv4');\r\n            var conv5 = extractSeparableConvParams(s5, s6, 'conv5');\r\n            var conv6 = s7 ? extractSeparableConvParams(s6, s7, 'conv6') : undefined;\r\n            var conv7 = s8 ? extractSeparableConvParams(s7, s8, 'conv7') : undefined;\r\n            var conv8 = extractConvParams(s8 || s7 || s6, 5 * boxEncodingSize, 1, 'conv8');\r\n            params = { conv0: conv0, conv1: conv1, conv2: conv2, conv3: conv3, conv4: conv4, conv5: conv5, conv6: conv6, conv7: conv7, conv8: conv8 };\r\n        } else {\r\n            var s0 = filterSizes[0],\r\n                s1 = filterSizes[1],\r\n                s2 = filterSizes[2],\r\n                s3 = filterSizes[3],\r\n                s4 = filterSizes[4],\r\n                s5 = filterSizes[5],\r\n                s6 = filterSizes[6],\r\n                s7 = filterSizes[7],\r\n                s8 = filterSizes[8];\r\n            var conv0 = extractConvWithBatchNormParams(s0, s1, 'conv0');\r\n            var conv1 = extractConvWithBatchNormParams(s1, s2, 'conv1');\r\n            var conv2 = extractConvWithBatchNormParams(s2, s3, 'conv2');\r\n            var conv3 = extractConvWithBatchNormParams(s3, s4, 'conv3');\r\n            var conv4 = extractConvWithBatchNormParams(s4, s5, 'conv4');\r\n            var conv5 = extractConvWithBatchNormParams(s5, s6, 'conv5');\r\n            var conv6 = extractConvWithBatchNormParams(s6, s7, 'conv6');\r\n            var conv7 = extractConvWithBatchNormParams(s7, s8, 'conv7');\r\n            var conv8 = extractConvParams(s8, 5 * boxEncodingSize, 1, 'conv8');\r\n            params = { conv0: conv0, conv1: conv1, conv2: conv2, conv3: conv3, conv4: conv4, conv5: conv5, conv6: conv6, conv7: conv7, conv8: conv8 };\r\n        }\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    function extractorsFactory$7(weightMap, paramMappings) {\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n\r\n        function extractBatchNormParams(prefix) {\r\n            var sub = extractWeightEntry(prefix + \"/sub\", 1);\r\n            var truediv = extractWeightEntry(prefix + \"/truediv\", 1);\r\n            return { sub: sub, truediv: truediv };\r\n        }\r\n\r\n        function extractConvParams(prefix) {\r\n            var filters = extractWeightEntry(prefix + \"/filters\", 4);\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return { filters: filters, bias: bias };\r\n        }\r\n\r\n        function extractConvWithBatchNormParams(prefix) {\r\n            var conv = extractConvParams(prefix + \"/conv\");\r\n            var bn = extractBatchNormParams(prefix + \"/bn\");\r\n            return { conv: conv, bn: bn };\r\n        }\r\n        var extractSeparableConvParams = loadSeparableConvParamsFactory(extractWeightEntry);\r\n        return {\r\n            extractConvParams: extractConvParams,\r\n            extractConvWithBatchNormParams: extractConvWithBatchNormParams,\r\n            extractSeparableConvParams: extractSeparableConvParams\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$6(weightMap, config) {\r\n        var paramMappings = [];\r\n        var _a = extractorsFactory$7(weightMap, paramMappings),\r\n            extractConvParams = _a.extractConvParams,\r\n            extractConvWithBatchNormParams = _a.extractConvWithBatchNormParams,\r\n            extractSeparableConvParams = _a.extractSeparableConvParams;\r\n        var params;\r\n        if (config.withSeparableConvs) {\r\n            var numFilters = (config.filterSizes && config.filterSizes.length || 9);\r\n            params = {\r\n                conv0: config.isFirstLayerConv2d ? extractConvParams('conv0') : extractSeparableConvParams('conv0'),\r\n                conv1: extractSeparableConvParams('conv1'),\r\n                conv2: extractSeparableConvParams('conv2'),\r\n                conv3: extractSeparableConvParams('conv3'),\r\n                conv4: extractSeparableConvParams('conv4'),\r\n                conv5: extractSeparableConvParams('conv5'),\r\n                conv6: numFilters > 7 ? extractSeparableConvParams('conv6') : undefined,\r\n                conv7: numFilters > 8 ? extractSeparableConvParams('conv7') : undefined,\r\n                conv8: extractConvParams('conv8')\r\n            };\r\n        } else {\r\n            params = {\r\n                conv0: extractConvWithBatchNormParams('conv0'),\r\n                conv1: extractConvWithBatchNormParams('conv1'),\r\n                conv2: extractConvWithBatchNormParams('conv2'),\r\n                conv3: extractConvWithBatchNormParams('conv3'),\r\n                conv4: extractConvWithBatchNormParams('conv4'),\r\n                conv5: extractConvWithBatchNormParams('conv5'),\r\n                conv6: extractConvWithBatchNormParams('conv6'),\r\n                conv7: extractConvWithBatchNormParams('conv7'),\r\n                conv8: extractConvParams('conv8')\r\n            };\r\n        }\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: params, paramMappings: paramMappings };\r\n    }\r\n\r\n    (function(TinyYolov2SizeType) {\r\n        TinyYolov2SizeType[TinyYolov2SizeType[\"XS\"] = 224] = \"XS\";\r\n        TinyYolov2SizeType[TinyYolov2SizeType[\"SM\"] = 320] = \"SM\";\r\n        TinyYolov2SizeType[TinyYolov2SizeType[\"MD\"] = 416] = \"MD\";\r\n        TinyYolov2SizeType[TinyYolov2SizeType[\"LG\"] = 608] = \"LG\";\r\n    })(exports.TinyYolov2SizeType || (exports.TinyYolov2SizeType = {}));\r\n    var TinyYolov2Options = /** @class */ (function() {\r\n        function TinyYolov2Options(_a) {\r\n            var _b = _a === void 0 ? {} : _a,\r\n                inputSize = _b.inputSize,\r\n                scoreThreshold = _b.scoreThreshold;\r\n            this._name = 'TinyYolov2Options';\r\n            this._inputSize = inputSize || 416;\r\n            this._scoreThreshold = scoreThreshold || 0.5;\r\n            if (typeof this._inputSize !== 'number' || this._inputSize % 32 !== 0) {\r\n                throw new Error(this._name + \" - expected inputSize to be a number divisible by 32\");\r\n            }\r\n            if (typeof this._scoreThreshold !== 'number' || this._scoreThreshold <= 0 || this._scoreThreshold >= 1) {\r\n                throw new Error(this._name + \" - expected scoreThreshold to be a number between 0 and 1\");\r\n            }\r\n        }\r\n        Object.defineProperty(TinyYolov2Options.prototype, \"inputSize\", {\r\n            get: function() { return this._inputSize; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TinyYolov2Options.prototype, \"scoreThreshold\", {\r\n            get: function() { return this._scoreThreshold; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return TinyYolov2Options;\r\n    }());\r\n\r\n    var TinyYolov2Base = /** @class */ (function(_super) {\r\n        __extends(TinyYolov2Base, _super);\r\n\r\n        function TinyYolov2Base(config) {\r\n            var _this = _super.call(this, 'TinyYolov2') || this;\r\n            validateConfig(config);\r\n            _this._config = config;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(TinyYolov2Base.prototype, \"config\", {\r\n            get: function() {\r\n                return this._config;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TinyYolov2Base.prototype, \"withClassScores\", {\r\n            get: function() {\r\n                return this.config.withClassScores || this.config.classes.length > 1;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TinyYolov2Base.prototype, \"boxEncodingSize\", {\r\n            get: function() {\r\n                return 5 + (this.withClassScores ? this.config.classes.length : 0);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TinyYolov2Base.prototype.runTinyYolov2 = function(x, params) {\r\n            var out = convWithBatchNorm(x, params.conv0);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = convWithBatchNorm(out, params.conv1);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = convWithBatchNorm(out, params.conv2);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = convWithBatchNorm(out, params.conv3);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = convWithBatchNorm(out, params.conv4);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = convWithBatchNorm(out, params.conv5);\r\n            out = hl(out, [2, 2], [1, 1], 'same');\r\n            out = convWithBatchNorm(out, params.conv6);\r\n            out = convWithBatchNorm(out, params.conv7);\r\n            return convLayer(out, params.conv8, 'valid', false);\r\n        };\r\n        TinyYolov2Base.prototype.runMobilenet = function(x, params) {\r\n            var out = this.config.isFirstLayerConv2d ?\r\n                leaky(convLayer(x, params.conv0, 'valid', false)) :\r\n                depthwiseSeparableConv$1(x, params.conv0);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = depthwiseSeparableConv$1(out, params.conv1);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = depthwiseSeparableConv$1(out, params.conv2);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = depthwiseSeparableConv$1(out, params.conv3);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = depthwiseSeparableConv$1(out, params.conv4);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = depthwiseSeparableConv$1(out, params.conv5);\r\n            out = hl(out, [2, 2], [1, 1], 'same');\r\n            out = params.conv6 ? depthwiseSeparableConv$1(out, params.conv6) : out;\r\n            out = params.conv7 ? depthwiseSeparableConv$1(out, params.conv7) : out;\r\n            return convLayer(out, params.conv8, 'valid', false);\r\n        };\r\n        TinyYolov2Base.prototype.forwardInput = function(input, inputSize) {\r\n            var _this = this;\r\n            var params = this.params;\r\n            if (!params) {\r\n                throw new Error('TinyYolov2 - load model before inference');\r\n            }\r\n            return Ze(function() {\r\n                var batchTensor = input.toBatchTensor(inputSize, false).toFloat();\r\n                batchTensor = _this.config.meanRgb ?\r\n                    normalize(batchTensor, _this.config.meanRgb) :\r\n                    batchTensor;\r\n                batchTensor = batchTensor.div(On(256));\r\n                return _this.config.withSeparableConvs ?\r\n                    _this.runMobilenet(batchTensor, params) :\r\n                    _this.runTinyYolov2(batchTensor, params);\r\n            });\r\n        };\r\n        TinyYolov2Base.prototype.forward = function(input, inputSize) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [4 /*yield*/ , _a.apply(this, [_b.sent(), inputSize])];\r\n                        case 2:\r\n                            return [2 /*return*/ , _b.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyYolov2Base.prototype.detect = function(input, forwardParams) {\r\n            if (forwardParams === void 0) { forwardParams = {}; }\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a, inputSize, scoreThreshold, netInput, out, out0, inputDimensions, results, boxes, scores, classScores, classNames, indices, detections;\r\n                var _this = this;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = new TinyYolov2Options(forwardParams), inputSize = _a.inputSize, scoreThreshold = _a.scoreThreshold;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            netInput = _b.sent();\r\n                            return [4 /*yield*/ , this.forwardInput(netInput, inputSize)];\r\n                        case 2:\r\n                            out = _b.sent();\r\n                            out0 = Ze(function() { return Ur(out)[0].expandDims(); });\r\n                            inputDimensions = {\r\n                                width: netInput.getInputWidth(0),\r\n                                height: netInput.getInputHeight(0)\r\n                            };\r\n                            return [4 /*yield*/ , this.extractBoxes(out0, netInput.getReshapedInputDimensions(0), scoreThreshold)];\r\n                        case 3:\r\n                            results = _b.sent();\r\n                            out.dispose();\r\n                            out0.dispose();\r\n                            boxes = results.map(function(res) { return res.box; });\r\n                            scores = results.map(function(res) { return res.score; });\r\n                            classScores = results.map(function(res) { return res.classScore; });\r\n                            classNames = results.map(function(res) { return _this.config.classes[res.label]; });\r\n                            indices = nonMaxSuppression(boxes.map(function(box) { return box.rescale(inputSize); }), scores, this.config.iouThreshold, true);\r\n                            detections = indices.map(function(idx) {\r\n                                return new ObjectDetection(scores[idx], classScores[idx], classNames[idx], boxes[idx], inputDimensions);\r\n                            });\r\n                            return [2 /*return*/ , detections];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyYolov2Base.prototype.getDefaultModelName = function() {\r\n            return '';\r\n        };\r\n        TinyYolov2Base.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMap$6(weightMap, this.config);\r\n        };\r\n        TinyYolov2Base.prototype.extractParams = function(weights) {\r\n            var filterSizes = this.config.filterSizes || TinyYolov2Base.DEFAULT_FILTER_SIZES;\r\n            var numFilters = filterSizes ? filterSizes.length : undefined;\r\n            if (numFilters !== 7 && numFilters !== 8 && numFilters !== 9) {\r\n                throw new Error(\"TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found \" + numFilters + \" filterSizes in config\");\r\n            }\r\n            return extractParams$6(weights, this.config, this.boxEncodingSize, filterSizes);\r\n        };\r\n        TinyYolov2Base.prototype.extractBoxes = function(outputTensor, inputBlobDimensions, scoreThreshold) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var width, height, inputSize, correctionFactorX, correctionFactorY, numCells, numBoxes, _a, boxesTensor, scoresTensor, classScoresTensor, results, scoresData, boxesData, row, col, anchor, score, ctX, ctY, width_1, height_1, x, y, pos, _b, classScore, label, _c;\r\n                var _this = this;\r\n                return __generator(this, function(_d) {\r\n                    switch (_d.label) {\r\n                        case 0:\r\n                            width = inputBlobDimensions.width, height = inputBlobDimensions.height;\r\n                            inputSize = Math.max(width, height);\r\n                            correctionFactorX = inputSize / width;\r\n                            correctionFactorY = inputSize / height;\r\n                            numCells = outputTensor.shape[1];\r\n                            numBoxes = this.config.anchors.length;\r\n                            _a = Ze(function() {\r\n                                var reshaped = outputTensor.reshape([numCells, numCells, numBoxes, _this.boxEncodingSize]);\r\n                                var boxes = reshaped.slice([0, 0, 0, 0], [numCells, numCells, numBoxes, 4]);\r\n                                var scores = reshaped.slice([0, 0, 0, 4], [numCells, numCells, numBoxes, 1]);\r\n                                var classScores = _this.withClassScores ?\r\n                                    go(reshaped.slice([0, 0, 0, 5], [numCells, numCells, numBoxes, _this.config.classes.length]), 3) :\r\n                                    On(0);\r\n                                return [boxes, scores, classScores];\r\n                            }), boxesTensor = _a[0], scoresTensor = _a[1], classScoresTensor = _a[2];\r\n                            results = [];\r\n                            return [4 /*yield*/ , scoresTensor.array()];\r\n                        case 1:\r\n                            scoresData = _d.sent();\r\n                            return [4 /*yield*/ , boxesTensor.array()];\r\n                        case 2:\r\n                            boxesData = _d.sent();\r\n                            row = 0;\r\n                            _d.label = 3;\r\n                        case 3:\r\n                            if (!(row < numCells)) return [3 /*break*/ , 12];\r\n                            col = 0;\r\n                            _d.label = 4;\r\n                        case 4:\r\n                            if (!(col < numCells)) return [3 /*break*/ , 11];\r\n                            anchor = 0;\r\n                            _d.label = 5;\r\n                        case 5:\r\n                            if (!(anchor < numBoxes)) return [3 /*break*/ , 10];\r\n                            score = sigmoid(scoresData[row][col][anchor][0]);\r\n                            if (!(!scoreThreshold || score > scoreThreshold)) return [3 /*break*/ , 9];\r\n                            ctX = ((col + sigmoid(boxesData[row][col][anchor][0])) / numCells) * correctionFactorX;\r\n                            ctY = ((row + sigmoid(boxesData[row][col][anchor][1])) / numCells) * correctionFactorY;\r\n                            width_1 = ((Math.exp(boxesData[row][col][anchor][2]) * this.config.anchors[anchor].x) / numCells) * correctionFactorX;\r\n                            height_1 = ((Math.exp(boxesData[row][col][anchor][3]) * this.config.anchors[anchor].y) / numCells) * correctionFactorY;\r\n                            x = (ctX - (width_1 / 2));\r\n                            y = (ctY - (height_1 / 2));\r\n                            pos = { row: row, col: col, anchor: anchor };\r\n                            if (!this.withClassScores) return [3 /*break*/ , 7];\r\n                            return [4 /*yield*/ , this.extractPredictedClass(classScoresTensor, pos)];\r\n                        case 6:\r\n                            _c = _d.sent();\r\n                            return [3 /*break*/ , 8];\r\n                        case 7:\r\n                            _c = { classScore: 1, label: 0 };\r\n                            _d.label = 8;\r\n                        case 8:\r\n                            _b = _c, classScore = _b.classScore, label = _b.label;\r\n                            results.push(__assign({ box: new BoundingBox(x, y, x + width_1, y + height_1), score: score, classScore: score * classScore, label: label }, pos));\r\n                            _d.label = 9;\r\n                        case 9:\r\n                            anchor++;\r\n                            return [3 /*break*/ , 5];\r\n                        case 10:\r\n                            col++;\r\n                            return [3 /*break*/ , 4];\r\n                        case 11:\r\n                            row++;\r\n                            return [3 /*break*/ , 3];\r\n                        case 12:\r\n                            boxesTensor.dispose();\r\n                            scoresTensor.dispose();\r\n                            classScoresTensor.dispose();\r\n                            return [2 /*return*/ , results];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyYolov2Base.prototype.extractPredictedClass = function(classesTensor, pos) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var row, col, anchor, classesData;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            row = pos.row, col = pos.col, anchor = pos.anchor;\r\n                            return [4 /*yield*/ , classesTensor.array()];\r\n                        case 1:\r\n                            classesData = _a.sent();\r\n                            return [2 /*return*/ , Array(this.config.classes.length).fill(0)\r\n                                .map(function(_, i) { return classesData[row][col][anchor][i]; })\r\n                                .map(function(classScore, label) {\r\n                                    return ({\r\n                                        classScore: classScore,\r\n                                        label: label\r\n                                    });\r\n                                })\r\n                                .reduce(function(max, curr) { return max.classScore > curr.classScore ? max : curr; })\r\n                            ];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyYolov2Base.DEFAULT_FILTER_SIZES = [\r\n            3, 16, 32, 64, 128, 256, 512, 1024, 1024\r\n        ];\r\n        return TinyYolov2Base;\r\n    }(NeuralNetwork));\r\n\r\n    var TinyYolov2 = /** @class */ (function(_super) {\r\n        __extends(TinyYolov2, _super);\r\n\r\n        function TinyYolov2(withSeparableConvs) {\r\n            if (withSeparableConvs === void 0) { withSeparableConvs = true; }\r\n            var _this = this;\r\n            var config = Object.assign({}, {\r\n                withSeparableConvs: withSeparableConvs,\r\n                iouThreshold: IOU_THRESHOLD,\r\n                classes: ['face']\r\n            }, withSeparableConvs ? {\r\n                anchors: BOX_ANCHORS_SEPARABLE,\r\n                meanRgb: MEAN_RGB_SEPARABLE\r\n            } : {\r\n                anchors: BOX_ANCHORS,\r\n                withClassScores: true\r\n            });\r\n            _this = _super.call(this, config) || this;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(TinyYolov2.prototype, \"withSeparableConvs\", {\r\n            get: function() {\r\n                return this.config.withSeparableConvs;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TinyYolov2.prototype, \"anchors\", {\r\n            get: function() {\r\n                return this.config.anchors;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TinyYolov2.prototype.locateFaces = function(input, forwardParams) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var objectDetections;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.detect(input, forwardParams)];\r\n                        case 1:\r\n                            objectDetections = _a.sent();\r\n                            return [2 /*return*/ , objectDetections.map(function(det) { return new FaceDetection(det.score, det.relativeBox, { width: det.imageWidth, height: det.imageHeight }); })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyYolov2.prototype.getDefaultModelName = function() {\r\n            return this.withSeparableConvs ? DEFAULT_MODEL_NAME_SEPARABLE_CONV : DEFAULT_MODEL_NAME;\r\n        };\r\n        TinyYolov2.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return _super.prototype.extractParamsFromWeigthMap.call(this, weightMap);\r\n        };\r\n        return TinyYolov2;\r\n    }(TinyYolov2Base));\r\n\r\n    function createTinyYolov2(weights, withSeparableConvs) {\r\n        if (withSeparableConvs === void 0) { withSeparableConvs = true; }\r\n        var net = new TinyYolov2(withSeparableConvs);\r\n        net.extractWeights(weights);\r\n        return net;\r\n    }\r\n\r\n    var TinyFaceDetectorOptions = /** @class */ (function(_super) {\r\n        __extends(TinyFaceDetectorOptions, _super);\r\n\r\n        function TinyFaceDetectorOptions() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this._name = 'TinyFaceDetectorOptions';\r\n            return _this;\r\n        }\r\n        return TinyFaceDetectorOptions;\r\n    }(TinyYolov2Options));\r\n\r\n    var ComposableTask = /** @class */ (function() {\r\n        function ComposableTask() {}\r\n        ComposableTask.prototype.then = function(onfulfilled) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = onfulfilled;\r\n                            return [4 /*yield*/ , this.run()];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(void 0, [_b.sent()])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ComposableTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                return __generator(this, function(_a) {\r\n                    throw new Error('ComposableTask - run is not implemented');\r\n                });\r\n            });\r\n        };\r\n        return ComposableTask;\r\n    }());\r\n\r\n    function extractAllFacesAndComputeResults(parentResults, input, computeResults, extractedFaces, getRectForAlignment) {\r\n        if (getRectForAlignment === void 0) {\r\n            getRectForAlignment = function(_a) {\r\n                var alignedRect = _a.alignedRect;\r\n                return alignedRect;\r\n            };\r\n        }\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var faceBoxes, faces, _a, _b, results;\r\n            return __generator(this, function(_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        faceBoxes = parentResults.map(function(parentResult) {\r\n                            return isWithFaceLandmarks(parentResult) ?\r\n                                getRectForAlignment(parentResult) :\r\n                                parentResult.detection;\r\n                        });\r\n                        _a = extractedFaces;\r\n                        if (_a) return [3 /*break*/ , 5];\r\n                        if (!(input instanceof wt)) return [3 /*break*/ , 2];\r\n                        return [4 /*yield*/ , extractFaceTensors(input, faceBoxes)];\r\n                    case 1:\r\n                        _b = _c.sent();\r\n                        return [3 /*break*/ , 4];\r\n                    case 2:\r\n                        return [4 /*yield*/ , extractFaces(input, faceBoxes)];\r\n                    case 3:\r\n                        _b = _c.sent();\r\n                        _c.label = 4;\r\n                    case 4:\r\n                        _a = (_b);\r\n                        _c.label = 5;\r\n                    case 5:\r\n                        faces = _a;\r\n                        return [4 /*yield*/ , computeResults(faces)];\r\n                    case 6:\r\n                        results = _c.sent();\r\n                        faces.forEach(function(f) { return f instanceof wt && f.dispose(); });\r\n                        return [2 /*return*/ , results];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function extractSingleFaceAndComputeResult(parentResult, input, computeResult, extractedFaces, getRectForAlignment) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var _this = this;\r\n            return __generator(this, function(_a) {\r\n                return [2 /*return*/ , extractAllFacesAndComputeResults([parentResult], input, function(faces) {\r\n                    return __awaiter(_this, void 0, void 0, function() {\r\n                        return __generator(this, function(_a) {\r\n                            return [2 /*return*/ , computeResult(faces[0])];\r\n                        });\r\n                    });\r\n                }, extractedFaces, getRectForAlignment)];\r\n            });\r\n        });\r\n    }\r\n\r\n    function bgrToRgbTensor(tensor) {\r\n        return Ze(function() { return Pr(Ur(tensor, 3).reverse(), 3); });\r\n    }\r\n\r\n    var CELL_STRIDE = 2;\r\n    var CELL_SIZE = 12;\r\n\r\n    function extractorsFactory$8(extractWeights, paramMappings) {\r\n        var extractConvParams = extractConvParamsFactory(extractWeights, paramMappings);\r\n        var extractFCParams = extractFCParamsFactory(extractWeights, paramMappings);\r\n\r\n        function extractPReluParams(size, paramPath) {\r\n            var alpha = Mn(extractWeights(size));\r\n            paramMappings.push({ paramPath: paramPath });\r\n            return alpha;\r\n        }\r\n\r\n        function extractSharedParams(numFilters, mappedPrefix, isRnet) {\r\n            if (isRnet === void 0) { isRnet = false; }\r\n            var conv1 = extractConvParams(numFilters[0], numFilters[1], 3, mappedPrefix + \"/conv1\");\r\n            var prelu1_alpha = extractPReluParams(numFilters[1], mappedPrefix + \"/prelu1_alpha\");\r\n            var conv2 = extractConvParams(numFilters[1], numFilters[2], 3, mappedPrefix + \"/conv2\");\r\n            var prelu2_alpha = extractPReluParams(numFilters[2], mappedPrefix + \"/prelu2_alpha\");\r\n            var conv3 = extractConvParams(numFilters[2], numFilters[3], isRnet ? 2 : 3, mappedPrefix + \"/conv3\");\r\n            var prelu3_alpha = extractPReluParams(numFilters[3], mappedPrefix + \"/prelu3_alpha\");\r\n            return { conv1: conv1, prelu1_alpha: prelu1_alpha, conv2: conv2, prelu2_alpha: prelu2_alpha, conv3: conv3, prelu3_alpha: prelu3_alpha };\r\n        }\r\n\r\n        function extractPNetParams() {\r\n            var sharedParams = extractSharedParams([3, 10, 16, 32], 'pnet');\r\n            var conv4_1 = extractConvParams(32, 2, 1, 'pnet/conv4_1');\r\n            var conv4_2 = extractConvParams(32, 4, 1, 'pnet/conv4_2');\r\n            return __assign(__assign({}, sharedParams), { conv4_1: conv4_1, conv4_2: conv4_2 });\r\n        }\r\n\r\n        function extractRNetParams() {\r\n            var sharedParams = extractSharedParams([3, 28, 48, 64], 'rnet', true);\r\n            var fc1 = extractFCParams(576, 128, 'rnet/fc1');\r\n            var prelu4_alpha = extractPReluParams(128, 'rnet/prelu4_alpha');\r\n            var fc2_1 = extractFCParams(128, 2, 'rnet/fc2_1');\r\n            var fc2_2 = extractFCParams(128, 4, 'rnet/fc2_2');\r\n            return __assign(__assign({}, sharedParams), { fc1: fc1, prelu4_alpha: prelu4_alpha, fc2_1: fc2_1, fc2_2: fc2_2 });\r\n        }\r\n\r\n        function extractONetParams() {\r\n            var sharedParams = extractSharedParams([3, 32, 64, 64], 'onet');\r\n            var conv4 = extractConvParams(64, 128, 2, 'onet/conv4');\r\n            var prelu4_alpha = extractPReluParams(128, 'onet/prelu4_alpha');\r\n            var fc1 = extractFCParams(1152, 256, 'onet/fc1');\r\n            var prelu5_alpha = extractPReluParams(256, 'onet/prelu5_alpha');\r\n            var fc2_1 = extractFCParams(256, 2, 'onet/fc2_1');\r\n            var fc2_2 = extractFCParams(256, 4, 'onet/fc2_2');\r\n            var fc2_3 = extractFCParams(256, 10, 'onet/fc2_3');\r\n            return __assign(__assign({}, sharedParams), { conv4: conv4, prelu4_alpha: prelu4_alpha, fc1: fc1, prelu5_alpha: prelu5_alpha, fc2_1: fc2_1, fc2_2: fc2_2, fc2_3: fc2_3 });\r\n        }\r\n        return {\r\n            extractPNetParams: extractPNetParams,\r\n            extractRNetParams: extractRNetParams,\r\n            extractONetParams: extractONetParams\r\n        };\r\n    }\r\n\r\n    function extractParams$7(weights) {\r\n        var _a = extractWeightsFactory(weights),\r\n            extractWeights = _a.extractWeights,\r\n            getRemainingWeights = _a.getRemainingWeights;\r\n        var paramMappings = [];\r\n        var _b = extractorsFactory$8(extractWeights, paramMappings),\r\n            extractPNetParams = _b.extractPNetParams,\r\n            extractRNetParams = _b.extractRNetParams,\r\n            extractONetParams = _b.extractONetParams;\r\n        var pnet = extractPNetParams();\r\n        var rnet = extractRNetParams();\r\n        var onet = extractONetParams();\r\n        if (getRemainingWeights().length !== 0) {\r\n            throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\r\n        }\r\n        return { params: { pnet: pnet, rnet: rnet, onet: onet }, paramMappings: paramMappings };\r\n    }\r\n\r\n    function extractorsFactory$9(weightMap, paramMappings) {\r\n        var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n\r\n        function extractConvParams(prefix) {\r\n            var filters = extractWeightEntry(prefix + \"/weights\", 4, prefix + \"/filters\");\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return { filters: filters, bias: bias };\r\n        }\r\n\r\n        function extractFCParams(prefix) {\r\n            var weights = extractWeightEntry(prefix + \"/weights\", 2);\r\n            var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n            return { weights: weights, bias: bias };\r\n        }\r\n\r\n        function extractPReluParams(paramPath) {\r\n            return extractWeightEntry(paramPath, 1);\r\n        }\r\n\r\n        function extractSharedParams(prefix) {\r\n            var conv1 = extractConvParams(prefix + \"/conv1\");\r\n            var prelu1_alpha = extractPReluParams(prefix + \"/prelu1_alpha\");\r\n            var conv2 = extractConvParams(prefix + \"/conv2\");\r\n            var prelu2_alpha = extractPReluParams(prefix + \"/prelu2_alpha\");\r\n            var conv3 = extractConvParams(prefix + \"/conv3\");\r\n            var prelu3_alpha = extractPReluParams(prefix + \"/prelu3_alpha\");\r\n            return { conv1: conv1, prelu1_alpha: prelu1_alpha, conv2: conv2, prelu2_alpha: prelu2_alpha, conv3: conv3, prelu3_alpha: prelu3_alpha };\r\n        }\r\n\r\n        function extractPNetParams() {\r\n            var sharedParams = extractSharedParams('pnet');\r\n            var conv4_1 = extractConvParams('pnet/conv4_1');\r\n            var conv4_2 = extractConvParams('pnet/conv4_2');\r\n            return __assign(__assign({}, sharedParams), { conv4_1: conv4_1, conv4_2: conv4_2 });\r\n        }\r\n\r\n        function extractRNetParams() {\r\n            var sharedParams = extractSharedParams('rnet');\r\n            var fc1 = extractFCParams('rnet/fc1');\r\n            var prelu4_alpha = extractPReluParams('rnet/prelu4_alpha');\r\n            var fc2_1 = extractFCParams('rnet/fc2_1');\r\n            var fc2_2 = extractFCParams('rnet/fc2_2');\r\n            return __assign(__assign({}, sharedParams), { fc1: fc1, prelu4_alpha: prelu4_alpha, fc2_1: fc2_1, fc2_2: fc2_2 });\r\n        }\r\n\r\n        function extractONetParams() {\r\n            var sharedParams = extractSharedParams('onet');\r\n            var conv4 = extractConvParams('onet/conv4');\r\n            var prelu4_alpha = extractPReluParams('onet/prelu4_alpha');\r\n            var fc1 = extractFCParams('onet/fc1');\r\n            var prelu5_alpha = extractPReluParams('onet/prelu5_alpha');\r\n            var fc2_1 = extractFCParams('onet/fc2_1');\r\n            var fc2_2 = extractFCParams('onet/fc2_2');\r\n            var fc2_3 = extractFCParams('onet/fc2_3');\r\n            return __assign(__assign({}, sharedParams), { conv4: conv4, prelu4_alpha: prelu4_alpha, fc1: fc1, prelu5_alpha: prelu5_alpha, fc2_1: fc2_1, fc2_2: fc2_2, fc2_3: fc2_3 });\r\n        }\r\n        return {\r\n            extractPNetParams: extractPNetParams,\r\n            extractRNetParams: extractRNetParams,\r\n            extractONetParams: extractONetParams\r\n        };\r\n    }\r\n\r\n    function extractParamsFromWeigthMap$7(weightMap) {\r\n        var paramMappings = [];\r\n        var _a = extractorsFactory$9(weightMap, paramMappings),\r\n            extractPNetParams = _a.extractPNetParams,\r\n            extractRNetParams = _a.extractRNetParams,\r\n            extractONetParams = _a.extractONetParams;\r\n        var pnet = extractPNetParams();\r\n        var rnet = extractRNetParams();\r\n        var onet = extractONetParams();\r\n        disposeUnusedWeightTensors(weightMap, paramMappings);\r\n        return { params: { pnet: pnet, rnet: rnet, onet: onet }, paramMappings: paramMappings };\r\n    }\r\n\r\n    function getSizesForScale(scale, _a) {\r\n        var height = _a[0],\r\n            width = _a[1];\r\n        return {\r\n            height: Math.floor(height * scale),\r\n            width: Math.floor(width * scale)\r\n        };\r\n    }\r\n\r\n    function pyramidDown(minFaceSize, scaleFactor, dims) {\r\n        var height = dims[0],\r\n            width = dims[1];\r\n        var m = CELL_SIZE / minFaceSize;\r\n        var scales = [];\r\n        var minLayer = Math.min(height, width) * m;\r\n        var exp = 0;\r\n        while (minLayer >= 12) {\r\n            scales.push(m * Math.pow(scaleFactor, exp));\r\n            minLayer = minLayer * scaleFactor;\r\n            exp += 1;\r\n        }\r\n        return scales;\r\n    }\r\n\r\n    var MtcnnBox = /** @class */ (function(_super) {\r\n        __extends(MtcnnBox, _super);\r\n\r\n        function MtcnnBox(left, top, right, bottom) {\r\n            return _super.call(this, { left: left, top: top, right: right, bottom: bottom }, true) || this;\r\n        }\r\n        return MtcnnBox;\r\n    }(Box));\r\n\r\n    function normalize$1(x) {\r\n        return Ze(function() { return gc(Cc(x, On(127.5)), On(0.0078125)); });\r\n    }\r\n\r\n    function prelu(x, alpha) {\r\n        return Ze(function() {\r\n            return rc(Bl(x), gc(alpha, wu(Bl(wu(x)))));\r\n        });\r\n    }\r\n\r\n    function sharedLayer(x, params, isPnet) {\r\n        if (isPnet === void 0) { isPnet = false; }\r\n        return Ze(function() {\r\n            var out = convLayer(x, params.conv1, 'valid');\r\n            out = prelu(out, params.prelu1_alpha);\r\n            out = hl(out, isPnet ? [2, 2] : [3, 3], [2, 2], 'same');\r\n            out = convLayer(out, params.conv2, 'valid');\r\n            out = prelu(out, params.prelu2_alpha);\r\n            out = isPnet ? out : hl(out, [3, 3], [2, 2], 'valid');\r\n            out = convLayer(out, params.conv3, 'valid');\r\n            out = prelu(out, params.prelu3_alpha);\r\n            return out;\r\n        });\r\n    }\r\n\r\n    function PNet(x, params) {\r\n        return Ze(function() {\r\n            var out = sharedLayer(x, params, true);\r\n            var conv = convLayer(out, params.conv4_1, 'valid');\r\n            var max = wr(Sl(conv, 3), 3);\r\n            var prob = go(Cc(conv, max), 3);\r\n            var regions = convLayer(out, params.conv4_2, 'valid');\r\n            return { prob: prob, regions: regions };\r\n        });\r\n    }\r\n\r\n    function rescaleAndNormalize(x, scale) {\r\n        return Ze(function() {\r\n            var _a = getSizesForScale(scale, x.shape.slice(1)),\r\n                height = _a.height,\r\n                width = _a.width;\r\n            var resized = Oh.resizeBilinear(x, [height, width]);\r\n            var normalized = normalize$1(resized);\r\n            return Wl(normalized, [0, 2, 1, 3]);\r\n        });\r\n    }\r\n\r\n    function extractBoundingBoxes(scoresTensor, regionsTensor, scale, scoreThreshold) {\r\n        // TODO: fix this!, maybe better to use tf.gather here\r\n        var indices = [];\r\n        var scoresData = scoresTensor.arraySync();\r\n        for (var y = 0; y < scoresTensor.shape[0]; y++) {\r\n            for (var x = 0; x < scoresTensor.shape[1]; x++) {\r\n                if (scoresData[y][x] >= scoreThreshold) {\r\n                    indices.push(new Point(x, y));\r\n                }\r\n            }\r\n        }\r\n        var boundingBoxes = indices.map(function(idx) {\r\n            var cell = new BoundingBox(Math.round((idx.y * CELL_STRIDE + 1) / scale), Math.round((idx.x * CELL_STRIDE + 1) / scale), Math.round((idx.y * CELL_STRIDE + CELL_SIZE) / scale), Math.round((idx.x * CELL_STRIDE + CELL_SIZE) / scale));\r\n            var score = scoresData[idx.y][idx.x];\r\n            var regionsData = regionsTensor.arraySync();\r\n            var region = new MtcnnBox(regionsData[idx.y][idx.x][0], regionsData[idx.y][idx.x][1], regionsData[idx.y][idx.x][2], regionsData[idx.y][idx.x][3]);\r\n            return {\r\n                cell: cell,\r\n                score: score,\r\n                region: region\r\n            };\r\n        });\r\n        return boundingBoxes;\r\n    }\r\n\r\n    function stage1(imgTensor, scales, scoreThreshold, params, stats) {\r\n        stats.stage1 = [];\r\n        var pnetOutputs = scales.map(function(scale) {\r\n            return Ze(function() {\r\n                var statsForScale = { scale: scale };\r\n                var resized = rescaleAndNormalize(imgTensor, scale);\r\n                var ts = Date.now();\r\n                var _a = PNet(resized, params),\r\n                    prob = _a.prob,\r\n                    regions = _a.regions;\r\n                statsForScale.pnet = Date.now() - ts;\r\n                var scoresTensor = Ur(Ur(prob, 3)[1])[0];\r\n                var regionsTensor = Ur(regions)[0];\r\n                return {\r\n                    scoresTensor: scoresTensor,\r\n                    regionsTensor: regionsTensor,\r\n                    scale: scale,\r\n                    statsForScale: statsForScale\r\n                };\r\n            });\r\n        });\r\n        var boxesForScale = pnetOutputs.map(function(_a) {\r\n            var scoresTensor = _a.scoresTensor,\r\n                regionsTensor = _a.regionsTensor,\r\n                scale = _a.scale,\r\n                statsForScale = _a.statsForScale;\r\n            var boundingBoxes = extractBoundingBoxes(scoresTensor, regionsTensor, scale, scoreThreshold);\r\n            scoresTensor.dispose();\r\n            regionsTensor.dispose();\r\n            if (!boundingBoxes.length) {\r\n                stats.stage1.push(statsForScale);\r\n                return [];\r\n            }\r\n            var ts = Date.now();\r\n            var indices = nonMaxSuppression(boundingBoxes.map(function(bbox) { return bbox.cell; }), boundingBoxes.map(function(bbox) { return bbox.score; }), 0.5);\r\n            statsForScale.nms = Date.now() - ts;\r\n            statsForScale.numBoxes = indices.length;\r\n            stats.stage1.push(statsForScale);\r\n            return indices.map(function(boxIdx) { return boundingBoxes[boxIdx]; });\r\n        });\r\n        var allBoxes = boxesForScale.reduce(function(all, boxes) { return all.concat(boxes); }, []);\r\n        var finalBoxes = [];\r\n        var finalScores = [];\r\n        if (allBoxes.length > 0) {\r\n            var ts = Date.now();\r\n            var indices = nonMaxSuppression(allBoxes.map(function(bbox) { return bbox.cell; }), allBoxes.map(function(bbox) { return bbox.score; }), 0.7);\r\n            stats.stage1_nms = Date.now() - ts;\r\n            finalScores = indices.map(function(idx) { return allBoxes[idx].score; });\r\n            finalBoxes = indices\r\n                .map(function(idx) { return allBoxes[idx]; })\r\n                .map(function(_a) {\r\n                    var cell = _a.cell,\r\n                        region = _a.region;\r\n                    return new BoundingBox(cell.left + (region.left * cell.width), cell.top + (region.top * cell.height), cell.right + (region.right * cell.width), cell.bottom + (region.bottom * cell.height)).toSquare().round();\r\n                });\r\n        }\r\n        return {\r\n            boxes: finalBoxes,\r\n            scores: finalScores\r\n        };\r\n    }\r\n\r\n    function extractImagePatches(img, boxes, _a) {\r\n        var width = _a.width,\r\n            height = _a.height;\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var imgCtx, bitmaps, imagePatchesDatas;\r\n            var _this = this;\r\n            return __generator(this, function(_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        imgCtx = getContext2dOrThrow(img);\r\n                        return [4 /*yield*/ , Promise.all(boxes.map(function(box) {\r\n                            return __awaiter(_this, void 0, void 0, function() {\r\n                                var _a, y, ey, x, ex, fromX, fromY, imgData;\r\n                                return __generator(this, function(_b) {\r\n                                    _a = box.padAtBorders(img.height, img.width), y = _a.y, ey = _a.ey, x = _a.x, ex = _a.ex;\r\n                                    fromX = x - 1;\r\n                                    fromY = y - 1;\r\n                                    imgData = imgCtx.getImageData(fromX, fromY, (ex - fromX), (ey - fromY));\r\n                                    return [2 /*return*/ , env.isNodejs() ? createCanvasFromMedia(imgData) : createImageBitmap(imgData)];\r\n                                });\r\n                            });\r\n                        }))];\r\n                    case 1:\r\n                        bitmaps = _b.sent();\r\n                        imagePatchesDatas = [];\r\n                        bitmaps.forEach(function(bmp) {\r\n                            var patch = createCanvas({ width: width, height: height });\r\n                            var patchCtx = getContext2dOrThrow(patch);\r\n                            patchCtx.drawImage(bmp, 0, 0, width, height);\r\n                            var data = patchCtx.getImageData(0, 0, width, height).data;\r\n                            var currData = [];\r\n                            // RGBA -> BGR\r\n                            for (var i = 0; i < data.length; i += 4) {\r\n                                currData.push(data[i + 2]);\r\n                                currData.push(data[i + 1]);\r\n                                currData.push(data[i]);\r\n                            }\r\n                            imagePatchesDatas.push(currData);\r\n                        });\r\n                        return [2 /*return*/ , imagePatchesDatas.map(function(data) {\r\n                            var t = Ze(function() {\r\n                                var imagePatchTensor = Wl(Ln(data, [1, width, height, 3]), [0, 2, 1, 3]).toFloat();\r\n                                return normalize$1(imagePatchTensor);\r\n                            });\r\n                            return t;\r\n                        })];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function RNet(x, params) {\r\n        return Ze(function() {\r\n            var convOut = sharedLayer(x, params);\r\n            var vectorized = Or(convOut, [convOut.shape[0], params.fc1.weights.shape[0]]);\r\n            var fc1 = fullyConnectedLayer(vectorized, params.fc1);\r\n            var prelu4 = prelu(fc1, params.prelu4_alpha);\r\n            var fc2_1 = fullyConnectedLayer(prelu4, params.fc2_1);\r\n            var max = wr(Sl(fc2_1, 1), 1);\r\n            var prob = go(Cc(fc2_1, max), 1);\r\n            var regions = fullyConnectedLayer(prelu4, params.fc2_2);\r\n            var scores = Ur(prob, 1)[1];\r\n            return { scores: scores, regions: regions };\r\n        });\r\n    }\r\n\r\n    function stage2(img, inputBoxes, scoreThreshold, params, stats) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var ts, rnetInputs, rnetOuts, scoresTensor, scores, _a, _b, indices, filteredBoxes, filteredScores, finalBoxes, finalScores, indicesNms, regions_1;\r\n            return __generator(this, function(_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        ts = Date.now();\r\n                        return [4 /*yield*/ , extractImagePatches(img, inputBoxes, { width: 24, height: 24 })];\r\n                    case 1:\r\n                        rnetInputs = _c.sent();\r\n                        stats.stage2_extractImagePatches = Date.now() - ts;\r\n                        ts = Date.now();\r\n                        rnetOuts = rnetInputs.map(function(rnetInput) {\r\n                            var out = RNet(rnetInput, params);\r\n                            rnetInput.dispose();\r\n                            return out;\r\n                        });\r\n                        stats.stage2_rnet = Date.now() - ts;\r\n                        scoresTensor = rnetOuts.length > 1 ?\r\n                            Yn(rnetOuts.map(function(out) { return out.scores; })) :\r\n                            rnetOuts[0].scores;\r\n                        _b = (_a = Array).from;\r\n                        return [4 /*yield*/ , scoresTensor.data()];\r\n                    case 2:\r\n                        scores = _b.apply(_a, [_c.sent()]);\r\n                        scoresTensor.dispose();\r\n                        indices = scores\r\n                            .map(function(score, idx) { return ({ score: score, idx: idx }); })\r\n                            .filter(function(c) { return c.score > scoreThreshold; })\r\n                            .map(function(_a) {\r\n                                var idx = _a.idx;\r\n                                return idx;\r\n                            });\r\n                        filteredBoxes = indices.map(function(idx) { return inputBoxes[idx]; });\r\n                        filteredScores = indices.map(function(idx) { return scores[idx]; });\r\n                        finalBoxes = [];\r\n                        finalScores = [];\r\n                        if (filteredBoxes.length > 0) {\r\n                            ts = Date.now();\r\n                            indicesNms = nonMaxSuppression(filteredBoxes, filteredScores, 0.7);\r\n                            stats.stage2_nms = Date.now() - ts;\r\n                            regions_1 = indicesNms.map(function(idx) {\r\n                                var regionsData = rnetOuts[indices[idx]].regions.arraySync();\r\n                                return new MtcnnBox(regionsData[0][0], regionsData[0][1], regionsData[0][2], regionsData[0][3]);\r\n                            });\r\n                            finalScores = indicesNms.map(function(idx) { return filteredScores[idx]; });\r\n                            finalBoxes = indicesNms.map(function(idx, i) { return filteredBoxes[idx].calibrate(regions_1[i]); });\r\n                        }\r\n                        rnetOuts.forEach(function(t) {\r\n                            t.regions.dispose();\r\n                            t.scores.dispose();\r\n                        });\r\n                        return [2 /*return*/ , {\r\n                            boxes: finalBoxes,\r\n                            scores: finalScores\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function ONet(x, params) {\r\n        return Ze(function() {\r\n            var out = sharedLayer(x, params);\r\n            out = hl(out, [2, 2], [2, 2], 'same');\r\n            out = convLayer(out, params.conv4, 'valid');\r\n            out = prelu(out, params.prelu4_alpha);\r\n            var vectorized = Or(out, [out.shape[0], params.fc1.weights.shape[0]]);\r\n            var fc1 = fullyConnectedLayer(vectorized, params.fc1);\r\n            var prelu5 = prelu(fc1, params.prelu5_alpha);\r\n            var fc2_1 = fullyConnectedLayer(prelu5, params.fc2_1);\r\n            var max = wr(Sl(fc2_1, 1), 1);\r\n            var prob = go(Cc(fc2_1, max), 1);\r\n            var regions = fullyConnectedLayer(prelu5, params.fc2_2);\r\n            var points = fullyConnectedLayer(prelu5, params.fc2_3);\r\n            var scores = Ur(prob, 1)[1];\r\n            return { scores: scores, regions: regions, points: points };\r\n        });\r\n    }\r\n\r\n    function stage3(img, inputBoxes, scoreThreshold, params, stats) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var ts, onetInputs, onetOuts, scoresTensor, scores, _a, _b, indices, filteredRegions, filteredBoxes, filteredScores, finalBoxes, finalScores, points, indicesNms;\r\n            return __generator(this, function(_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        ts = Date.now();\r\n                        return [4 /*yield*/ , extractImagePatches(img, inputBoxes, { width: 48, height: 48 })];\r\n                    case 1:\r\n                        onetInputs = _c.sent();\r\n                        stats.stage3_extractImagePatches = Date.now() - ts;\r\n                        ts = Date.now();\r\n                        onetOuts = onetInputs.map(function(onetInput) {\r\n                            var out = ONet(onetInput, params);\r\n                            onetInput.dispose();\r\n                            return out;\r\n                        });\r\n                        stats.stage3_onet = Date.now() - ts;\r\n                        scoresTensor = onetOuts.length > 1 ?\r\n                            Yn(onetOuts.map(function(out) { return out.scores; })) :\r\n                            onetOuts[0].scores;\r\n                        _b = (_a = Array).from;\r\n                        return [4 /*yield*/ , scoresTensor.data()];\r\n                    case 2:\r\n                        scores = _b.apply(_a, [_c.sent()]);\r\n                        scoresTensor.dispose();\r\n                        indices = scores\r\n                            .map(function(score, idx) { return ({ score: score, idx: idx }); })\r\n                            .filter(function(c) { return c.score > scoreThreshold; })\r\n                            .map(function(_a) {\r\n                                var idx = _a.idx;\r\n                                return idx;\r\n                            });\r\n                        filteredRegions = indices.map(function(idx) {\r\n                            var regionsData = onetOuts[idx].regions.arraySync();\r\n                            return new MtcnnBox(regionsData[0][0], regionsData[0][1], regionsData[0][2], regionsData[0][3]);\r\n                        });\r\n                        filteredBoxes = indices\r\n                            .map(function(idx, i) { return inputBoxes[idx].calibrate(filteredRegions[i]); });\r\n                        filteredScores = indices.map(function(idx) { return scores[idx]; });\r\n                        finalBoxes = [];\r\n                        finalScores = [];\r\n                        points = [];\r\n                        if (filteredBoxes.length > 0) {\r\n                            ts = Date.now();\r\n                            indicesNms = nonMaxSuppression(filteredBoxes, filteredScores, 0.7, false);\r\n                            stats.stage3_nms = Date.now() - ts;\r\n                            finalBoxes = indicesNms.map(function(idx) { return filteredBoxes[idx]; });\r\n                            finalScores = indicesNms.map(function(idx) { return filteredScores[idx]; });\r\n                            points = indicesNms.map(function(idx, i) {\r\n                                return Array(5).fill(0).map(function(_, ptIdx) {\r\n                                    var pointsData = onetOuts[idx].points.arraySync();\r\n                                    return new Point(((pointsData[0][ptIdx] * (finalBoxes[i].width + 1)) + finalBoxes[i].left), ((pointsData[0][ptIdx + 5] * (finalBoxes[i].height + 1)) + finalBoxes[i].top));\r\n                                });\r\n                            });\r\n                        }\r\n                        onetOuts.forEach(function(t) {\r\n                            t.regions.dispose();\r\n                            t.scores.dispose();\r\n                            t.points.dispose();\r\n                        });\r\n                        return [2 /*return*/ , {\r\n                            boxes: finalBoxes,\r\n                            scores: finalScores,\r\n                            points: points\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    var Mtcnn = /** @class */ (function(_super) {\r\n        __extends(Mtcnn, _super);\r\n\r\n        function Mtcnn() {\r\n            return _super.call(this, 'Mtcnn') || this;\r\n        }\r\n        Mtcnn.prototype.load = function(weightsOrUrl) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                return __generator(this, function(_a) {\r\n                    console.warn('mtcnn is deprecated and will be removed soon');\r\n                    return [2 /*return*/ , _super.prototype.load.call(this, weightsOrUrl)];\r\n                });\r\n            });\r\n        };\r\n        Mtcnn.prototype.loadFromDisk = function(filePath) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                return __generator(this, function(_a) {\r\n                    console.warn('mtcnn is deprecated and will be removed soon');\r\n                    return [2 /*return*/ , _super.prototype.loadFromDisk.call(this, filePath)];\r\n                });\r\n            });\r\n        };\r\n        Mtcnn.prototype.forwardInput = function(input, forwardParams) {\r\n            if (forwardParams === void 0) { forwardParams = {}; }\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var params, inputCanvas, stats, tsTotal, imgTensor, onReturn, _a, height, width, _b, minFaceSize, scaleFactor, maxNumScales, scoreThresholds, scaleSteps, scales, ts, out1, out2, out3, results;\r\n                return __generator(this, function(_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            params = this.params;\r\n                            if (!params) {\r\n                                throw new Error('Mtcnn - load model before inference');\r\n                            }\r\n                            inputCanvas = input.canvases[0];\r\n                            if (!inputCanvas) {\r\n                                throw new Error('Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.');\r\n                            }\r\n                            stats = {};\r\n                            tsTotal = Date.now();\r\n                            imgTensor = Ze(function() {\r\n                                return bgrToRgbTensor(wr(id.fromPixels(inputCanvas)).toFloat());\r\n                            });\r\n                            onReturn = function(results) {\r\n                                // dispose tensors on return\r\n                                imgTensor.dispose();\r\n                                stats.total = Date.now() - tsTotal;\r\n                                return results;\r\n                            };\r\n                            _a = imgTensor.shape.slice(1), height = _a[0], width = _a[1];\r\n                            _b = new MtcnnOptions(forwardParams), minFaceSize = _b.minFaceSize, scaleFactor = _b.scaleFactor, maxNumScales = _b.maxNumScales, scoreThresholds = _b.scoreThresholds, scaleSteps = _b.scaleSteps;\r\n                            scales = (scaleSteps || pyramidDown(minFaceSize, scaleFactor, [height, width]))\r\n                                .filter(function(scale) {\r\n                                    var sizes = getSizesForScale(scale, [height, width]);\r\n                                    return Math.min(sizes.width, sizes.height) > CELL_SIZE;\r\n                                })\r\n                                .slice(0, maxNumScales);\r\n                            stats.scales = scales;\r\n                            stats.pyramid = scales.map(function(scale) { return getSizesForScale(scale, [height, width]); });\r\n                            ts = Date.now();\r\n                            return [4 /*yield*/ , stage1(imgTensor, scales, scoreThresholds[0], params.pnet, stats)];\r\n                        case 1:\r\n                            out1 = _c.sent();\r\n                            stats.total_stage1 = Date.now() - ts;\r\n                            if (!out1.boxes.length) {\r\n                                return [2 /*return*/ , onReturn({ results: [], stats: stats })];\r\n                            }\r\n                            stats.stage2_numInputBoxes = out1.boxes.length;\r\n                            // using the inputCanvas to extract and resize the image patches, since it is faster\r\n                            // than doing this on the gpu\r\n                            ts = Date.now();\r\n                            return [4 /*yield*/ , stage2(inputCanvas, out1.boxes, scoreThresholds[1], params.rnet, stats)];\r\n                        case 2:\r\n                            out2 = _c.sent();\r\n                            stats.total_stage2 = Date.now() - ts;\r\n                            if (!out2.boxes.length) {\r\n                                return [2 /*return*/ , onReturn({ results: [], stats: stats })];\r\n                            }\r\n                            stats.stage3_numInputBoxes = out2.boxes.length;\r\n                            ts = Date.now();\r\n                            return [4 /*yield*/ , stage3(inputCanvas, out2.boxes, scoreThresholds[2], params.onet, stats)];\r\n                        case 3:\r\n                            out3 = _c.sent();\r\n                            stats.total_stage3 = Date.now() - ts;\r\n                            results = out3.boxes.map(function(box, idx) {\r\n                                return extendWithFaceLandmarks(extendWithFaceDetection({}, new FaceDetection(out3.scores[idx], new Rect(box.left / width, box.top / height, box.width / width, box.height / height), {\r\n                                    height: height,\r\n                                    width: width\r\n                                })), new FaceLandmarks5(out3.points[idx].map(function(pt) { return pt.sub(new Point(box.left, box.top)).div(new Point(box.width, box.height)); }), { width: box.width, height: box.height }));\r\n                            });\r\n                            return [2 /*return*/ , onReturn({ results: results, stats: stats })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Mtcnn.prototype.forward = function(input, forwardParams) {\r\n            if (forwardParams === void 0) { forwardParams = {}; }\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [4 /*yield*/ , _a.apply(this, [_b.sent(),\r\n                                forwardParams\r\n                            ])];\r\n                        case 2:\r\n                            return [2 /*return*/ , (_b.sent()).results];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Mtcnn.prototype.forwardWithStats = function(input, forwardParams) {\r\n            if (forwardParams === void 0) { forwardParams = {}; }\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this.forwardInput;\r\n                            return [4 /*yield*/ , toNetInput(input)];\r\n                        case 1:\r\n                            return [2 /*return*/ , _a.apply(this, [_b.sent(),\r\n                                forwardParams\r\n                            ])];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Mtcnn.prototype.getDefaultModelName = function() {\r\n            return 'mtcnn_model';\r\n        };\r\n        Mtcnn.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return extractParamsFromWeigthMap$7(weightMap);\r\n        };\r\n        Mtcnn.prototype.extractParams = function(weights) {\r\n            return extractParams$7(weights);\r\n        };\r\n        return Mtcnn;\r\n    }(NeuralNetwork));\r\n\r\n    var IOU_THRESHOLD$1 = 0.4;\r\n    var BOX_ANCHORS$1 = [\r\n        new Point(1.603231, 2.094468),\r\n        new Point(6.041143, 7.080126),\r\n        new Point(2.882459, 3.518061),\r\n        new Point(4.266906, 5.178857),\r\n        new Point(9.041765, 10.66308)\r\n    ];\r\n    var MEAN_RGB = [117.001, 114.697, 97.404];\r\n\r\n    var TinyFaceDetector = /** @class */ (function(_super) {\r\n        __extends(TinyFaceDetector, _super);\r\n\r\n        function TinyFaceDetector() {\r\n            var _this = this;\r\n            var config = {\r\n                withSeparableConvs: true,\r\n                iouThreshold: IOU_THRESHOLD$1,\r\n                classes: ['face'],\r\n                anchors: BOX_ANCHORS$1,\r\n                meanRgb: MEAN_RGB,\r\n                isFirstLayerConv2d: true,\r\n                filterSizes: [3, 16, 32, 64, 128, 256, 512]\r\n            };\r\n            _this = _super.call(this, config) || this;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(TinyFaceDetector.prototype, \"anchors\", {\r\n            get: function() {\r\n                return this.config.anchors;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TinyFaceDetector.prototype.locateFaces = function(input, forwardParams) {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var objectDetections;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.detect(input, forwardParams)];\r\n                        case 1:\r\n                            objectDetections = _a.sent();\r\n                            return [2 /*return*/ , objectDetections.map(function(det) { return new FaceDetection(det.score, det.relativeBox, { width: det.imageWidth, height: det.imageHeight }); })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        TinyFaceDetector.prototype.getDefaultModelName = function() {\r\n            return 'tiny_face_detector_model';\r\n        };\r\n        TinyFaceDetector.prototype.extractParamsFromWeigthMap = function(weightMap) {\r\n            return _super.prototype.extractParamsFromWeigthMap.call(this, weightMap);\r\n        };\r\n        return TinyFaceDetector;\r\n    }(TinyYolov2Base));\r\n\r\n    var nets = {\r\n        ssdMobilenetv1: new SsdMobilenetv1(),\r\n        tinyFaceDetector: new TinyFaceDetector(),\r\n        tinyYolov2: new TinyYolov2(),\r\n        mtcnn: new Mtcnn(),\r\n        faceLandmark68Net: new FaceLandmark68Net(),\r\n        faceLandmark68TinyNet: new FaceLandmark68TinyNet(),\r\n        faceRecognitionNet: new FaceRecognitionNet(),\r\n        faceExpressionNet: new FaceExpressionNet(),\r\n        ageGenderNet: new AgeGenderNet()\r\n    };\r\n    /**\r\n     * Attempts to detect all faces in an image using SSD Mobilenetv1 Network.\r\n     *\r\n     * @param input The input image.\r\n     * @param options (optional, default: see SsdMobilenetv1Options constructor for default parameters).\r\n     * @returns Bounding box of each face with score.\r\n     */\r\n    var ssdMobilenetv1 = function(input, options) {\r\n        return nets.ssdMobilenetv1.locateFaces(input, options);\r\n    };\r\n    /**\r\n     * Attempts to detect all faces in an image using the Tiny Face Detector.\r\n     *\r\n     * @param input The input image.\r\n     * @param options (optional, default: see TinyFaceDetectorOptions constructor for default parameters).\r\n     * @returns Bounding box of each face with score.\r\n     */\r\n    var tinyFaceDetector = function(input, options) {\r\n        return nets.tinyFaceDetector.locateFaces(input, options);\r\n    };\r\n    /**\r\n     * Attempts to detect all faces in an image using the Tiny Yolov2 Network.\r\n     *\r\n     * @param input The input image.\r\n     * @param options (optional, default: see TinyYolov2Options constructor for default parameters).\r\n     * @returns Bounding box of each face with score.\r\n     */\r\n    var tinyYolov2 = function(input, options) {\r\n        return nets.tinyYolov2.locateFaces(input, options);\r\n    };\r\n    /**\r\n     * Attempts to detect all faces in an image and the 5 point face landmarks\r\n     * of each detected face using the MTCNN Network.\r\n     *\r\n     * @param input The input image.\r\n     * @param options (optional, default: see MtcnnOptions constructor for default parameters).\r\n     * @returns Bounding box of each face with score and 5 point face landmarks.\r\n     */\r\n    var mtcnn = function(input, options) {\r\n        return nets.mtcnn.forward(input, options);\r\n    };\r\n    /**\r\n     * Detects the 68 point face landmark positions of the face shown in an image.\r\n     *\r\n     * @param inputs The face image extracted from the bounding box of a face. Can\r\n     * also be an array of input images, which will be batch processed.\r\n     * @returns 68 point face landmarks or array thereof in case of batch input.\r\n     */\r\n    var detectFaceLandmarks = function(input) {\r\n        return nets.faceLandmark68Net.detectLandmarks(input);\r\n    };\r\n    /**\r\n     * Detects the 68 point face landmark positions of the face shown in an image\r\n     * using a tinier version of the 68 point face landmark model, which is slightly\r\n     * faster at inference, but also slightly less accurate.\r\n     *\r\n     * @param inputs The face image extracted from the bounding box of a face. Can\r\n     * also be an array of input images, which will be batch processed.\r\n     * @returns 68 point face landmarks or array thereof in case of batch input.\r\n     */\r\n    var detectFaceLandmarksTiny = function(input) {\r\n        return nets.faceLandmark68TinyNet.detectLandmarks(input);\r\n    };\r\n    /**\r\n     * Computes a 128 entry vector (face descriptor / face embeddings) from the face shown in an image,\r\n     * which uniquely represents the features of that persons face. The computed face descriptor can\r\n     * be used to measure the similarity between faces, by computing the euclidean distance of two\r\n     * face descriptors.\r\n     *\r\n     * @param inputs The face image extracted from the aligned bounding box of a face. Can\r\n     * also be an array of input images, which will be batch processed.\r\n     * @returns Face descriptor with 128 entries or array thereof in case of batch input.\r\n     */\r\n    var computeFaceDescriptor = function(input) {\r\n        return nets.faceRecognitionNet.computeFaceDescriptor(input);\r\n    };\r\n    /**\r\n     * Recognizes the facial expressions from a face image.\r\n     *\r\n     * @param inputs The face image extracted from the bounding box of a face. Can\r\n     * also be an array of input images, which will be batch processed.\r\n     * @returns Facial expressions with corresponding probabilities or array thereof in case of batch input.\r\n     */\r\n    var recognizeFaceExpressions = function(input) {\r\n        return nets.faceExpressionNet.predictExpressions(input);\r\n    };\r\n    /**\r\n     * Predicts age and gender from a face image.\r\n     *\r\n     * @param inputs The face image extracted from the bounding box of a face. Can\r\n     * also be an array of input images, which will be batch processed.\r\n     * @returns Predictions with age, gender and gender probability or array thereof in case of batch input.\r\n     */\r\n    var predictAgeAndGender = function(input) {\r\n        return nets.ageGenderNet.predictAgeAndGender(input);\r\n    };\r\n    var loadSsdMobilenetv1Model = function(url) { return nets.ssdMobilenetv1.load(url); };\r\n    var loadTinyFaceDetectorModel = function(url) { return nets.tinyFaceDetector.load(url); };\r\n    var loadMtcnnModel = function(url) { return nets.mtcnn.load(url); };\r\n    var loadTinyYolov2Model = function(url) { return nets.tinyYolov2.load(url); };\r\n    var loadFaceLandmarkModel = function(url) { return nets.faceLandmark68Net.load(url); };\r\n    var loadFaceLandmarkTinyModel = function(url) { return nets.faceLandmark68TinyNet.load(url); };\r\n    var loadFaceRecognitionModel = function(url) { return nets.faceRecognitionNet.load(url); };\r\n    var loadFaceExpressionModel = function(url) { return nets.faceExpressionNet.load(url); };\r\n    var loadAgeGenderModel = function(url) { return nets.ageGenderNet.load(url); };\r\n    // backward compatibility\r\n    var loadFaceDetectionModel = loadSsdMobilenetv1Model;\r\n    var locateFaces = ssdMobilenetv1;\r\n    var detectLandmarks = detectFaceLandmarks;\r\n\r\n    var PredictFaceExpressionsTaskBase = /** @class */ (function(_super) {\r\n        __extends(PredictFaceExpressionsTaskBase, _super);\r\n\r\n        function PredictFaceExpressionsTaskBase(parentTask, input, extractedFaces) {\r\n            var _this = _super.call(this) || this;\r\n            _this.parentTask = parentTask;\r\n            _this.input = input;\r\n            _this.extractedFaces = extractedFaces;\r\n            return _this;\r\n        }\r\n        return PredictFaceExpressionsTaskBase;\r\n    }(ComposableTask));\r\n    var PredictAllFaceExpressionsTask = /** @class */ (function(_super) {\r\n        __extends(PredictAllFaceExpressionsTask, _super);\r\n\r\n        function PredictAllFaceExpressionsTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictAllFaceExpressionsTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResults, faceExpressionsByFace;\r\n                var _this = this;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResults = _a.sent();\r\n                            return [4 /*yield*/ , extractAllFacesAndComputeResults(parentResults, this.input, function(faces) {\r\n                                return __awaiter(_this, void 0, void 0, function() {\r\n                                    return __generator(this, function(_a) {\r\n                                        switch (_a.label) {\r\n                                            case 0:\r\n                                                return [4 /*yield*/ , Promise.all(faces.map(function(face) { return nets.faceExpressionNet.predictExpressions(face); }))];\r\n                                            case 1:\r\n                                                return [2 /*return*/ , _a.sent()];\r\n                                        }\r\n                                    });\r\n                                });\r\n                            }, this.extractedFaces)];\r\n                        case 2:\r\n                            faceExpressionsByFace = _a.sent();\r\n                            return [2 /*return*/ , parentResults.map(function(parentResult, i) { return extendWithFaceExpressions(parentResult, faceExpressionsByFace[i]); })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        PredictAllFaceExpressionsTask.prototype.withAgeAndGender = function() {\r\n            return new PredictAllAgeAndGenderTask(this, this.input);\r\n        };\r\n        return PredictAllFaceExpressionsTask;\r\n    }(PredictFaceExpressionsTaskBase));\r\n    var PredictSingleFaceExpressionsTask = /** @class */ (function(_super) {\r\n        __extends(PredictSingleFaceExpressionsTask, _super);\r\n\r\n        function PredictSingleFaceExpressionsTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictSingleFaceExpressionsTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResult, faceExpressions;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResult = _a.sent();\r\n                            if (!parentResult) {\r\n                                return [2 /*return*/ ];\r\n                            }\r\n                            return [4 /*yield*/ , extractSingleFaceAndComputeResult(parentResult, this.input, function(face) { return nets.faceExpressionNet.predictExpressions(face); }, this.extractedFaces)];\r\n                        case 2:\r\n                            faceExpressions = _a.sent();\r\n                            return [2 /*return*/ , extendWithFaceExpressions(parentResult, faceExpressions)];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        PredictSingleFaceExpressionsTask.prototype.withAgeAndGender = function() {\r\n            return new PredictSingleAgeAndGenderTask(this, this.input);\r\n        };\r\n        return PredictSingleFaceExpressionsTask;\r\n    }(PredictFaceExpressionsTaskBase));\r\n    var PredictAllFaceExpressionsWithFaceAlignmentTask = /** @class */ (function(_super) {\r\n        __extends(PredictAllFaceExpressionsWithFaceAlignmentTask, _super);\r\n\r\n        function PredictAllFaceExpressionsWithFaceAlignmentTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictAllFaceExpressionsWithFaceAlignmentTask.prototype.withAgeAndGender = function() {\r\n            return new PredictAllAgeAndGenderWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        PredictAllFaceExpressionsWithFaceAlignmentTask.prototype.withFaceDescriptors = function() {\r\n            return new ComputeAllFaceDescriptorsTask(this, this.input);\r\n        };\r\n        return PredictAllFaceExpressionsWithFaceAlignmentTask;\r\n    }(PredictAllFaceExpressionsTask));\r\n    var PredictSingleFaceExpressionsWithFaceAlignmentTask = /** @class */ (function(_super) {\r\n        __extends(PredictSingleFaceExpressionsWithFaceAlignmentTask, _super);\r\n\r\n        function PredictSingleFaceExpressionsWithFaceAlignmentTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictSingleFaceExpressionsWithFaceAlignmentTask.prototype.withAgeAndGender = function() {\r\n            return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        PredictSingleFaceExpressionsWithFaceAlignmentTask.prototype.withFaceDescriptor = function() {\r\n            return new ComputeSingleFaceDescriptorTask(this, this.input);\r\n        };\r\n        return PredictSingleFaceExpressionsWithFaceAlignmentTask;\r\n    }(PredictSingleFaceExpressionsTask));\r\n\r\n    var PredictAgeAndGenderTaskBase = /** @class */ (function(_super) {\r\n        __extends(PredictAgeAndGenderTaskBase, _super);\r\n\r\n        function PredictAgeAndGenderTaskBase(parentTask, input, extractedFaces) {\r\n            var _this = _super.call(this) || this;\r\n            _this.parentTask = parentTask;\r\n            _this.input = input;\r\n            _this.extractedFaces = extractedFaces;\r\n            return _this;\r\n        }\r\n        return PredictAgeAndGenderTaskBase;\r\n    }(ComposableTask));\r\n    var PredictAllAgeAndGenderTask = /** @class */ (function(_super) {\r\n        __extends(PredictAllAgeAndGenderTask, _super);\r\n\r\n        function PredictAllAgeAndGenderTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictAllAgeAndGenderTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResults, ageAndGenderByFace;\r\n                var _this = this;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResults = _a.sent();\r\n                            return [4 /*yield*/ , extractAllFacesAndComputeResults(parentResults, this.input, function(faces) {\r\n                                return __awaiter(_this, void 0, void 0, function() {\r\n                                    return __generator(this, function(_a) {\r\n                                        switch (_a.label) {\r\n                                            case 0:\r\n                                                return [4 /*yield*/ , Promise.all(faces.map(function(face) { return nets.ageGenderNet.predictAgeAndGender(face); }))];\r\n                                            case 1:\r\n                                                return [2 /*return*/ , _a.sent()];\r\n                                        }\r\n                                    });\r\n                                });\r\n                            }, this.extractedFaces)];\r\n                        case 2:\r\n                            ageAndGenderByFace = _a.sent();\r\n                            return [2 /*return*/ , parentResults.map(function(parentResult, i) {\r\n                                var _a = ageAndGenderByFace[i],\r\n                                    age = _a.age,\r\n                                    gender = _a.gender,\r\n                                    genderProbability = _a.genderProbability;\r\n                                return extendWithAge(extendWithGender(parentResult, gender, genderProbability), age);\r\n                            })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        PredictAllAgeAndGenderTask.prototype.withFaceExpressions = function() {\r\n            return new PredictAllFaceExpressionsTask(this, this.input);\r\n        };\r\n        return PredictAllAgeAndGenderTask;\r\n    }(PredictAgeAndGenderTaskBase));\r\n    var PredictSingleAgeAndGenderTask = /** @class */ (function(_super) {\r\n        __extends(PredictSingleAgeAndGenderTask, _super);\r\n\r\n        function PredictSingleAgeAndGenderTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictSingleAgeAndGenderTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResult, _a, age, gender, genderProbability;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResult = _b.sent();\r\n                            if (!parentResult) {\r\n                                return [2 /*return*/ ];\r\n                            }\r\n                            return [4 /*yield*/ , extractSingleFaceAndComputeResult(parentResult, this.input, function(face) { return nets.ageGenderNet.predictAgeAndGender(face); }, this.extractedFaces)];\r\n                        case 2:\r\n                            _a = _b.sent(), age = _a.age, gender = _a.gender, genderProbability = _a.genderProbability;\r\n                            return [2 /*return*/ , extendWithAge(extendWithGender(parentResult, gender, genderProbability), age)];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        PredictSingleAgeAndGenderTask.prototype.withFaceExpressions = function() {\r\n            return new PredictSingleFaceExpressionsTask(this, this.input);\r\n        };\r\n        return PredictSingleAgeAndGenderTask;\r\n    }(PredictAgeAndGenderTaskBase));\r\n    var PredictAllAgeAndGenderWithFaceAlignmentTask = /** @class */ (function(_super) {\r\n        __extends(PredictAllAgeAndGenderWithFaceAlignmentTask, _super);\r\n\r\n        function PredictAllAgeAndGenderWithFaceAlignmentTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictAllAgeAndGenderWithFaceAlignmentTask.prototype.withFaceExpressions = function() {\r\n            return new PredictAllFaceExpressionsWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        PredictAllAgeAndGenderWithFaceAlignmentTask.prototype.withFaceDescriptors = function() {\r\n            return new ComputeAllFaceDescriptorsTask(this, this.input);\r\n        };\r\n        return PredictAllAgeAndGenderWithFaceAlignmentTask;\r\n    }(PredictAllAgeAndGenderTask));\r\n    var PredictSingleAgeAndGenderWithFaceAlignmentTask = /** @class */ (function(_super) {\r\n        __extends(PredictSingleAgeAndGenderWithFaceAlignmentTask, _super);\r\n\r\n        function PredictSingleAgeAndGenderWithFaceAlignmentTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        PredictSingleAgeAndGenderWithFaceAlignmentTask.prototype.withFaceExpressions = function() {\r\n            return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        PredictSingleAgeAndGenderWithFaceAlignmentTask.prototype.withFaceDescriptor = function() {\r\n            return new ComputeSingleFaceDescriptorTask(this, this.input);\r\n        };\r\n        return PredictSingleAgeAndGenderWithFaceAlignmentTask;\r\n    }(PredictSingleAgeAndGenderTask));\r\n\r\n    var ComputeFaceDescriptorsTaskBase = /** @class */ (function(_super) {\r\n        __extends(ComputeFaceDescriptorsTaskBase, _super);\r\n\r\n        function ComputeFaceDescriptorsTaskBase(parentTask, input) {\r\n            var _this = _super.call(this) || this;\r\n            _this.parentTask = parentTask;\r\n            _this.input = input;\r\n            return _this;\r\n        }\r\n        return ComputeFaceDescriptorsTaskBase;\r\n    }(ComposableTask));\r\n    var ComputeAllFaceDescriptorsTask = /** @class */ (function(_super) {\r\n        __extends(ComputeAllFaceDescriptorsTask, _super);\r\n\r\n        function ComputeAllFaceDescriptorsTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        ComputeAllFaceDescriptorsTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResults, descriptors;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResults = _a.sent();\r\n                            return [4 /*yield*/ , extractAllFacesAndComputeResults(parentResults, this.input, function(faces) {\r\n                                return Promise.all(faces.map(function(face) {\r\n                                    return nets.faceRecognitionNet.computeFaceDescriptor(face);\r\n                                }));\r\n                            }, null, function(parentResult) { return parentResult.landmarks.align(null, { useDlibAlignment: true }); })];\r\n                        case 2:\r\n                            descriptors = _a.sent();\r\n                            return [2 /*return*/ , descriptors.map(function(descriptor, i) { return extendWithFaceDescriptor(parentResults[i], descriptor); })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ComputeAllFaceDescriptorsTask.prototype.withFaceExpressions = function() {\r\n            return new PredictAllFaceExpressionsWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        ComputeAllFaceDescriptorsTask.prototype.withAgeAndGender = function() {\r\n            return new PredictAllAgeAndGenderWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        return ComputeAllFaceDescriptorsTask;\r\n    }(ComputeFaceDescriptorsTaskBase));\r\n    var ComputeSingleFaceDescriptorTask = /** @class */ (function(_super) {\r\n        __extends(ComputeSingleFaceDescriptorTask, _super);\r\n\r\n        function ComputeSingleFaceDescriptorTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        ComputeSingleFaceDescriptorTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResult, descriptor;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResult = _a.sent();\r\n                            if (!parentResult) {\r\n                                return [2 /*return*/ ];\r\n                            }\r\n                            return [4 /*yield*/ , extractSingleFaceAndComputeResult(parentResult, this.input, function(face) { return nets.faceRecognitionNet.computeFaceDescriptor(face); }, null, function(parentResult) { return parentResult.landmarks.align(null, { useDlibAlignment: true }); })];\r\n                        case 2:\r\n                            descriptor = _a.sent();\r\n                            return [2 /*return*/ , extendWithFaceDescriptor(parentResult, descriptor)];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ComputeSingleFaceDescriptorTask.prototype.withFaceExpressions = function() {\r\n            return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        ComputeSingleFaceDescriptorTask.prototype.withAgeAndGender = function() {\r\n            return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        return ComputeSingleFaceDescriptorTask;\r\n    }(ComputeFaceDescriptorsTaskBase));\r\n\r\n    var DetectFaceLandmarksTaskBase = /** @class */ (function(_super) {\r\n        __extends(DetectFaceLandmarksTaskBase, _super);\r\n\r\n        function DetectFaceLandmarksTaskBase(parentTask, input, useTinyLandmarkNet) {\r\n            var _this = _super.call(this) || this;\r\n            _this.parentTask = parentTask;\r\n            _this.input = input;\r\n            _this.useTinyLandmarkNet = useTinyLandmarkNet;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(DetectFaceLandmarksTaskBase.prototype, \"landmarkNet\", {\r\n            get: function() {\r\n                return this.useTinyLandmarkNet ?\r\n                    nets.faceLandmark68TinyNet :\r\n                    nets.faceLandmark68Net;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return DetectFaceLandmarksTaskBase;\r\n    }(ComposableTask));\r\n    var DetectAllFaceLandmarksTask = /** @class */ (function(_super) {\r\n        __extends(DetectAllFaceLandmarksTask, _super);\r\n\r\n        function DetectAllFaceLandmarksTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        DetectAllFaceLandmarksTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResults, detections, faces, _a, faceLandmarksByFace;\r\n                var _this = this;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResults = _b.sent();\r\n                            detections = parentResults.map(function(res) { return res.detection; });\r\n                            if (!(this.input instanceof wt)) return [3 /*break*/ , 3];\r\n                            return [4 /*yield*/ , extractFaceTensors(this.input, detections)];\r\n                        case 2:\r\n                            _a = _b.sent();\r\n                            return [3 /*break*/ , 5];\r\n                        case 3:\r\n                            return [4 /*yield*/ , extractFaces(this.input, detections)];\r\n                        case 4:\r\n                            _a = _b.sent();\r\n                            _b.label = 5;\r\n                        case 5:\r\n                            faces = _a;\r\n                            return [4 /*yield*/ , Promise.all(faces.map(function(face) { return _this.landmarkNet.detectLandmarks(face); }))];\r\n                        case 6:\r\n                            faceLandmarksByFace = _b.sent();\r\n                            faces.forEach(function(f) { return f instanceof wt && f.dispose(); });\r\n                            return [2 /*return*/ , parentResults.map(function(parentResult, i) {\r\n                                return extendWithFaceLandmarks(parentResult, faceLandmarksByFace[i]);\r\n                            })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        DetectAllFaceLandmarksTask.prototype.withFaceExpressions = function() {\r\n            return new PredictAllFaceExpressionsWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        DetectAllFaceLandmarksTask.prototype.withAgeAndGender = function() {\r\n            return new PredictAllAgeAndGenderWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        DetectAllFaceLandmarksTask.prototype.withFaceDescriptors = function() {\r\n            return new ComputeAllFaceDescriptorsTask(this, this.input);\r\n        };\r\n        return DetectAllFaceLandmarksTask;\r\n    }(DetectFaceLandmarksTaskBase));\r\n    var DetectSingleFaceLandmarksTask = /** @class */ (function(_super) {\r\n        __extends(DetectSingleFaceLandmarksTask, _super);\r\n\r\n        function DetectSingleFaceLandmarksTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        DetectSingleFaceLandmarksTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var parentResult, detection, faces, _a, landmarks;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , this.parentTask];\r\n                        case 1:\r\n                            parentResult = _b.sent();\r\n                            if (!parentResult) {\r\n                                return [2 /*return*/ ];\r\n                            }\r\n                            detection = parentResult.detection;\r\n                            if (!(this.input instanceof wt)) return [3 /*break*/ , 3];\r\n                            return [4 /*yield*/ , extractFaceTensors(this.input, [detection])];\r\n                        case 2:\r\n                            _a = _b.sent();\r\n                            return [3 /*break*/ , 5];\r\n                        case 3:\r\n                            return [4 /*yield*/ , extractFaces(this.input, [detection])];\r\n                        case 4:\r\n                            _a = _b.sent();\r\n                            _b.label = 5;\r\n                        case 5:\r\n                            faces = _a;\r\n                            return [4 /*yield*/ , this.landmarkNet.detectLandmarks(faces[0])];\r\n                        case 6:\r\n                            landmarks = _b.sent();\r\n                            faces.forEach(function(f) { return f instanceof wt && f.dispose(); });\r\n                            return [2 /*return*/ , extendWithFaceLandmarks(parentResult, landmarks)];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        DetectSingleFaceLandmarksTask.prototype.withFaceExpressions = function() {\r\n            return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        DetectSingleFaceLandmarksTask.prototype.withAgeAndGender = function() {\r\n            return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this, this.input);\r\n        };\r\n        DetectSingleFaceLandmarksTask.prototype.withFaceDescriptor = function() {\r\n            return new ComputeSingleFaceDescriptorTask(this, this.input);\r\n        };\r\n        return DetectSingleFaceLandmarksTask;\r\n    }(DetectFaceLandmarksTaskBase));\r\n\r\n    var DetectFacesTaskBase = /** @class */ (function(_super) {\r\n        __extends(DetectFacesTaskBase, _super);\r\n\r\n        function DetectFacesTaskBase(input, options) {\r\n            if (options === void 0) { options = new SsdMobilenetv1Options(); }\r\n            var _this = _super.call(this) || this;\r\n            _this.input = input;\r\n            _this.options = options;\r\n            return _this;\r\n        }\r\n        return DetectFacesTaskBase;\r\n    }(ComposableTask));\r\n    var DetectAllFacesTask = /** @class */ (function(_super) {\r\n        __extends(DetectAllFacesTask, _super);\r\n\r\n        function DetectAllFacesTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        DetectAllFacesTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var _a, input, options, faceDetectionFunction;\r\n                return __generator(this, function(_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _a = this, input = _a.input, options = _a.options;\r\n                            if (!(options instanceof MtcnnOptions)) return [3 /*break*/ , 2];\r\n                            return [4 /*yield*/ , nets.mtcnn.forward(input, options)];\r\n                        case 1:\r\n                            return [2 /*return*/ , (_b.sent())\r\n                                .map(function(result) { return result.detection; })\r\n                            ];\r\n                        case 2:\r\n                            faceDetectionFunction = options instanceof TinyFaceDetectorOptions ?\r\n\r\n                                function(input) { return nets.tinyFaceDetector.locateFaces(input, options); } :\r\n                                (options instanceof SsdMobilenetv1Options ?\r\n\r\n                                    function(input) { return nets.ssdMobilenetv1.locateFaces(input, options); } :\r\n                                    (options instanceof TinyYolov2Options ?\r\n\r\n                                        function(input) { return nets.tinyYolov2.locateFaces(input, options); } :\r\n                                        null));\r\n                            if (!faceDetectionFunction) {\r\n                                throw new Error('detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options');\r\n                            }\r\n                            return [2 /*return*/ , faceDetectionFunction(input)];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        DetectAllFacesTask.prototype.runAndExtendWithFaceDetections = function() {\r\n            var _this = this;\r\n            return new Promise(function(res) {\r\n                return __awaiter(_this, void 0, void 0, function() {\r\n                    var detections;\r\n                    return __generator(this, function(_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                return [4 /*yield*/ , this.run()];\r\n                            case 1:\r\n                                detections = _a.sent();\r\n                                return [2 /*return*/ , res(detections.map(function(detection) { return extendWithFaceDetection({}, detection); }))];\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        DetectAllFacesTask.prototype.withFaceLandmarks = function(useTinyLandmarkNet) {\r\n            if (useTinyLandmarkNet === void 0) { useTinyLandmarkNet = false; }\r\n            return new DetectAllFaceLandmarksTask(this.runAndExtendWithFaceDetections(), this.input, useTinyLandmarkNet);\r\n        };\r\n        DetectAllFacesTask.prototype.withFaceExpressions = function() {\r\n            return new PredictAllFaceExpressionsTask(this.runAndExtendWithFaceDetections(), this.input);\r\n        };\r\n        DetectAllFacesTask.prototype.withAgeAndGender = function() {\r\n            return new PredictAllAgeAndGenderTask(this.runAndExtendWithFaceDetections(), this.input);\r\n        };\r\n        return DetectAllFacesTask;\r\n    }(DetectFacesTaskBase));\r\n    var DetectSingleFaceTask = /** @class */ (function(_super) {\r\n        __extends(DetectSingleFaceTask, _super);\r\n\r\n        function DetectSingleFaceTask() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        DetectSingleFaceTask.prototype.run = function() {\r\n            return __awaiter(this, void 0, void 0, function() {\r\n                var faceDetections, faceDetectionWithHighestScore;\r\n                return __generator(this, function(_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            return [4 /*yield*/ , new DetectAllFacesTask(this.input, this.options)];\r\n                        case 1:\r\n                            faceDetections = _a.sent();\r\n                            faceDetectionWithHighestScore = faceDetections[0];\r\n                            faceDetections.forEach(function(faceDetection) {\r\n                                if (faceDetection.score > faceDetectionWithHighestScore.score) {\r\n                                    faceDetectionWithHighestScore = faceDetection;\r\n                                }\r\n                            });\r\n                            return [2 /*return*/ , faceDetectionWithHighestScore];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        DetectSingleFaceTask.prototype.runAndExtendWithFaceDetection = function() {\r\n            var _this = this;\r\n            return new Promise(function(res) {\r\n                return __awaiter(_this, void 0, void 0, function() {\r\n                    var detection;\r\n                    return __generator(this, function(_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                return [4 /*yield*/ , this.run()];\r\n                            case 1:\r\n                                detection = _a.sent();\r\n                                return [2 /*return*/ , res(detection ? extendWithFaceDetection({}, detection) : undefined)];\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        DetectSingleFaceTask.prototype.withFaceLandmarks = function(useTinyLandmarkNet) {\r\n            if (useTinyLandmarkNet === void 0) { useTinyLandmarkNet = false; }\r\n            return new DetectSingleFaceLandmarksTask(this.runAndExtendWithFaceDetection(), this.input, useTinyLandmarkNet);\r\n        };\r\n        DetectSingleFaceTask.prototype.withFaceExpressions = function() {\r\n            return new PredictSingleFaceExpressionsTask(this.runAndExtendWithFaceDetection(), this.input);\r\n        };\r\n        DetectSingleFaceTask.prototype.withAgeAndGender = function() {\r\n            return new PredictSingleAgeAndGenderTask(this.runAndExtendWithFaceDetection(), this.input);\r\n        };\r\n        return DetectSingleFaceTask;\r\n    }(DetectFacesTaskBase));\r\n\r\n    function detectSingleFace(input, options) {\r\n        if (options === void 0) { options = new SsdMobilenetv1Options(); }\r\n        return new DetectSingleFaceTask(input, options);\r\n    }\r\n\r\n    function detectAllFaces(input, options) {\r\n        if (options === void 0) { options = new SsdMobilenetv1Options(); }\r\n        return new DetectAllFacesTask(input, options);\r\n    }\r\n\r\n    // export allFaces API for backward compatibility\r\n    function allFacesSsdMobilenetv1(input, minConfidence) {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.warn('allFacesSsdMobilenetv1 is deprecated and will be removed soon, use the high level api instead');\r\n                        return [4 /*yield*/ , detectAllFaces(input, new SsdMobilenetv1Options(minConfidence ? { minConfidence: minConfidence } : {}))\r\n                            .withFaceLandmarks()\r\n                            .withFaceDescriptors()\r\n                        ];\r\n                    case 1:\r\n                        return [2 /*return*/ , _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function allFacesTinyYolov2(input, forwardParams) {\r\n        if (forwardParams === void 0) { forwardParams = {}; }\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.warn('allFacesTinyYolov2 is deprecated and will be removed soon, use the high level api instead');\r\n                        return [4 /*yield*/ , detectAllFaces(input, new TinyYolov2Options(forwardParams))\r\n                            .withFaceLandmarks()\r\n                            .withFaceDescriptors()\r\n                        ];\r\n                    case 1:\r\n                        return [2 /*return*/ , _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function allFacesMtcnn(input, forwardParams) {\r\n        if (forwardParams === void 0) { forwardParams = {}; }\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            return __generator(this, function(_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.warn('allFacesMtcnn is deprecated and will be removed soon, use the high level api instead');\r\n                        return [4 /*yield*/ , detectAllFaces(input, new MtcnnOptions(forwardParams))\r\n                            .withFaceLandmarks()\r\n                            .withFaceDescriptors()\r\n                        ];\r\n                    case 1:\r\n                        return [2 /*return*/ , _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    var allFaces = allFacesSsdMobilenetv1;\r\n\r\n    function euclideanDistance(arr1, arr2) {\r\n        if (arr1.length !== arr2.length)\r\n            throw new Error('euclideanDistance: arr1.length !== arr2.length');\r\n        var desc1 = Array.from(arr1);\r\n        var desc2 = Array.from(arr2);\r\n        return Math.sqrt(desc1\r\n            .map(function(val, i) { return val - desc2[i]; })\r\n            .reduce(function(res, diff) { return res + Math.pow(diff, 2); }, 0));\r\n    }\r\n\r\n    var FaceMatcher = /** @class */ (function() {\r\n        function FaceMatcher(inputs, distanceThreshold) {\r\n            if (distanceThreshold === void 0) { distanceThreshold = 0.6; }\r\n            this._distanceThreshold = distanceThreshold;\r\n            var inputArray = Array.isArray(inputs) ? inputs : [inputs];\r\n            if (!inputArray.length) {\r\n                throw new Error(\"FaceRecognizer.constructor - expected atleast one input\");\r\n            }\r\n            var count = 1;\r\n            var createUniqueLabel = function() { return \"person \" + count++; };\r\n            this._labeledDescriptors = inputArray.map(function(desc) {\r\n                if (desc instanceof LabeledFaceDescriptors) {\r\n                    return desc;\r\n                }\r\n                if (desc instanceof Float32Array) {\r\n                    return new LabeledFaceDescriptors(createUniqueLabel(), [desc]);\r\n                }\r\n                if (desc.descriptor && desc.descriptor instanceof Float32Array) {\r\n                    return new LabeledFaceDescriptors(createUniqueLabel(), [desc.descriptor]);\r\n                }\r\n                throw new Error(\"FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>\");\r\n            });\r\n        }\r\n        Object.defineProperty(FaceMatcher.prototype, \"labeledDescriptors\", {\r\n            get: function() { return this._labeledDescriptors; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FaceMatcher.prototype, \"distanceThreshold\", {\r\n            get: function() { return this._distanceThreshold; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        FaceMatcher.prototype.computeMeanDistance = function(queryDescriptor, descriptors) {\r\n            return descriptors\r\n                .map(function(d) { return euclideanDistance(d, queryDescriptor); })\r\n                .reduce(function(d1, d2) { return d1 + d2; }, 0) /\r\n                (descriptors.length || 1);\r\n        };\r\n        FaceMatcher.prototype.matchDescriptor = function(queryDescriptor) {\r\n            var _this = this;\r\n            return this.labeledDescriptors\r\n                .map(function(_a) {\r\n                    var descriptors = _a.descriptors,\r\n                        label = _a.label;\r\n                    return new FaceMatch(label, _this.computeMeanDistance(queryDescriptor, descriptors));\r\n                })\r\n                .reduce(function(best, curr) { return best.distance < curr.distance ? best : curr; });\r\n        };\r\n        FaceMatcher.prototype.findBestMatch = function(queryDescriptor) {\r\n            var bestMatch = this.matchDescriptor(queryDescriptor);\r\n            return bestMatch.distance < this.distanceThreshold ?\r\n                bestMatch :\r\n                new FaceMatch('unknown', bestMatch.distance);\r\n        };\r\n        FaceMatcher.prototype.toJSON = function() {\r\n            return {\r\n                distanceThreshold: this.distanceThreshold,\r\n                labeledDescriptors: this.labeledDescriptors.map(function(ld) { return ld.toJSON(); })\r\n            };\r\n        };\r\n        FaceMatcher.fromJSON = function(json) {\r\n            var labeledDescriptors = json.labeledDescriptors\r\n                .map(function(ld) { return LabeledFaceDescriptors.fromJSON(ld); });\r\n            return new FaceMatcher(labeledDescriptors, json.distanceThreshold);\r\n        };\r\n        return FaceMatcher;\r\n    }());\r\n\r\n    function createMtcnn(weights) {\r\n        var net = new Mtcnn();\r\n        net.extractWeights(weights);\r\n        return net;\r\n    }\r\n\r\n    function createTinyFaceDetector(weights) {\r\n        var net = new TinyFaceDetector();\r\n        net.extractWeights(weights);\r\n        return net;\r\n    }\r\n\r\n    function resizeResults(results, dimensions) {\r\n        var _a = new Dimensions(dimensions.width, dimensions.height),\r\n            width = _a.width,\r\n            height = _a.height;\r\n        if (width <= 0 || height <= 0) {\r\n            throw new Error(\"resizeResults - invalid dimensions: \" + JSON.stringify({ width: width, height: height }));\r\n        }\r\n        if (Array.isArray(results)) {\r\n            return results.map(function(obj) { return resizeResults(obj, { width: width, height: height }); });\r\n        }\r\n        if (isWithFaceLandmarks(results)) {\r\n            var resizedDetection = results.detection.forSize(width, height);\r\n            var resizedLandmarks = results.unshiftedLandmarks.forSize(resizedDetection.box.width, resizedDetection.box.height);\r\n            return extendWithFaceLandmarks(extendWithFaceDetection(results, resizedDetection), resizedLandmarks);\r\n        }\r\n        if (isWithFaceDetection(results)) {\r\n            return extendWithFaceDetection(results, results.detection.forSize(width, height));\r\n        }\r\n        if (results instanceof FaceLandmarks || results instanceof FaceDetection) {\r\n            return results.forSize(width, height);\r\n        }\r\n        return results;\r\n    }\r\n\r\n    exports.AgeGenderNet = AgeGenderNet;\r\n    exports.BoundingBox = BoundingBox;\r\n    exports.Box = Box;\r\n    exports.ComposableTask = ComposableTask;\r\n    exports.ComputeAllFaceDescriptorsTask = ComputeAllFaceDescriptorsTask;\r\n    exports.ComputeFaceDescriptorsTaskBase = ComputeFaceDescriptorsTaskBase;\r\n    exports.ComputeSingleFaceDescriptorTask = ComputeSingleFaceDescriptorTask;\r\n    exports.DetectAllFaceLandmarksTask = DetectAllFaceLandmarksTask;\r\n    exports.DetectAllFacesTask = DetectAllFacesTask;\r\n    exports.DetectFaceLandmarksTaskBase = DetectFaceLandmarksTaskBase;\r\n    exports.DetectFacesTaskBase = DetectFacesTaskBase;\r\n    exports.DetectSingleFaceLandmarksTask = DetectSingleFaceLandmarksTask;\r\n    exports.DetectSingleFaceTask = DetectSingleFaceTask;\r\n    exports.Dimensions = Dimensions;\r\n    exports.FACE_EXPRESSION_LABELS = FACE_EXPRESSION_LABELS;\r\n    exports.FaceDetection = FaceDetection;\r\n    exports.FaceDetectionNet = FaceDetectionNet;\r\n    exports.FaceExpressionNet = FaceExpressionNet;\r\n    exports.FaceExpressions = FaceExpressions;\r\n    exports.FaceLandmark68Net = FaceLandmark68Net;\r\n    exports.FaceLandmark68TinyNet = FaceLandmark68TinyNet;\r\n    exports.FaceLandmarkNet = FaceLandmarkNet;\r\n    exports.FaceLandmarks = FaceLandmarks;\r\n    exports.FaceLandmarks5 = FaceLandmarks5;\r\n    exports.FaceLandmarks68 = FaceLandmarks68;\r\n    exports.FaceMatch = FaceMatch;\r\n    exports.FaceMatcher = FaceMatcher;\r\n    exports.FaceRecognitionNet = FaceRecognitionNet;\r\n    exports.LabeledBox = LabeledBox;\r\n    exports.LabeledFaceDescriptors = LabeledFaceDescriptors;\r\n    exports.Mtcnn = Mtcnn;\r\n    exports.MtcnnOptions = MtcnnOptions;\r\n    exports.NetInput = NetInput;\r\n    exports.NeuralNetwork = NeuralNetwork;\r\n    exports.ObjectDetection = ObjectDetection;\r\n    exports.Point = Point;\r\n    exports.PredictedBox = PredictedBox;\r\n    exports.Rect = Rect;\r\n    exports.SsdMobilenetv1 = SsdMobilenetv1;\r\n    exports.SsdMobilenetv1Options = SsdMobilenetv1Options;\r\n    exports.TinyFaceDetector = TinyFaceDetector;\r\n    exports.TinyFaceDetectorOptions = TinyFaceDetectorOptions;\r\n    exports.TinyYolov2 = TinyYolov2;\r\n    exports.TinyYolov2Options = TinyYolov2Options;\r\n    exports.allFaces = allFaces;\r\n    exports.allFacesMtcnn = allFacesMtcnn;\r\n    exports.allFacesSsdMobilenetv1 = allFacesSsdMobilenetv1;\r\n    exports.allFacesTinyYolov2 = allFacesTinyYolov2;\r\n    exports.awaitMediaLoaded = awaitMediaLoaded;\r\n    exports.bufferToImage = bufferToImage;\r\n    exports.computeFaceDescriptor = computeFaceDescriptor;\r\n    exports.createCanvas = createCanvas;\r\n    exports.createCanvasFromMedia = createCanvasFromMedia;\r\n    exports.createFaceDetectionNet = createFaceDetectionNet;\r\n    exports.createFaceRecognitionNet = createFaceRecognitionNet;\r\n    exports.createMtcnn = createMtcnn;\r\n    exports.createSsdMobilenetv1 = createSsdMobilenetv1;\r\n    exports.createTinyFaceDetector = createTinyFaceDetector;\r\n    exports.createTinyYolov2 = createTinyYolov2;\r\n    exports.detectAllFaces = detectAllFaces;\r\n    exports.detectFaceLandmarks = detectFaceLandmarks;\r\n    exports.detectFaceLandmarksTiny = detectFaceLandmarksTiny;\r\n    exports.detectLandmarks = detectLandmarks;\r\n    exports.detectSingleFace = detectSingleFace;\r\n    exports.draw = index$1;\r\n    exports.env = env;\r\n    exports.euclideanDistance = euclideanDistance;\r\n    exports.extendWithAge = extendWithAge;\r\n    exports.extendWithFaceDescriptor = extendWithFaceDescriptor;\r\n    exports.extendWithFaceDetection = extendWithFaceDetection;\r\n    exports.extendWithFaceExpressions = extendWithFaceExpressions;\r\n    exports.extendWithFaceLandmarks = extendWithFaceLandmarks;\r\n    exports.extendWithGender = extendWithGender;\r\n    exports.extractFaceTensors = extractFaceTensors;\r\n    exports.extractFaces = extractFaces;\r\n    exports.fetchImage = fetchImage;\r\n    exports.fetchJson = fetchJson;\r\n    exports.fetchNetWeights = fetchNetWeights;\r\n    exports.fetchOrThrow = fetchOrThrow;\r\n    exports.getContext2dOrThrow = getContext2dOrThrow;\r\n    exports.getMediaDimensions = getMediaDimensions;\r\n    exports.imageTensorToCanvas = imageTensorToCanvas;\r\n    exports.imageToSquare = imageToSquare;\r\n    exports.inverseSigmoid = inverseSigmoid;\r\n    exports.iou = iou;\r\n    exports.isMediaElement = isMediaElement;\r\n    exports.isMediaLoaded = isMediaLoaded;\r\n    exports.isWithAge = isWithAge;\r\n    exports.isWithFaceDetection = isWithFaceDetection;\r\n    exports.isWithFaceExpressions = isWithFaceExpressions;\r\n    exports.isWithFaceLandmarks = isWithFaceLandmarks;\r\n    exports.isWithGender = isWithGender;\r\n    exports.loadAgeGenderModel = loadAgeGenderModel;\r\n    exports.loadFaceDetectionModel = loadFaceDetectionModel;\r\n    exports.loadFaceExpressionModel = loadFaceExpressionModel;\r\n    exports.loadFaceLandmarkModel = loadFaceLandmarkModel;\r\n    exports.loadFaceLandmarkTinyModel = loadFaceLandmarkTinyModel;\r\n    exports.loadFaceRecognitionModel = loadFaceRecognitionModel;\r\n    exports.loadMtcnnModel = loadMtcnnModel;\r\n    exports.loadSsdMobilenetv1Model = loadSsdMobilenetv1Model;\r\n    exports.loadTinyFaceDetectorModel = loadTinyFaceDetectorModel;\r\n    exports.loadTinyYolov2Model = loadTinyYolov2Model;\r\n    exports.loadWeightMap = loadWeightMap;\r\n    exports.locateFaces = locateFaces;\r\n    exports.matchDimensions = matchDimensions;\r\n    exports.minBbox = minBbox;\r\n    exports.mtcnn = mtcnn;\r\n    exports.nets = nets;\r\n    exports.nonMaxSuppression = nonMaxSuppression;\r\n    exports.normalize = normalize;\r\n    exports.padToSquare = padToSquare;\r\n    exports.predictAgeAndGender = predictAgeAndGender;\r\n    exports.recognizeFaceExpressions = recognizeFaceExpressions;\r\n    exports.resizeResults = resizeResults;\r\n    exports.resolveInput = resolveInput;\r\n    exports.shuffleArray = shuffleArray;\r\n    exports.sigmoid = sigmoid;\r\n    exports.ssdMobilenetv1 = ssdMobilenetv1;\r\n    exports.tf = tfCore_esm;\r\n    exports.tinyFaceDetector = tinyFaceDetector;\r\n    exports.tinyYolov2 = tinyYolov2;\r\n    exports.toNetInput = toNetInput;\r\n    exports.utils = index;\r\n    exports.validateConfig = validateConfig;\r\n\r\n    Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n})));\r\n//# sourceMappingURL=face-api.js.map",{"ruleId":"2881","severity":1,"message":"2882","line":1,"column":17,"nodeType":"2883","messageId":"2884","endLine":1,"endColumn":26},{"ruleId":"2881","severity":1,"message":"2885","line":1,"column":28,"nodeType":"2883","messageId":"2884","endLine":1,"endColumn":36},{"ruleId":"2881","severity":1,"message":"2886","line":3,"column":8,"nodeType":"2883","messageId":"2884","endLine":3,"endColumn":20},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":663827},{"ruleId":"2891","severity":2,"message":"2892","line":1,"column":107,"nodeType":"2883","messageId":"2893","endLine":1,"endColumn":113},{"ruleId":"2891","severity":2,"message":"2892","line":1,"column":118,"nodeType":"2883","messageId":"2893","endLine":1,"endColumn":124},{"ruleId":"2894","severity":2,"message":"2895","line":1,"column":148,"nodeType":"2883","messageId":"2896","endLine":1,"endColumn":152},{"ruleId":"2897","severity":1,"message":"2898","line":1,"column":195,"nodeType":"2889","messageId":"2899","endLine":1,"endColumn":208,"fix":"2900"},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":258,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":260},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":290,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":292},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":440,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":516},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":446,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":447},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":510,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":515,"fix":"2913"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":923,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":924},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1128,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1129},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1246,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1247},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1324,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1325},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1353,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":1376},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1362,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1363},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1392,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":1419},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1405,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1406},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":1531,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":1533},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":1542,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":1544},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1602,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":1619},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1614,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1615},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1645,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":1672},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1657,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1658},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1678,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":1709},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1695,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1696},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1741,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":1752},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":1748,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":1749},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":1882,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":2044},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":2008,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":2009},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":2137,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":2138},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":2185,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":2262},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":2248,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":2249},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":2353,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":2354},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":2770,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":2853},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":2785,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":2786},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":3139,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":3193},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":3152,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":3153},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":3585,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":3586},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":3910,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":3999},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":3923,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":3924},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":4035,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":4042,"fix":"2914"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":4045,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":4052,"fix":"2915"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":4469,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":4541},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":4530,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":4531},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":4619,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":4664},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":4638,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":4639},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":4740,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":4742},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":4894,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":4980},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":4912,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":4913},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":5127,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":5128},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":5179,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":5181},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":5185,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":5187},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":5522,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":5524},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":5851,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":5852},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":6431,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":6433},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":6545,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":6546},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":6775,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":6776},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":7172,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":7241},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":7228,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":7229},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":7242,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":7276},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":8029,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":8031},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":8044,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":8046},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":8061,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":8063},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":8089,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":8091},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":8106,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":8108},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":8118,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":8120},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":8460,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":8461},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":8892,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":8894},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":9169,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":9170},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":9205,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":9207},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":9220,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":9222},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":9220,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":9222},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":9245,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":9247},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":9258,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":9260},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":9283,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":9285},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":9772,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":9781,"fix":"2922"},{"ruleId":"2923","severity":1,"message":"2924","line":1,"column":9772,"nodeType":"2911","messageId":"2925","endLine":1,"endColumn":9781},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":10482,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":10483},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":10568,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":10569},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":10832,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":10869},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":10855,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":10856},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":10891,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":10892},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":11395,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":11396},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":12128,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":12436},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":12301,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":12302},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":12330,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":12434},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":12386,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":12387},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":12440,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":12441},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":12465,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":12528},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":12484,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":12485},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":12521,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":12527,"fix":"2926"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":13385,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":13534},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":13406,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":13407},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":14268,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":14327},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":14302,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":14303},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":14349,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":14350},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":14634,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":14635},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":15010,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":15057},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15039,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15040},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15127,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15128},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15203,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15204},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15353,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15354},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15442,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15443},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15527,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15528},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15616,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15617},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15709,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15710},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":15798,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":15799},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":16034,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":16143},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":16103,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":16104},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":16342,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":16432},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":16411,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":16412},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":16612,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":16940},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":16664,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":16665},{"ruleId":"2931","severity":1,"message":"2932","line":1,"column":16911,"nodeType":"2889","messageId":"2933","endLine":1,"endColumn":16921},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":17337,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":17499},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":17389,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":17390},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":17441,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":17442},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":17537,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":17607},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18073,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18074},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18154,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18155},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18239,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18240},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18323,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18324},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18407,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18408},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18531,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18532},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18611,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18612},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18693,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18694},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":18776,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":18777},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":19350,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":19351},{"ruleId":"2934","severity":1,"message":"2935","line":1,"column":19667,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":19668},{"ruleId":"2934","severity":1,"message":"2935","line":1,"column":19701,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":19702},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":19751,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":19810},{"ruleId":"2934","severity":1,"message":"2935","line":1,"column":19754,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":19755},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":19762,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":19763},{"ruleId":"2934","severity":1,"message":"2935","line":1,"column":19788,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":19789},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":19839,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":19898},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":19850,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":19851},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20062,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20063},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20191,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20192},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20361,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20362},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20437,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20438},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20543,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20544},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20667,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20668},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20752,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20753},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20899,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20900},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":20982,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":20983},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21061,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21062},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21198,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21199},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21299,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21300},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21379,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21380},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21455,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21456},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21553,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21554},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21802,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21803},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":21914,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":21915},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22033,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22034},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22158,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22159},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22283,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22284},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22403,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22404},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22524,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22525},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22644,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22645},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22763,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22764},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22883,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22884},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":22985,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":22986},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23087,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23088},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23163,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23164},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23244,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23245},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23327,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23328},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23404,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23405},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23485,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23486},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23566,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23567},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23647,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23648},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23728,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23729},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23809,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23810},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23890,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23891},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":23970,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":23971},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24055,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24056},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24141,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24142},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24226,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24227},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24315,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24316},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24404,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24405},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24493,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24494},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24578,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24579},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24659,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24660},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24760,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24761},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24861,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24862},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":24947,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":24948},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25038,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25039},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25125,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25126},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25208,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25209},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25292,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25293},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25377,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25378},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25466,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25467},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25559,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25560},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25650,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25651},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25739,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25740},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25833,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25834},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":25932,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":25933},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26029,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26030},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26117,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26118},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26204,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26205},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26291,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26292},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26377,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26378},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26455,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26456},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26528,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26529},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26603,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26604},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26678,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26679},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26753,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26754},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26829,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26830},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26908,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26909},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":26985,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":26986},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27059,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27060},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27133,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27134},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27207,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27208},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27282,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27283},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27357,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27358},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27434,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27435},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27516,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27517},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27595,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27596},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27678,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27679},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27763,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27764},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27838,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27839},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27912,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27913},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":27985,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":27986},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28061,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28062},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28167,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28168},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28247,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28248},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28330,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28331},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28414,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28415},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28497,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28498},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28580,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28581},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28657,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28658},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28729,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28730},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28801,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28802},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28874,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28875},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":28948,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":28949},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29022,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29023},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29096,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29097},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29170,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29171},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29244,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29245},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29319,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29320},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29395,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29396},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29471,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29472},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29545,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29546},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29619,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29620},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29690,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29691},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29789,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29790},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":29894,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":29895},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30008,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30009},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30141,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30142},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30277,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30278},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30419,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30420},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30572,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30573},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30689,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30690},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":30852,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":30853},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31005,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31006},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31100,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31101},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31209,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31210},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31377,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31378},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31466,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31467},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31596,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31597},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31701,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31702},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31802,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31803},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":31888,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":31889},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32026,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32027},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32230,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32231},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32315,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32316},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32397,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32398},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32480,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32481},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32564,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32565},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":32615,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":32812},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":32627,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":32628},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":33276,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":33344},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":33300,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":33301},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":33378,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":33431},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":33404,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":33405},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":33531,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":33532},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":33543,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":34144},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":33677,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":33678},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":34723,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":34724},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":34726,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":34727},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":34741,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":34742},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":34762,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":34763},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":34802,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":34831},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":34839,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":34846,"fix":"2938"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":34847,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":34848},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":35243,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":35711},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":35392,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":35433},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":35418,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":35419},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":35433,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":35511},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":35585,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":35586},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":35607,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":35608},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":36771,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":36772},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":37052,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":37537},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":37195,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":37196},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":37341,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":37342},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":37355,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":37369},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":37358,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":37359},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":37369,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":37405},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":37405,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":37536},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":37456,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":37457},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":38072,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":38073},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":38533,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":38534},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":38718,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":39036},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":38798,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":38799},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":39722,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":39879},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":39738,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":39739},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":40493,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":40494},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":40566,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":40567},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":40587,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":40588},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":40934,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":40935},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":41525,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":41563},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":41543,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":41544},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":42250,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":42251},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":42432,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":42433},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":42435,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":42436},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":43135,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":43168},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":43149,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":43150},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":43312,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":43313},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":43369,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":43409},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":43399,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":43400},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":43548,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":43549},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":43596,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":43691},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":43614,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":43615},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":43898,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":43899},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":44079,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":44080},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":44173,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":44369},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":44237,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":44238},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":44370,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":44447},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":44416,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":44417},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":44528,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":44602},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":44551,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":44552},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":44644,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":44859},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":45055,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":45168},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":45076,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":45077},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":45270,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":45271},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":45653,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":45654},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":46315,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":46547},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":46338,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":46339},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":46492,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":46493},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":46595,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":46596},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":46633,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":46716},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":46689,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":46690},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":46880,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":46948},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":46893,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":46894},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":47202,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":47377},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":47316,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":47317},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":47452,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":47453},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":47944,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":47945},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":48026,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":48027},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":48026,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":48092},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":48075,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":48076},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":48083,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":48084},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":48172,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":48173},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":48193,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":48194},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":48219,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":48220},{"ruleId":"2944","severity":1,"message":"2945","line":1,"column":48245,"nodeType":"2883","messageId":"2946","endLine":1,"endColumn":48246},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":48252,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":48277},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":48265,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":48266},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":48268,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":48269},{"ruleId":"2944","severity":1,"message":"2945","line":1,"column":48367,"nodeType":"2883","messageId":"2946","endLine":1,"endColumn":48368},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":48444,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":48484},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":48454,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":48455},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":48758,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":49806},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":48834,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":48835},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":48966,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":48967},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":49695,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":49723},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":49711,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":49712},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":49999,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":50000},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":50152,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":50153},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":50405,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":50406},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":50610,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":50611},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":50817,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":51225},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":51023,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":51024},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":51292,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":51293},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":51576,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":51684},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":51612,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":51613},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":51677,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":51678},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":51832,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":51833},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":52050,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":52051},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":52100,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":52106,"fix":"2947"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":52121,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":52205},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":52153,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":52154},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":52205,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":52281},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":52226,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":52227},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":52340,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":52437},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":52350,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":52351},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":52431,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":52437,"fix":"2948"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":52452,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":52811},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":52479,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":52480},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":52702,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":52713,"fix":"2949"},{"ruleId":"2894","severity":2,"message":"2895","line":1,"column":53032,"nodeType":"2883","messageId":"2896","endLine":1,"endColumn":53036},{"ruleId":"2894","severity":2,"message":"2895","line":1,"column":53089,"nodeType":"2883","messageId":"2896","endLine":1,"endColumn":53093},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":53195,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":53196},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":53295,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":53297},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":53318,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":53320},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":53369,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":54222},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":53586,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":53587},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":54823,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":54854},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":54841,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":54842},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":54859,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":54860},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":55665,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":55666},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":56049,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":56050},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":56052,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":56501},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":56086,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":56087},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":56575,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":56577},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":56596,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":56598},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":57316,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":57317},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":57449,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":57450},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":57681,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":57682},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":57883,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":57884},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":58117,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":58291},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":58142,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":58143},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":58317,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":58318},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":58582,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":58583},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":58668,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":58669},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":58795,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":58796},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":58885,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":58886},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":59097,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":59098},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":59344,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":59345},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":59724,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":59725},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":60224,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":60345},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":60231,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":60232},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":60546,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":60628},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":60584,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":60585},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":60650,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":60813},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":60711,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":60712},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":60833,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":60999},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":60894,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":60895},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":61843,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":61844},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":62065,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":62067},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":62079,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":62081},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":62116,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":62117},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":62304,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":62305},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":62764,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":62765},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":62850,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":62852},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":64095,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":64235},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":64124,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":64125},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":64263,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":64373},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":64297,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":64298},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":64483,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":64484},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":64626,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":64758},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":64655,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":64656},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":64786,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":64896},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":64820,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":64821},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":65006,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":65007},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":65622,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":65746},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":65629,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":65630},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":65889,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":66100},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":65953,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":65954},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":67178,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":67180},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":67184,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":67186},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":67200,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":67224},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":67216,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":67217},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":67328,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":67329},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":67353,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":67611},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":67480,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":67481},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":67823,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":67824},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":67873,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":67875},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":67880,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":67882},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":67880,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":67882},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":67895,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":67897},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":68057,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":68058},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":68098,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":68099},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":68176,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":68177},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":68196,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":68198},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":68263,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":68265},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":68608,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":68609},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":69451,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":69452},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":69676,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":69927},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":69832,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":69833},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":70705,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":70706},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":70755,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":70756},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":70823,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":70824},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":70826,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":75164},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":70905,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":70906},{"ruleId":"2934","severity":1,"message":"2950","line":1,"column":72579,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":72580},{"ruleId":"2934","severity":1,"message":"2950","line":1,"column":72955,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":72956},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73024,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73025,"suggestions":"2955"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73105,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73106,"suggestions":"2956"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73170,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73171,"suggestions":"2957"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73197,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73198,"suggestions":"2958"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73218,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73219,"suggestions":"2959"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73256,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73257,"suggestions":"2960"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73290,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73291,"suggestions":"2961"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73359,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73360,"suggestions":"2962"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73382,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73383,"suggestions":"2963"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73387,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73388,"suggestions":"2964"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73425,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73426,"suggestions":"2965"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73438,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73439,"suggestions":"2966"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73463,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73464,"suggestions":"2967"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73472,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73473,"suggestions":"2968"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73505,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73506,"suggestions":"2969"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73529,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73530,"suggestions":"2970"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73633,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73634,"suggestions":"2971"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73677,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73678,"suggestions":"2972"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73698,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73699,"suggestions":"2973"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73740,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73741,"suggestions":"2974"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73793,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73794,"suggestions":"2975"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73890,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73891,"suggestions":"2976"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":73975,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":73976,"suggestions":"2977"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74010,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74011,"suggestions":"2978"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74039,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74040,"suggestions":"2979"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74045,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74046,"suggestions":"2980"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74067,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74068,"suggestions":"2981"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74076,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74077,"suggestions":"2982"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74150,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74151,"suggestions":"2983"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74157,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74158,"suggestions":"2984"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74172,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74173,"suggestions":"2985"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74196,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74197,"suggestions":"2986"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74208,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74209,"suggestions":"2987"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74216,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74217,"suggestions":"2988"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74266,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74267,"suggestions":"2989"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74270,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74271,"suggestions":"2990"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74323,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74324,"suggestions":"2991"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74329,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74330,"suggestions":"2992"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74344,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74345,"suggestions":"2993"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74348,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74349,"suggestions":"2994"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74370,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74371,"suggestions":"2995"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74382,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74383,"suggestions":"2996"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74443,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74444,"suggestions":"2997"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74501,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74502,"suggestions":"2998"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74548,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74549,"suggestions":"2999"},{"ruleId":"2951","severity":1,"message":"2952","line":1,"column":74564,"nodeType":"2953","messageId":"2954","endLine":1,"endColumn":74565,"suggestions":"3000"},{"ruleId":"2934","severity":1,"message":"2950","line":1,"column":74574,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":74575},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":75366,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":75367},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":75768,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":75769},{"ruleId":"3001","severity":1,"message":"3002","line":1,"column":76357,"nodeType":"3003","messageId":"3004","endLine":1,"endColumn":76472},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":76513,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":76514},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":76621,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":76623},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":76635,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":76637},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":77104,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":77105},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":77484,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":77485},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":77863,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":77864},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":78243,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":78244},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":78625,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":78626},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":79033,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":79034},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":79104,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":79105},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":79266,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":79267},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":79658,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":79659},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":79745,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":79747},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":79750,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":79752},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":79755,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":79757},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":79760,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":79762},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":79823,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":79849},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":79841,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":79842},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":80361,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":80449},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":80378,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":80379},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":80480,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":80682},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":80660,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":80661},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":81375,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":81376},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":81412,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":81414},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":81817,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":81818},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":81850,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":82702},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":82009,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":82053},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82019,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82020},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":82094,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":82338},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82174,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82175},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82202,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82203},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82369,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82370},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82510,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82511},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":82723,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":83360},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":82768,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":82903},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82773,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82774},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":82819,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":82820},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":82823,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":82825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82842,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82843},{"ruleId":"2901","severity":1,"message":"3006","line":1,"column":82867,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":82870},{"ruleId":"2901","severity":1,"message":"3006","line":1,"column":82872,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":82873},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":82874,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":82875},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":82876,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":82879},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":82933,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":82964},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82955,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82956},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":82995,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":82996},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":83221,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":83222},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":83381,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":84106},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":83426,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":83598},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":83453,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83454},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":83457,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83460},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":83476,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":83477},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":83528,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83529},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":83532,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83534},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":83537,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83538},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":83539,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83541},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":83546,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":83547},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":83628,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":83694},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":83650,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":83651},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":83652,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":83654},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":83672,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83674},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":83676,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83677},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":83676,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83677},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":83680,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":83683},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":83725,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":83726},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":83967,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":83968},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":84127,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":84996},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":84167,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":84597},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":84218,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":84219},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84231,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84232},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84233,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84235},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":84253,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84254},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":84255,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84258},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":84276,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84277},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":84278,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84281},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84298,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84299},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84300,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84302},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84328,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84329},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84330,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84332},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":84353,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":84354},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":84447,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84449},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":84451,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84452},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84451,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84452},{"ruleId":"2901","severity":1,"message":"3005","line":1,"column":84476,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":84478},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":84540,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":84542},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":84636,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":84637},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":84676,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":84684,"fix":"3009"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":84869,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":84870},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":85017,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":86057},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":85057,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":85652},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85128,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85129},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":85217,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":85218},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":85219,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":85222},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85228,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85229},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":85350,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":85492},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85387,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85388},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":85465,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":85467},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":85513,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":85515},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":85523,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":85525},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":85553,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":85629},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85566,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85567},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":85629,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":85646},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85634,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85635},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85683,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85684},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":85739,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":85747,"fix":"3010"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":85932,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":85933},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":86078,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":86839},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":86123,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":86382},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86179,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86181},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86183,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86184},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86183,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86184},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86185,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86188},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":86191,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":86192},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86203,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86205},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86207,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86208},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86207,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86208},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86209,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86212},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86231,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86233},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86235,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86236},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86235,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86236},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86237,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86240},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86262,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86264},{"ruleId":"2901","severity":1,"message":"3008","line":1,"column":86266,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86267},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86266,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86267},{"ruleId":"2901","severity":1,"message":"3007","line":1,"column":86268,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":86271},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":86286,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":86287},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":86412,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":86443},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":86434,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":86435},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":86474,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":86475},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":86700,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":86701},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":86860,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":88359},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":87009,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":87033},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87018,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87019},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":87044,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":87061},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87048,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87049},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":87140,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":87142},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":87215,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":87217},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":87233,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":87235},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87401,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87402},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":87457,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":87465,"fix":"3011"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87550,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87551},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87707,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87708},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":87755,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":87757},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":87878,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":87915},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87907,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87908},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":87969,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":88020},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":87981,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":87982},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88032,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88033},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88076,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88077},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88274,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88275},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":88362,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":88442},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88372,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88373},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88562,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88563},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":88720,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":88825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88747,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88748},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":88790,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":88792},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":88817,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":88819},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":88847,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":88849},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":88874,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":88876},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":88911,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":88912},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":89210,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":89211},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":89240,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":89241},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":89361,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":89362},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":89766,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":89767},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":90123,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":90163},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":90135,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":90136},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":90186,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":90306},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":90213,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":90214},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":90330,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":90491},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":90341,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":90342},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":90594,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":90595},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":90647,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":90692},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":90665,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":90666},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":90799,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":91444},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":90852,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":90853},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":91200,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":91201},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":91356,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":91406},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":91685,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":91686},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":91824,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":91826},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":92227,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":92229},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":93024,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":93026},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":93044,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":93046},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":93044,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":93046},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":93058,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":93060},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":93526,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":93582},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":93543,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":93544},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":93854,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":93855},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":94226,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":94227},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":94403,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":94405},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":94903,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":94904},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":94961,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":95002},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":94986,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":94987},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":95862,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":95863},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":96034,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":96035},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":96606,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":96607},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":96761,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":96762},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":96953,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":96954},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":97162,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":97163},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":97669,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":97670},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":97926,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":97927},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":98215,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":98277},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":98232,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":98233},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":98452,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":98566},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":98465,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":98466},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":98906,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":98907},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":99111,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":99113},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":99648,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":99649},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":99730,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":99999},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":99792,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":99793},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":100330,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":100331},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":101192,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":101193},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":101419,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":101444},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":101436,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":101437},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":101470,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":101620},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":101594,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":101595},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":101819,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":101880},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":101856,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":101857},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":102083,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":102127},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":102176,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":102178},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":102200,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":102245},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":102217,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":102218},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":103358,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":103379},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":103365,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":103366},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":105340,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":105613},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":105476,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":105477},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":105863,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":105887},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":105877,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":105878},{"ruleId":"2901","severity":1,"message":"3012","line":1,"column":106035,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":106036},{"ruleId":"2901","severity":1,"message":"3012","line":1,"column":106037,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":106039},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":106137,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":106138},{"ruleId":"2901","severity":1,"message":"3012","line":1,"column":106195,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":106196},{"ruleId":"2901","severity":1,"message":"3012","line":1,"column":106197,"nodeType":"2918","messageId":"2904","endLine":1,"endColumn":106199},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":106297,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":106298},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":106731,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":106984},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":106810,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":106811},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":106820,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":106822},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":106838,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":106840},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":107021,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":107022},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":107398,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":107776},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":107645,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":107646},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":107846,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":107847},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":108297,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":108298},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":108497,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":108498},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":108750,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":108751},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":108992,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":108993},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":109182,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":109183},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":109232,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":109270},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":109251,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":109252},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":109384,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":109385},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":110181,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":110182},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":114671,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":114672},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":115021,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":115022},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":118502,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":118575},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":118516,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":118517},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":118544,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":118555,"fix":"3013"},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":118936,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":118938},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":118943,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":118945},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":119122,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":119123},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":119635,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":119672},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":119651,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":119652},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":119733,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":119770},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":119750,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":119751},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":119828,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":119878},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":119846,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":119847},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":119948,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":119976},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":119954,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":119955},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":120045,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":120072},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":120051,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":120052},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":120649,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":120650},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":120672,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":120685},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":120678,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":120679},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":120706,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":120740},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":120722,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":120723},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":120951,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":121043},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":120997,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":120998},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":121221,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":121222},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":121532,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":121582},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":121550,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":121551},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":121662,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":121697},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":121668,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":121669},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":121766,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":121800},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":121772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":121773},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":122590,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":122591},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":122623,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":122643},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":122629,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":122630},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":122955,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":123085},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":123016,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":123017},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":123297,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":123298},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":124508,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":124509},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":124651,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":124652},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":124822,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":124823},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":125878,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":125904},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":125889,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":125890},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":126146,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":126147},{"ruleId":"2934","severity":1,"message":"3014","line":1,"column":126619,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126620},{"ruleId":"2934","severity":1,"message":"3015","line":1,"column":126623,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126624},{"ruleId":"2934","severity":1,"message":"3016","line":1,"column":126627,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126628},{"ruleId":"2934","severity":1,"message":"3017","line":1,"column":126638,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126639},{"ruleId":"2934","severity":1,"message":"3015","line":1,"column":126649,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126650},{"ruleId":"2934","severity":1,"message":"3016","line":1,"column":126651,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126652},{"ruleId":"2934","severity":1,"message":"3016","line":1,"column":126653,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126654},{"ruleId":"2934","severity":1,"message":"3016","line":1,"column":126656,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126657},{"ruleId":"2934","severity":1,"message":"3014","line":1,"column":126659,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126660},{"ruleId":"2934","severity":1,"message":"3017","line":1,"column":126661,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126662},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":126665,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":126666},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":126683,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":126946},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":126712,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":126713},{"ruleId":"2934","severity":1,"message":"3018","line":1,"column":126776,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126777},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":126860,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":126880},{"ruleId":"2934","severity":1,"message":"2935","line":1,"column":126898,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126899},{"ruleId":"2934","severity":1,"message":"3019","line":1,"column":126902,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126903},{"ruleId":"2934","severity":1,"message":"3020","line":1,"column":126914,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126915},{"ruleId":"2934","severity":1,"message":"3018","line":1,"column":126916,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126917},{"ruleId":"2934","severity":1,"message":"3018","line":1,"column":126922,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126923},{"ruleId":"2934","severity":1,"message":"3018","line":1,"column":126927,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126928},{"ruleId":"2934","severity":1,"message":"2935","line":1,"column":126929,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126930},{"ruleId":"2934","severity":1,"message":"3020","line":1,"column":126938,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126939},{"ruleId":"2934","severity":1,"message":"3019","line":1,"column":126942,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":126943},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":127013,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":127014},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":127563,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":127565},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":127582,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":127584},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":127740,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":127741},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":128349,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":128380},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":128364,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":128365},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":128419,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":128420},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":128684,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":128776},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":128703,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":128704},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":129106,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":129240},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":129125,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":129126},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":129656,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":129722},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":129698,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":129699},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":132049,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":132050},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":133633,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":133791},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":133981,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":133982},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":135985,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":136040},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":136003,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":136004},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":148898,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":148899},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":151435,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151436},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":151438,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":151439},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151444,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151445},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":151457,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151458},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":151475,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151476},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151560,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151561},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151591,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151592},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151668,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151669},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151807,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151808},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151817,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151818},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":151861,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":151862},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":152458,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152459},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":152461,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":152462},{"ruleId":"2934","severity":1,"message":"3023","line":1,"column":152462,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152463},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":152466,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152467},{"ruleId":"2934","severity":1,"message":"3023","line":1,"column":152479,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152480},{"ruleId":"2934","severity":1,"message":"3023","line":1,"column":152497,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152498},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":152506,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152507},{"ruleId":"2934","severity":1,"message":"3026","line":1,"column":152509,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152510},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":152521,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152522},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":152540,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152541},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":152662,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152663},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":152672,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152673},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":152716,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152717},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":152764,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152765},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":152791,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152792},{"ruleId":"2934","severity":1,"message":"3026","line":1,"column":152828,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152829},{"ruleId":"2934","severity":1,"message":"3026","line":1,"column":152863,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":152864},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":153096,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":153210},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":153194,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":153195},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":153863,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":153864},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":153939,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":153940},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":153970,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":153971},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":154043,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154044},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":154182,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154183},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":154192,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154193},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":154231,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154232},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":154280,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154281},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154284,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154285},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154367,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154368},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154377,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154378},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":154407,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154408},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154532,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154533},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154542,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154543},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154588,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154589},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":154662,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154663},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154787,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154788},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154797,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154798},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":154843,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":154844},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":155027,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155028},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":155037,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155038},{"ruleId":"2934","severity":1,"message":"3028","line":1,"column":155081,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155082},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":155127,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155128},{"ruleId":"2934","severity":1,"message":"3025","line":1,"column":155164,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155165},{"ruleId":"2934","severity":1,"message":"3029","line":1,"column":155225,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155226},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":155228,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":155229},{"ruleId":"2934","severity":1,"message":"3030","line":1,"column":155229,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155230},{"ruleId":"2934","severity":1,"message":"3029","line":1,"column":155365,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155366},{"ruleId":"2934","severity":1,"message":"3029","line":1,"column":155375,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155376},{"ruleId":"2934","severity":1,"message":"3029","line":1,"column":155419,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155420},{"ruleId":"2934","severity":1,"message":"3030","line":1,"column":155449,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155450},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":155509,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155510},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":155512,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":155513},{"ruleId":"2934","severity":1,"message":"3026","line":1,"column":155513,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155514},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":155633,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155634},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":155643,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155644},{"ruleId":"2934","severity":1,"message":"3024","line":1,"column":155687,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155688},{"ruleId":"2934","severity":1,"message":"3026","line":1,"column":155717,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155718},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":155781,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155782},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":155784,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":155785},{"ruleId":"2934","severity":1,"message":"3023","line":1,"column":155785,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155786},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":155901,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155902},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":155941,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155942},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":155987,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":155988},{"ruleId":"2934","severity":1,"message":"3023","line":1,"column":156019,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156020},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":156123,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156124},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":156126,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":156127},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":156127,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156128},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":156257,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156258},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":156267,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156268},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":156311,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156312},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":156343,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":156344},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":156643,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":156644},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":157558,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":157559},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":157649,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":157843},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":157673,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":157674},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":157880,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":157984},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":157910,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":157911},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":160958,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":161011},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":160983,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":160984},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":162516,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":162569},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":162541,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":162542},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":164625,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":164704},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":164644,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":164645},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":164716,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":164796},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":164808,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":165287},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":164885,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":164886},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":165313,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":165414},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":165333,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":165334},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":165432,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":165512},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":165530,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":165987},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":165607,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":165608},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":166007,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":166507},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":166059,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":166060},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":166527,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":166827},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":166555,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":166556},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":166849,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":166993},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":166867,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":166868},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":167231,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":167232},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":168148,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":168668},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":168182,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":168183},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":168684,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":168782},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":168703,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":168704},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":169063,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":169301},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":169113,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":169114},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":169319,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":169406},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":169339,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":169340},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":170042,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":170847},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":170145,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":170146},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":171159,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":171328},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":171274,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":171275},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":171417,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":171586},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":171532,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":171533},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":171608,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":172006},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":171632,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":171633},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":172022,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":172360},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":172046,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":172047},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":172475,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":172536},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":172504,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":172505},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":173955,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":174012},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":173984,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":173985},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":175889,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":175950},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":175918,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":175919},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":177267,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":177324},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":177296,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":177297},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":179214,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":179275},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":179243,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":179244},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":180389,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":180446},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":180418,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":180419},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":181949,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":182065},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":181967,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":181968},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":182319,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":182564},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":182609,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":186598},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":182643,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":182644},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":184644,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":184646},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":185003,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":185005},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":185667,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":185669},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":186614,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":186671},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":186642,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":186643},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":188799,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":188801},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":188967,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":188969},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":189378,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":189380},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":189988,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":190104},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":190006,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":190007},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":190308,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":190553},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":190598,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":192006},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":190632,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":190633},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":192028,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":192186},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":192046,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":192047},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":192697,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":192698},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":192720,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":192722},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":194228,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":194230},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":194239,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":195389},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":194242,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":194244},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":194245,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":194247},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":194250,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":194252},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":194253,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":194255},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":194253,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":194255},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":194258,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":194260},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":194261,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":194263},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":194266,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":194268},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":195396,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":197215},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":195468,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":195470},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":197215,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":197589},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":197683,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":197897},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":197942,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":198616},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":197976,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":197977},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":198640,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":198706},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":198685,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":198686},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":202405,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":202503},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":202429,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":202430},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":202522,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":203124},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":202540,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":202541},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":203140,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":203238},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":203164,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":203165},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":203257,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":203889},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":203275,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":203276},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":203905,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":204148},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":203929,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":203930},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":204164,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":204218},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":204188,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":204189},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":204229,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":204395},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":204247,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":204248},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":204411,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":204507},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":204435,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":204436},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":204518,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":204765},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":204536,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":204537},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":204785,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":204829},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":204803,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":204804},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":204888,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":205703},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":204923,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":204924},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":205723,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":205809},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":205741,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":205742},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":208404,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":208449},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":208410,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":208411},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":209532,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":209630},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":209601,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":209602},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":209654,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":209879},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":209673,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":209674},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":209899,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":210600},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":209923,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":209924},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":210620,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":210705},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":210635,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":210636},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":211752,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":211753},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":212840,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":212841},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":212938,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":213281},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":212994,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":212995},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":213303,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":213648},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":213359,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":213360},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":213854,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":213855},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":214080,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":214081},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":214338,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":214339},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":214489,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":214490},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":214698,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":214699},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":215426,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":215864},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":215626,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":215627},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":215878,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":216300},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":215924,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":215925},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":216386,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":216387},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":216517,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":216518},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":216654,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":216655},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":216754,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":216803},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":216776,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":216777},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":216863,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":216935},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":216885,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":216886},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":217026,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":217027},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":217156,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":217157},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":217260,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":217436},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":217282,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":217283},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":217997,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":217998},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":218254,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":218368},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":218263,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":218264},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":218981,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":218982},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":219261,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":219394},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":219283,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":219284},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":219443,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":219609},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":219465,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":219466},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":219684,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":219685},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":219842,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":219843},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":219996,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":219997},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":220081,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":220169},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":220103,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":220104},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":220694,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":220761},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":220749,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":220750},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":220802,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":220849},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":220824,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":220825},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":220863,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":220980},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":220895,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":220896},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":221048,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":221126},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":221070,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":221071},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":221406,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":221407},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":221839,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":221840},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":221949,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":221950},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":222346,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":222607},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":222519,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":222520},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":222921,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":222922},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":222924,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":222925},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":222983,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":222984},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":223012,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":223013},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":223070,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":223071},{"ruleId":"2934","severity":1,"message":"2937","line":1,"column":223091,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":223092},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":223295,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":223296},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":223777,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":223912},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":223824,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":223825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":223885,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":223886},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":223964,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":224052},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":223986,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":223987},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":224105,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":224254},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":224387,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":224388},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":224486,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":224671},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":224521,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":224522},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":224748,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":224834},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":224770,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":224771},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":225088,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":225195},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":225111,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":225112},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":225414,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":225415},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":225766,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":225767},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":226118,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":226119},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":226397,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":226579},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":226437,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":226438},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":227150,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":227236},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":227174,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":227175},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":228866,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":228911},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":228890,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":228891},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":228991,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":229618},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":229075,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":229076},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":229642,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":231489},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":229694,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":229695},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":231513,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":231600},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":231537,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":231538},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":231680,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":234050},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":231764,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":231765},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":234066,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":234128},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":234100,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":234101},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":235805,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":235867},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":235839,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":235840},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":238218,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":238417},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":238236,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":238237},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":238614,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":238828},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":238873,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":239695},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":238907,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":238908},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":239717,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":240018},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":239747,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":239748},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":240034,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":240101},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":240058,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":240059},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":240362,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":240399},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":240381,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":240382},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":241439,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":241526},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":241498,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":241499},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":241552,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":242116},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":241580,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":241581},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":242136,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":242222},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":242160,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":242161},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":243114,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":243242},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":243138,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":243139},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":244067,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":244342},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":244085,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":244086},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":244389,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":244390},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":244715,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":244716},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":248167,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":248169},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":248423,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":248425},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":248694,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":248696},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":249072,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":249073},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":249475,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":249476},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":253663,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":253665},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":253940,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":253942},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":254237,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":254239},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":254758,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":254851},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":255387,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":255846},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":255855,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":257676},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":255970,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":255971},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":256912,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":256914},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":257150,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":257152},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":257395,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":257397},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":257694,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":257780},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":257718,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":257719},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":257827,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":258312},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":257830,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":257832},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":257856,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":257857},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":258747,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":258818},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":258772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":258773},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":261825,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":261870},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":261849,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":261850},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":263279,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":263366},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":263303,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":263304},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":266674,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":266745},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":266699,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":266700},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":269254,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":269299},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":269278,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":269279},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":270366,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":270367},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":270407,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":270408},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":270410,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":270411},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":270426,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":270427},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":270436,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":270437},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":270441,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":270442},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":270457,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":270458},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":270477,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":270478},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":270811,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":270878},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":270835,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":270836},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":271163,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271164},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":271166,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":271167},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":271167,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271168},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":271186,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271187},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":271196,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271197},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":271201,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271202},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":271210,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271211},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":271212,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271213},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":271225,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271226},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":271227,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":271228},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":272299,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":272374},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":272354,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":272355},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":273576,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":276478},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":273676,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":273677},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":274989,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":274991},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":275451,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":275453},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":275919,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":275921},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":276541,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":276542},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":276729,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":276766},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":276744,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":276745},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":276766,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":276787},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":276776,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":276777},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":277282,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":277284},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":277352,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":277354},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":277434,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":277502},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":277463,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":277464},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":277752,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":278061},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":277942,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":277943},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":278258,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":278259},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":278805,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":278807},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":278875,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":278877},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":279041,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":279042},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":279123,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":279180},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":279145,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":279146},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":279250,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":279251},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":279282,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":279283},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":279823,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":279948},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":279872,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":279873},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":280089,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":280113},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":280102,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":280103},{"ruleId":"2944","severity":1,"message":"3031","line":1,"column":280625,"nodeType":"2883","messageId":"2946","endLine":1,"endColumn":280626},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":280722,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":280813},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":280744,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":280745},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":280835,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":280954},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":280847,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":280848},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":280970,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":281080},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":280999,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":281000},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":282313,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":282314},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":282316,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":282317},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":282361,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":282362},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":282405,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":282406},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":282733,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":282771},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":282751,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":282752},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":283295,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":283333},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":283313,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":283314},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":283726,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":283793},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":283750,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":283751},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":283876,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":283877},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":284632,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":284894},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":284656,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":284657},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":284912,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":285212},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":284936,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":284937},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":285228,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":285295},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":285252,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":285253},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":285411,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":285435},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":285418,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":285419},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":286912,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":286913},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":287396,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":287397},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":287589,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":287590},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":287684,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":287685},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":288155,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":288156},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":288282,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":288283},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":288578,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":290045},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":288660,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":288661},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":288732,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":288733},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":288850,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":288851},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":289222,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":289223},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":289494,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":289513},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":289502,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":289503},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":289513,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":289595},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":289619,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":289620},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":289657,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":289763},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":289752,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":289753},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":289763,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":290044},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":289812,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":289813},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":290794,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":290795},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":291114,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":291115},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":291231,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":292171},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":291280,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":291281},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":291851,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":291852},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":292020,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":292109},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":292098,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":292099},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":292109,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":292170},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":292142,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":292143},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":292562,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":292563},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":292950,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":292951},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":293066,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":293133},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":293110,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":293111},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":293274,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":293276},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":293288,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":293290},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":293319,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":293480},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":293506,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":293563},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":293520,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":293521},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":293627,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":293628},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":293970,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":293971},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":294312,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":294313},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":294743,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":294744},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":295038,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":295083},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":295056,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":295057},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":295105,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":295210},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":295137,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":295138},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":295178,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":295180},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":295198,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":295200},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":295313,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":295314},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":296901,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":296957},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":296928,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":296929},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":297478,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":297479},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":298113,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":298114},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":298441,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":298472},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":298516,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":298517},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":300804,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":300841},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":301708,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":301754},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":302010,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":302011},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":302501,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":302502},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":310917,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":310918},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":316346,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":316347},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":316483,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":316484},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":322259,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":322261},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":322286,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":322288},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":322774,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":322922},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":322797,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":322798},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":323196,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":323197},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":323673,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":323699},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":323685,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":323686},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":324328,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":324329},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":325170,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":325172},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":325238,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":325239},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":325458,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":325460},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":325481,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":325482},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":326369,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":326370},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":327290,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":327291},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":327391,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":327393},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":327409,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":327411},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":328557,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":328558},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":330164,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":330165},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":330489,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":330490},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":331010,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":331011},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":331758,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":331759},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":332040,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":332041},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":332185,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":332186},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":332229,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":332230},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":332629,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":332676},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":332697,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":332699},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":332716,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":332799},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":332762,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":332763},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":332859,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":332943},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":332874,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":332875},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":332974,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":332975},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":333728,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":333729},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":334160,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":334245},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":334193,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":334194},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":334426,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":334427},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":334447,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":334493},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":334467,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":334468},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":334538,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":335266},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":334638,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":334639},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":335016,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":335087},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":335066,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":335067},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":335093,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":335216},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":335169,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":335170},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":335569,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":335570},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":335620,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":335655},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":335638,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":335639},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":335850,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":335851},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":335985,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":336411},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":336075,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":336151},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":336127,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":336128},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":336691,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":336692},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":336718,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":336719},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":337062,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":337063},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":337240,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":337366},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":337294,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":337295},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":337439,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":337620},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":337458,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":337459},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":337789,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":337790},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":338159,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":338160},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":338287,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":338397},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":338312,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":338313},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":338575,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":338586,"fix":"3032"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":338586,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":338587},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":338605,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":338616,"fix":"3033"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":338632,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":338643,"fix":"3034"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":338890,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":339024},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":338963,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":338964},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":339030,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":339103},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":339039,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":339040},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":339142,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":339143},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":339356,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":339362,"fix":"3035"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":339480,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":339481},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":339659,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":339703},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":339668,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":339669},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":339811,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":339812},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":340163,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":340164},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":340381,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":340382},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":340628,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":340629},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":340862,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":340863},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":341103,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":341104},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":341341,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":341342},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":341565,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":341566},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":342098,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":342099},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":342363,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":342364},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":342589,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":342590},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":342848,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":342849},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":342943,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":342944},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":343182,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":343183},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":343393,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":343394},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":343762,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":343763},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":343979,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":343980},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":344209,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":344210},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":344614,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":344615},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":344998,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":344999},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":345235,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":345236},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":346125,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":346126},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":346345,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":346346},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":346575,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":346576},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":346780,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":346781},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":347180,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":347181},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":347390,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":347391},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":347674,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":347675},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":348506,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":348507},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":349338,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":349339},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":350145,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":350732},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":350183,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":350184},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":350861,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":350862},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":351364,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":351365},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":351458,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":351459},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":351553,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":351554},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":351631,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":351632},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":352139,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":352287},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":352245,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":352246},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":352374,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":352375},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":352477,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":352478},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":352580,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":352581},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":352681,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":352682},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":352931,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":352932},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":353281,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":353282},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":353479,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":353480},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":353677,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":353678},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":353903,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":353904},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":354187,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":354211},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":354196,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":354197},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":354389,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":354390},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":354478,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":354479},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":354536,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":354732},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":354634,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":354635},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":354799,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":355043},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":354919,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":354920},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355194,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355195},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355341,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355342},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":355428,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":355452},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355437,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355438},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355550,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355551},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355716,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355717},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355852,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355853},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":355959,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":355960},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":356129,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":356130},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":356514,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":356538},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":356530,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":356531},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":356716,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":356717},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":356812,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":356836},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":356821,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":356822},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":356937,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":356938},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":357350,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":357351},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":357496,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":357497},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":357817,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":357818},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":357930,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":357931},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":358076,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":358077},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":358397,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":358398},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":358482,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":358506},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":358491,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":358492},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":358602,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":358603},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":358989,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":358990},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":359070,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":359094},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":359079,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":359080},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":359195,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":359196},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":359587,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":359588},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":359673,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":359697},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":359682,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":359683},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":359803,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":359804},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":359977,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":359978},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":360120,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":360121},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":360243,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":360244},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":360444,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":360445},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":360539,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":360563},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":360548,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":360549},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":360746,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":360747},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":360835,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":360836},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":361006,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":361007},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":361109,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":361110},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":361350,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":361351},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":361461,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":361462},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":361688,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":361689},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":361795,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":361796},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":362091,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":362092},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":362261,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":362262},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":362365,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":362366},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":362577,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":362578},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":362681,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":362682},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":362872,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":362873},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":363027,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":363028},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":363140,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":363141},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":363410,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":363411},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":363705,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":364231},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":364041,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":364042},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":364109,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":364110},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":364435,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":364468},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":364453,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":364454},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":364531,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":364564},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":364549,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":364550},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":364711,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":364712},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":365299,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":365300},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":365378,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":365379},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":365646,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":365782},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":365668,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":365669},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":365799,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":366202},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":365883,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":365884},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":366264,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":366676},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":366399,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":366400},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":366795,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":366796},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":367286,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":367387},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":367411,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":368003},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":367526,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":367527},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":368208,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":368248},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":368229,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":368230},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":368308,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":369068},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":368360,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":368361},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":369317,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":369362},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":369339,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":369340},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":369422,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":369813},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":369485,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":369486},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":369852,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":370107},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":369979,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":369980},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":370232,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":370233},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":370439,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":370440},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":370640,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":370688},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":370663,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":370664},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":370750,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":371421},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":370824,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":370825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":371523,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":371524},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":371901,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":372578},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":371970,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":371971},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":372923,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":373304},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":372981,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":372982},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":373378,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":373766},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":373501,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":373502},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":374071,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":374821},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":374134,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":374135},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":374945,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":374946},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":375377,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":375441},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":375773,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":375774},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":375912,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":375957},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":375933,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":375934},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":376154,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":376155},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":376268,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":376891},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":376374,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":376375},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":377467,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":377505},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":377485,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":377486},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":377551,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":377575},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":377560,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":377561},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":377797,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":378289},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":377957,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":377958},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":378505,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":378506},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":379013,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":379015},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":379025,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":379027},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":379025,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":379027},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":379037,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":379039},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":379338,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":379339},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":379818,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":379819},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":380259,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":380260},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":380431,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":380432},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":380603,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":380604},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":380775,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":380776},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":380847,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":381287},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":380910,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":380911},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":381477,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":381478},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":381674,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":382143},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":381778,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":381779},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":382412,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":382559},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":382430,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":382431},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":382572,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":382861},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":382635,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":382636},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":383166,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":383426},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":383270,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":383271},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":383443,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":383761},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":383551,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":383552},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":383977,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":383978},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":384186,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":384239},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":384204,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":384205},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":384274,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":384463},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":384337,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":384338},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":385422,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":385992},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":385496,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":385497},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":386093,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":386094},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":386315,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":387124},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":386501,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":386502},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":387504,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":388074},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":387578,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":387579},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":388315,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":388959},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":388445,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":388446},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":389180,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":389181},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":389362,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":389948},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":389597,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":389598},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":390335,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":390336},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":390517,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":390518},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":390695,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":390696},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":390873,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":390874},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":390960,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":390961},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":391123,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":391163},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":391143,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":391144},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":391226,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":391276},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":391424,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":391464},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":391444,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":391445},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":391527,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":391577},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":391818,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":391868},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":391966,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":391967},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":392231,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":392232},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":392299,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":392300},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":392410,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":392450},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":392430,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":392431},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":392651,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":392691},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":392671,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":392672},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":392751,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":392801},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":392876,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":392877},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":393033,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":393073},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":393053,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":393054},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":393314,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":393315},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":393400,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":393440},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":393420,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":393421},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":393500,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":393550},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":393625,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":393626},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":393785,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":393825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":393805,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":393806},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":394023,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":394063},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":394043,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":394044},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":394185,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":394235},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":394308,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":394309},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":394581,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":394621},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":394601,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":394602},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":394718,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":394768},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":395003,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":395004},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":395393,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":395394},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":395600,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":395601},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":395776,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":395777},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":396028,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":396029},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":396276,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":396277},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":396565,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":396566},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":397068,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":397141},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":397085,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":397086},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":397186,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":397455},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":397331,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":397332},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":397468,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":397532},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":397632,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":397633},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":397861,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":397929},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":397888,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":397889},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":397976,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":397977},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":398090,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":398092},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":398108,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":398110},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":399497,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":399529},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":399509,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":399510},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":399568,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":399596},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":399580,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":399581},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":399764,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":399840},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":399771,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":399772},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":400112,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":400113},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":400335,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":400404},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":400357,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":400386},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":400363,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":400364},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":400388,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":400389},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":400429,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":400492},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":400453,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":400454},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":400526,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":400544},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":400537,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":400538},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":400789,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":400826},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":400806,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":400807},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":401284,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":401285},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":402226,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":402266},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":402247,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":402248},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":402330,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":402392},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":402353,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":402354},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":402604,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":402605},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":402952,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":402953},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":403884,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":403885},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":404563,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":404564},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":405180,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":405181},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":405271,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":406299},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":405331,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":405332},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":405949,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":405950},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":406254,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":406255},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":406459,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":406496},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":406477,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":406478},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":406526,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":406549},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":406543,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":406544},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":406617,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":406631},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":406626,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":406627},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":406730,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":406825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":406748,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":406749},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":407003,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":407133},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":407035,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":407036},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":407316,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":407417},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":407365,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":407366},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":408198,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":408291},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":408243,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":408244},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":408499,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":408582},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":408539,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":408540},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":408703,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":408763},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":408720,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":408721},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":408837,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":408920},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":408877,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":408878},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":409065,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":409128},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":409085,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":409086},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":409198,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":409277},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":409236,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":409237},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":409561,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":409658},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":409608,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":409609},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":409755,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":409815},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":409772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":409773},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":409967,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":409968},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":410423,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":410483},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":410440,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":410441},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":410631,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":410632},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":410801,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":410802},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":411061,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":411062},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":411536,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":411537},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":411791,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":412458},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":412432,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":412433},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":412539,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":412540},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":412591,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":412593},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":412672,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":412674},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":413133,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":413155},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":413143,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":413144},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":413453,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":413567},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":413457,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":413458},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":413767,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":413828},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":413771,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":413772},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":414244,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":414245},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":414587,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":414606},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":414596,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":414597},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":414608,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":414609},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":414742,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":414811},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":414757,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":414758},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":414850,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":414851},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":415737,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":415738},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":416063,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":416283},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":416181,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":416182},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":416296,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":416360},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":416424,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":416425},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":416801,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":417146},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":416926,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":416927},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":417159,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":417223},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":417287,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":417288},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":417577,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":417637},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":417595,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":417596},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":417730,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":417784},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":417747,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":417748},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":418024,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":418102},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":418042,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":418043},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":418601,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":418624},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":418616,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":418617},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":418751,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":418752},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":419637,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":419638},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":419755,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":420074},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":419825,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":419826},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":419999,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":420000},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":420189,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":420190},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":420325,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":420665},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":420395,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":420396},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":420588,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":420589},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":420960,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":420961},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":421029,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":421053},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":421038,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":421039},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":421275,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":421785},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":421441,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":421442},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":421893,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":422007},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":421956,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":421957},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":422023,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":422081},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":422042,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":422043},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":422255,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":422256},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":422370,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":422371},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":423111,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":423112},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":423198,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":423199},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":423269,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":424064},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":423332,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":423333},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":424102,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":424227},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":424176,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":424177},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":424248,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":424306},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":424267,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":424268},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":424464,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":424465},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":424739,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":424740},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":425288,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":425289},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":425377,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":426156},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":425440,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":425441},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":426197,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":426331},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":426271,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":426272},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":426352,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":426410},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":426371,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":426372},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":426577,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":426578},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":426840,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":426841},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":429633,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":429776},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":429658,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":429659},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":430101,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":430633},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":430684,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":430685},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":431591,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":431655},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":431635,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":431636},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":431772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":431773},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":432163,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":432164},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":432398,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":432399},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":433612,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":433709},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":433665,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":433666},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":434140,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":434179},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":434169,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":434170},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":434464,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":434465},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":435528,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":435529},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":436503,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":436504},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":436886,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":436887},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":437017,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":437018},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":437126,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":437157},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":437137,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":437138},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":438109,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":438123},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":438406,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":438420},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":438493,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":438494},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":438976,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":438977},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":439110,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":439111},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":439236,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":439237},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":439370,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":439371},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":439501,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":439502},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":439641,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":439642},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":439969,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":439970},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":440100,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":440101},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":440664,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":440665},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":440743,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":440774},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":440754,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":440755},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":441043,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":441044},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":441172,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":441173},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":441244,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":441246},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":441249,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":441251},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":441249,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":441251},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":441255,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":441257},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":441306,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":441337},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":441317,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":441318},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":441606,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":441607},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":441713,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":441744},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":441724,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":441725},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":441979,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":442010},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":441990,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":441991},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":442295,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":442296},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":443765,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":443767},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":445664,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":445665},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":447593,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":447626},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":447619,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":447620},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":448854,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":448855},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":450426,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":450457},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":450443,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":450444},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":450799,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":450800},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":456676,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":456677},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":457472,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":457481},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":457476,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":457477},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":459127,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":459128},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":461503,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":461543},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":462261,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":462279},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":462988,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":462990},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":464839,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":464840},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":464998,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":464999},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":465991,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":465992},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":466807,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":466832},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":467755,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":467757},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":467988,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":467989},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":469373,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":469420},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":469384,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":469385},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":471253,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":471354},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":471305,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":471306},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":472110,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":472152},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":472136,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":472137},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":472893,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":472894},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":473367,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":473412},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":473389,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":473390},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":473653,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":473654},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":473790,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":473816},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":473801,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":473802},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":473978,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":473980},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":474192,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":474242},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":474215,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":474216},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":474406,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":474456},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":474429,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":474430},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":474509,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":474557},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":474532,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":474533},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":474688,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":474721},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":474704,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":474705},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":475001,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475002},{"ruleId":"2934","severity":1,"message":"3036","line":1,"column":475007,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475008},{"ruleId":"2934","severity":1,"message":"3037","line":1,"column":475011,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475012},{"ruleId":"2934","severity":1,"message":"2943","line":1,"column":475031,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475032},{"ruleId":"2934","severity":1,"message":"3036","line":1,"column":475033,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475034},{"ruleId":"2934","severity":1,"message":"3037","line":1,"column":475051,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475052},{"ruleId":"2934","severity":1,"message":"3037","line":1,"column":475068,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475069},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":475083,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":475144},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":475113,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":475114},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":475145,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":475195},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":475159,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":475160},{"ruleId":"2934","severity":1,"message":"3029","line":1,"column":475160,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475161},{"ruleId":"2934","severity":1,"message":"3030","line":1,"column":475164,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475165},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":475169,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475170},{"ruleId":"2934","severity":1,"message":"3038","line":1,"column":475177,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475178},{"ruleId":"2934","severity":1,"message":"3029","line":1,"column":475183,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475184},{"ruleId":"2934","severity":1,"message":"3027","line":1,"column":475185,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475186},{"ruleId":"2934","severity":1,"message":"3038","line":1,"column":475189,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475190},{"ruleId":"2934","severity":1,"message":"3030","line":1,"column":475194,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":475195},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":475266,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":475444},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":475362,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":475363},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":476702,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":476725},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":476713,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":476714},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":477092,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":477115},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":477103,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":477104},{"ruleId":"2934","severity":1,"message":"3039","line":1,"column":477993,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":477994},{"ruleId":"2934","severity":1,"message":"3039","line":1,"column":478034,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":478035},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":478052,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":478091},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":478076,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":478077},{"ruleId":"2934","severity":1,"message":"3039","line":1,"column":478113,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":478114},{"ruleId":"2934","severity":1,"message":"3039","line":1,"column":478128,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":478129},{"ruleId":"2934","severity":1,"message":"3039","line":1,"column":478133,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":478134},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":478298,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":478344},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":478322,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":478323},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":478438,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":478477},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":478462,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":478463},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":479084,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":479103},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":479093,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":479094},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":479522,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":479523},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":480151,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":480170},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":480160,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":480161},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":480437,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":480438},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":480517,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":480523,"fix":"3040"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":482079,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":482737},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":482097,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":482098},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":482754,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":482821},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":482778,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":482779},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":482846,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":483847},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":482864,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":482865},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":484214,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":484362},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":484396,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":484495},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":484435,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":484436},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":484612,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":484613},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":486142,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":486157,"fix":"3041"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":486158,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":486159},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":486326,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":486332,"fix":"3042"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":486839,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":486907},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":486864,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":486865},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":486882,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":486907,"fix":"3043"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":486951,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":486957,"fix":"3044"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":487810,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":487824},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":487819,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":487820},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":487864,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":487865},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":488401,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":488443},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":488427,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":488428},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":488445,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":488446},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":488711,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":488719,"fix":"3045"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":489032,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":489038,"fix":"3046"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":489039,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":489040},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":489500,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":489501},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":489586,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":489592,"fix":"3047"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":489593,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":489594},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":489640,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":489824},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":489708,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":489709},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":489847,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":489969},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":489953,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":489954},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":490242,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":490281},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":490261,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":490262},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":490533,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":490534},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":490614,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":491563},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":490716,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":490717},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":491325,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":491326},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":491380,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":491399},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":491388,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":491389},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":491399,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":491426},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":491450,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":491451},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":491506,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":491525},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":491514,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":491515},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":491525,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":491562},{"ruleId":"2894","severity":2,"message":"2895","line":1,"column":491777,"nodeType":"2883","messageId":"2896","endLine":1,"endColumn":491781},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":491990,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":492081},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":492035,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":492036},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":492179,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":492180},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":492218,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":492219},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":492811,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":493912},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":492853,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":492854},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":492976,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":493230},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493033,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493034},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493137,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493138},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493176,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493177},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":493356,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":493869},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":493502,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":493732},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493558,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493559},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":493629,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":493731},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493668,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493669},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493680,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493681},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493719,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493720},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493733,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493734},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493773},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":493986,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":493987},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":494098,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":494150},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":494123,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":494124},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":494345,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":494740},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":494387,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":494388},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":494486,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":494698},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":494605,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":494606},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":494644,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":494645},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":494940,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":494941},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":495011,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":495728},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495053,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495054},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":495157,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":495686},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495214,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495215},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":495360,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":495462},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495421,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495422},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":495481,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":495549},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495494,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495495},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495527,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495528},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495550,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495551},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":495589,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":495590},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":495841,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":495847,"fix":"3049"},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":496373,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":496374},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":496412,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":496413},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":496690,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":496764},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":496723,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":496724},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":496824,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":496825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":497361,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":497362},{"ruleId":"2931","severity":1,"message":"2932","line":1,"column":497789,"nodeType":"3050","messageId":"2933","endLine":1,"endColumn":497798},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":498191,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":498192},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":498362,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":498363},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":498539,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":498540},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":499122,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":499123},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":499378,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":499379},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":499477,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":499522},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":499493,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":499494},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":499523,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":499575},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":499548,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":499549},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":499749,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":499844},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":500045,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":500046},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":500181,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":500182},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":500336,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":500589},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":500425,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":500426},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":500656,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":500662,"fix":"3051"},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":500870,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":502063},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":501123,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":501124},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":501361,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":501362},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":501773,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":501774},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502000,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":502019},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502008,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502009},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":502019,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":502062},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502237,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502238},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":502295,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":502309,"fix":"3052"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502310,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":503436},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502558,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":503096},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502580,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":502658},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502608,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":502630},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502617,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502618},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502632,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502633},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502660,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502661},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":502717,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":502731,"fix":"3053"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502732,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":503092},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":502790,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":502980},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502796,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502797},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":502981,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":502982},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":503238,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":503239},{"ruleId":"3001","severity":1,"message":"3054","line":1,"column":503600,"nodeType":"3003","messageId":"3004","endLine":1,"endColumn":503845},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":503735,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":503736},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":504316,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":504491},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":504378,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":504379},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":504386,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":504388},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":504400,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":504402},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":504523,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":504981},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":504623,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":504624},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505091,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505092},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505095,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505096},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":505205,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":505746},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505250,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505251},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505441,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505442},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":505495,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":505516},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505505,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505506},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":505516,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":505628},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505574,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505575},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505652,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505653},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":505706,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":505727},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505716,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505717},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":505727,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":505745},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505825,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505826},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":505905,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":507108},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":505960,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":505961},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":506087,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":506171},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506094,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506095},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":506245,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":506328},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":506277,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":506302},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506308,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506309},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506409,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506410},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506599,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506600},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506606,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506607},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506747,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506748},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":506939,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":506965},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":506949,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":506950},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":506966,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":507099},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":507094,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":507095},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":507240,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":507241},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":507275,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":507276},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":507293,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":507294},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":507425,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":508336},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":507673,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":507685,"fix":"3055"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":507685,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":507686},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":508464,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":509795},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":508725,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":508774},{"ruleId":"3056","severity":1,"message":"3057","line":1,"column":508751,"nodeType":"3058","messageId":"3059","endLine":1,"endColumn":508759},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":508760,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":508761},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":508798,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":508799},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":508826,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":508827},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":509368,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":509369},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":509639,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":509674},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":509649,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":509650},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":509674,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":509794},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":509929,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":510409},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":510006,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510007},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":510009,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510010},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":510031,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510032},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":510033,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510034},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":510055,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510056},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":510069,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510070},{"ruleId":"2934","severity":1,"message":"3021","line":1,"column":510076,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510077},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":510078,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510079},{"ruleId":"2934","severity":1,"message":"3048","line":1,"column":510080,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510081},{"ruleId":"2934","severity":1,"message":"3022","line":1,"column":510092,"nodeType":"2883","messageId":"2936","endLine":1,"endColumn":510093},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":510168,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":510201},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":510174,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":510175},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":510212,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":510213},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":510394,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":510395},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":510509,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":510510},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":511489,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":511541},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":511514,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":511515},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":512166,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":513570},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":512653,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":512934},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":512818,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":512918},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":512824,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":512825},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":512929,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":512930},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":512973,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":513003},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":512993,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":512994},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":513212,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":513213},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":513488,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":513537},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":513521,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":513522},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":513539,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":513540},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":514478,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":514479},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":515023,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":515256},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":515046,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":515087},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":515063,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":515064},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":515087,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":515161},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":515213,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":515237},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":515230,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":515231},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":515486,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":515487},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":515661,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":516250},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":515670,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":515672},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":515675,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":515677},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":515780,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":515781},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":516448,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":516449},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":517784,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":517785},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":518094,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":519473},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":518144,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":518145},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":518306,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":518307},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":518478,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":518479},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":518556,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":518557},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":519087,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":519343},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":519101,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":519102},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":519447,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":519448},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":519684,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":519690,"fix":"3060"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":519691,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":519692},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":519854,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":520234},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":519970,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":519971},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":520425,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":520426},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":521135,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":521137},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":521149,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":521151},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":521297,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":521298},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":521619,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":521621},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":521721,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":521722},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":522484,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":522485},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":522624,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":522625},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":523048,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":523049},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":523605,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":523720},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":523641,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":523642},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":523704,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":523705},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":523760,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":523762},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":523786,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":523788},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":524007,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":524797},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":524129,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":524402},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":524263,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":524264},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":524694,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":524718},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":524705,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":524706},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":524770,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":524771},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":524831,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":524989},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":525097,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":525311},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":525182,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":525183},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":525424,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":525753},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":525507,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":525508},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":526058,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":526059},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":526250,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":526798},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":526771,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":526772},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":527024,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":527201},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":527308,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":527497},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":527391,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":527392},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":527826,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":527827},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":528028,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":528880},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":528084,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":528851},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":528140,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":528418},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":528277,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":528278},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":528662,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":528686},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":528673,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":528674},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":528765,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":528766},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":528853,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":528854},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":528914,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":529169},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":528937,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":528938},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":529277,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":529502},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":529373,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":529374},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":529622,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":530072},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":529705,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":529706},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":529720,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":529813},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":529766,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":529767},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":530406,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":530407},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":530510,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":530565},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":530537,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":530538},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":530761,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":531565},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":530852,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":531536},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":530908,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":531146},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":531022,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":531023},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":531365,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":531389},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":531376,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":531377},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":531454,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":531455},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":531538,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":531539},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":531599,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":531861},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":531622,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":531623},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":532495,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":532534},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":532515,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":532516},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":532583,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":532584},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":532700,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":532756},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":532728,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":532729},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":532884,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":533139},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":533112,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":533113},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":533182,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":533250},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":533201,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":533202},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":533402,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":533485},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":533592,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":533760},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":533985,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":533986},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":534090,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":534580},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":534458,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":534549},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":534525,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":534526},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":534553,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":534554},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":534614,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":534715},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":534630,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":534631},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":534871,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":535045},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":535152,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":535338},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":535235,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":535236},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":535670,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":535671},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":535821,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":537025},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":535943,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":536367},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":536082,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":536083},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":536750,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":536786},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":536761,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":536762},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":536870,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":536992},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":536945,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":536946},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":536998,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":536999},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":537059,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":537370},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":537161,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":537162},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":537478,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":537755},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":537569,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":537570},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":537868,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":538365},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":537951,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":537952},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":538677,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":538754},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":538695,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":538696},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":538799,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":538800},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":539160,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":539161},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":539232,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":539233},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":539363,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":539364},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":539497,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":539498},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":539611,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":539612},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":539760,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":539761},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":540056,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":540124},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":540117,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":540118},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":541227,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":541340},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":541269,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":541270},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":542051,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":542052},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":542344,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":542345},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":542456,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":542457},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":542901,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":542902},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":544106,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":544107},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":545530,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":545531},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":545545,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":545741},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":545635,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":545636},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":545823,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":545824},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":545958,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":545959},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":545973,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":546235},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":546125,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":546126},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":546440,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":546441},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":546603,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":546604},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":546674,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":546705},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":546691,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":546692},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":546755,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":546790},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":546772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":546773},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":546854,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":546856},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":546886,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":546888},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":547037,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":547114},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":547044,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":547045},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":547108,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":547113,"fix":"3061"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":547736,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":547737},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":547941,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":547942},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548059,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548060},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548137,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548138},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":548166,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":548189},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548175,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548176},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":548205,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":548232},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548218,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548219},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":548344,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":548346},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":548355,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":548357},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":548415,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":548432},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548427,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548428},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":548458,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":548485},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548470,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548471},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":548491,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":548522},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548508,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548509},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":548554,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":548565},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":548561,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":548562},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":549320,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":549348},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":549333,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":549334},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":549524,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":549526},{"ruleId":"2916","severity":1,"message":"2917","line":1,"column":549553,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":549555},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":550013,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":550015},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":550024,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":550026},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":551097,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":551116},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":551106,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":551107},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":551253,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":551254},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":553492,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":553493},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":554343,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":554344},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":555024,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":555140},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":555091,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":555092},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":555217,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":555218},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":556422,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":556558},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":556462,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":556463},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":557894,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":557895},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":558013,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":558014},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":558324,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":558325},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":559448,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":559449},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":560323,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":560431},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":560348,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":560349},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":560595,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":560597},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":560621,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":560623},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":561309,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":561311},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":561335,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":561337},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":561637,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":561638},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":561705,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":561735},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":561718,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":561719},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":561828,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":561829},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":562097,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":562098},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":562897,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":562930},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":562910,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":562911},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":563035,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":563036},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":563490,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":563491},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":564904,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":564909,"fix":"3062"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":565047,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":565052,"fix":"3063"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":565606,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":565635},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":565620,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":565621},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":565893,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":565894},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":566066,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":566357},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":566077,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":566078},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":566153,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":566158,"fix":"3064"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":566222,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":566227,"fix":"3065"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":566785,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":566910},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":566789,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":566790},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":567044,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":567232},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":567078,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":567079},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":568160,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":568277},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":568183,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":568184},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":568302,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":568415},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":568320,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":568321},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":568516,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":568587},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":568553,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":568554},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":568840,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":568892},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":568855,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":568856},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":569006,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":569066},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":569024,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":569025},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":569141,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":569143},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":569153,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":569155},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":569153,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":569155},{"ruleId":"2901","severity":1,"message":"2902","line":1,"column":569169,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":569171},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":569302,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":569418},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":569433,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":569549},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":569550,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":569608},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":569578,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":569579},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":569750,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":569764,"fix":"3066"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":569765,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":570021},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":569930,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":569989},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":569962,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":569963},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":569990,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":569991},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":570309,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":570310},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":570609,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":570610},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":570712,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":570938},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":570780,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":570781},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":570919,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":570920},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":571462,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":571463},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":573107,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":573108},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":573281,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":573283},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":573297,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":573299},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":573329,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":573330},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":573688,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":573689},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":573942,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":574410},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":573967,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":573968},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":574053,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":574054},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":574257,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":574258},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":574349,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":574408},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":574365,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":574366},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":574503,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":575354},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":574728,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":574729},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":575322,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":575323},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":575459,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":576079},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":575509,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":575510},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":575725,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":575746},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":575735,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":575736},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":575746,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":575767},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":575753,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":575767},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":575756,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":575757},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":575767,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":576078},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":575788,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":575789},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":576073,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":576074},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":576744,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":576939},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":577026,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":577098},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":577670,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":577802},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":577709,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":577710},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":577777,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":577778},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":578376,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":578397},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":578390,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":578391},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":579083,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":579123},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":579094,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":579095},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":579160,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":579360},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":579178,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":579179},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":579652,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":579788},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":579783,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":579784},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":579904,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":580114},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":580083,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":580084},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":580249,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":580738},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":580397,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":580398},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":580671,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":580672},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":580707,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":580708},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":580857,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":580893},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":580878,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":580879},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":580992,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":581028},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":581013,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":581014},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":581576,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":581631},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":581588,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":581589},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":581799,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":581800},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":582025,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":582026},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":582334,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":582335},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":582690,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":582691},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":582846,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":582847},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":582890,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":582949},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":582913,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":582914},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":583156,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":583157},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":583499,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":583500},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":583598,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":583599},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":583730,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":583731},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":584223,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":584224},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":584367,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":584368},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":584787,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":584788},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":584925,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":585027},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":584974,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":584975},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":585327,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":585328},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":585999,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":586000},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":586487,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":586576},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":586505,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":586506},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":586691,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":586727},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":586705,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":586706},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":587226,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":587227},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":587338,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":587339},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":587585,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":587586},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":587700,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":587701},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":588367,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":588469},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":588416,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":588417},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":588605,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":589022},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":588668,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":588669},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":588718,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":588719},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":588826,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":588911},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":588892,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":588893},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":588944,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":588945},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":589263,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":589269,"fix":"3067"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":589270,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":589271},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":589936,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":590093},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":589952,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":589953},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":590242,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":590731},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":590593,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":590594},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":590677,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":590728},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":590690,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":590691},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":590754,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":590816},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":590772,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":590773},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":591149,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":591605},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":591167,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":591168},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":594150,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":594151},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":594371,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":594372},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":594848,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":594849},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":594992,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":594993},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":595266,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":595368},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":595315,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":595316},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":595691,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":595692},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":595694,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":595754},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":595738,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":595739},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":596480,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":596582},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":596529,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":596530},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":596723,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":597394},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":596786,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":596787},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":596836,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":596837},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":597072,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":597299},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":597141,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":597142},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":597182,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":597183},{"ruleId":"3068","severity":1,"message":"3069","line":1,"column":597186,"nodeType":"3070","messageId":"2912","endLine":1,"endColumn":597192},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":597332,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":597333},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":597503,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":597592},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":597521,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":597522},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":597707,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":597743},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":597721,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":597722},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":598223,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":598224},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":598388,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":598389},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":598566,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":598567},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":598718,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":598719},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":599640,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":599742},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":599689,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":599690},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":599873,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":600507},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":599936,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":599937},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":600097,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":600404},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":600143,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":600144},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":600194,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":600195},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":600437,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":600438},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":600608,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":600610},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":600634,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":600636},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":600842,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":600848,"fix":"3071"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":600849,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":600850},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":601200,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":601201},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":601340,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":601442},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":601389,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":601390},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":601728,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":601729},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":602400,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":602406,"fix":"3072"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":602407,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":602408},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":602512,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":602514},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":602538,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":602540},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":602717,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":602718},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":603174,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":603175},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":603354,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":603355},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":603496,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":603497},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":603986,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":603987},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":604297,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":604298},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":605016,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":605118},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":605065,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":605066},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":605255,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":605513},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":605318,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":605319},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":605443,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":605444},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":606061,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":606062},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":606363,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":606364},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":607117,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":607118},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":608491,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":608492},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":609657,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":609658},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":610071,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":610072},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":614546,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":614547},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":614732,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":614733},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":614865,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":614866},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":615215,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":615459},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":615386,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":615387},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":615445,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":615446},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":615461,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":615462},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":616961,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":616962},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":618505,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":618506},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":618697,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":618799},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":618746,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":618747},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":618869,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":618870},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":618974,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":620083},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":619015,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":619016},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":619158,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":619188},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":619172,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":619173},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":619211,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":619212},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":619262,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":619263},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":619654,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":619655},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":620517,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":620518},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":620764,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":620770,"fix":"3073"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":620797,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":620798},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":620858,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":620860},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":620884,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":620886},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":622464,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":622465},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":622671,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":622672},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":622946,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":622947},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":623316,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":623442},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":623384,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":623385},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":623805,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":623806},{"ruleId":"2916","severity":1,"message":"2920","line":1,"column":623908,"nodeType":"2918","messageId":"2919","endLine":1,"endColumn":623910},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":624749,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":624750},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":625160,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":625161},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":625685,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":625686},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":625866,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":625996},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":625915,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":625916},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":626061,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":626062},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":626157,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":626832},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":626198,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":626199},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":626266,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":626267},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":626318,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":626319},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":626505,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":626506},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":627118,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":627120},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":627140,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":627142},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":627531,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":627532},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":628366,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":628626},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":628372,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":628373},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":628957,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":630139},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":628996,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":628997},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629350,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629351},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":629372,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":629397},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629382,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629383},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":629397,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":629441},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":629427,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":629441},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629430,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629431},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":629441,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":629485},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":629471,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":629485},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629474,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629475},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":629485,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":629818},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629842,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629843},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":629856,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":629891},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629880,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629881},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":629891,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":630008},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":629898,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":630008},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":629916,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":629917},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":630008,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":630032},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630025,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630026},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630050,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630051},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630075,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630076},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630108,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630109},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":630273,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":630565},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630310,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630311},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630368,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630369},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":630700,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":630701},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":631109,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":631282},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":631794,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":631796},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":631820,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":631822},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":631867,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":631868},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":631981,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":632074},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632014,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632015},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632337,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632338},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":632412,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":632760},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632493,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632494},{"ruleId":"3068","severity":1,"message":"3069","line":1,"column":632495,"nodeType":"3070","messageId":"2912","endLine":1,"endColumn":632498},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632564,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632565},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":632603,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":632624},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632613,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632614},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":632624,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":632645},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":632631,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":632645},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632634,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632635},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":632645,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":632669},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":632693,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":632694},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":633182,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":633183},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":633228,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":633229},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":635500,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":635501},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":635947,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":635948},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":636019,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":636020},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":636645,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":636646},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":637239,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":637240},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":637285,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":637286},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":637409,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":637410},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":637646,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":637915},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":637671,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":637672},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":638069,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":638712},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":638106,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":638107},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":638265,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":638266},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":638411,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":638412},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":638559,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":638602},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":638573,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":638574},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":638839,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":639980},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":638881,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":638882},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":638939,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":638940},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":639269,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":639270},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":639433,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":639434},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":639916,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":639954},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":639935,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":639936},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":640109,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":641563},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":640151,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":640152},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":640209,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":640210},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":640638,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":640639},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":640802,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":640803},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":641471,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":641528},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":641490,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":641491},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":641756,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":641757},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":641969,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":641970},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":642083,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":642084},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":642190,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":643809},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":642448,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":642449},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":642618,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":642619},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":642857,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":642891},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":642880,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":642881},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":643123,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":643124},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":643304,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":643305},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":643485,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":643486},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":643875,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":643876},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":643942,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":644080},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":643991,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":643992},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":644155,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":644156},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":644222,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":644326},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":644271,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":644272},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":644983,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":645156},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645739,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645745,"fix":"3074"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645763,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645769,"fix":"3075"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645781,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645787,"fix":"3076"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645794,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645800,"fix":"3077"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645819,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645825,"fix":"3078"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645848,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645854,"fix":"3079"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645874,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645880,"fix":"3080"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645899,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645905,"fix":"3081"},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":645919,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":645925,"fix":"3082"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":646032,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":646033},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":646198,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":646603},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":646364,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":646506},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":646558,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":646559},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":646716,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":646718},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":646742,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":646744},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":646876,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":647096},{"ruleId":"3068","severity":1,"message":"3069","line":1,"column":646939,"nodeType":"3070","messageId":"2912","endLine":1,"endColumn":646949},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":647083,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":647084},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":647209,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":647211},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":647235,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":647237},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":647449,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":647451},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":647475,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":647477},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":647688,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":647690},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":647714,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":647716},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":647815,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":647816},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":647981,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":648431},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":648147,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":648285},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":648337,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":648338},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":648547,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":648549},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":648573,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":648575},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":648713,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":648978},{"ruleId":"3068","severity":1,"message":"3069","line":1,"column":648776,"nodeType":"3070","messageId":"2912","endLine":1,"endColumn":648786},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":648916,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":648917},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":649094,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":649096},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":649120,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":649122},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":649337,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":649339},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":649363,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":649365},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":649579,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":649581},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":649605,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":649607},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":649704,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":649705},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":649842,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":650176},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":650365,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":650367},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":650391,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":650393},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":650525,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":650800},{"ruleId":"3068","severity":1,"message":"3069","line":1,"column":650588,"nodeType":"3070","messageId":"2912","endLine":1,"endColumn":650598},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":650787,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":650788},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":650989,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":650991},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":651015,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":651017},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":651291,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":651292},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":651467,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":651951},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":651540,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":651541},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":651658,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":651659},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":651706,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":651727},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":651716,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":651717},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":651727,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":651822},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":651744,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":651745},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":651846,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":651847},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":652216,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":652218},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":652242,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":652244},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":652382,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":652784},{"ruleId":"3068","severity":1,"message":"3069","line":1,"column":652445,"nodeType":"3070","messageId":"2912","endLine":1,"endColumn":652455},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":652555,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":652556},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":652605,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":652626},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":652615,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":652616},{"ruleId":"2939","severity":1,"message":"2940","line":1,"column":652626,"nodeType":"2941","messageId":"2942","endLine":1,"endColumn":652687},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":652643,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":652644},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":652711,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":652712},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":653048,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":653050},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":653074,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":653076},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":653141,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":653147,"fix":"3083"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":653191,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":653192},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":653337,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":653903},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":653383,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":653384},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":654076,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":654188},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":654144,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":654145},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":654264,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":654265},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":654574,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":654576},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":654600,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":654602},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":654734,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":654884},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":654823,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":654824},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":655056,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":655150},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":655124,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":655125},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":655226,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":655227},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":655533,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":655535},{"ruleId":"2901","severity":1,"message":"2921","line":1,"column":655559,"nodeType":"2903","messageId":"2904","endLine":1,"endColumn":655561},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":655605,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":655611,"fix":"3084"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":655612,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":655613},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":655709,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":655958},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":655848,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":655849},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":657313,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":657358},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":657331,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":657332},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":657944,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":663824},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":657961,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":657962},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":658979,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":658980},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":659040,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":659259},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":659170,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":659171},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":659353,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":659354},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":659414,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":659638},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":659549,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":659550},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":659917,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":659923,"fix":"3085"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":659950,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":659951},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":659986,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":659992,"fix":"3086"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":660019,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":660020},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":660092,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":660098,"fix":"3087"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":660125,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":660126},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":660223,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":660224},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":660438,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":660444,"fix":"3088"},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":660445,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":660446},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":660803,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":661061},{"ruleId":"2927","severity":1,"message":"2928","line":1,"column":661185,"nodeType":"2929","messageId":"2930","endLine":1,"endColumn":661347},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":661234,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":661235},{"ruleId":"2909","severity":1,"message":"2910","line":1,"column":661301,"nodeType":"2911","messageId":"2912","endLine":1,"endColumn":661345,"fix":"3089"},{"ruleId":"2887","severity":2,"message":"2888","line":1,"column":663517,"nodeType":"2889","messageId":"2890","endLine":1,"endColumn":663533},{"ruleId":"2905","severity":1,"message":"2906","line":1,"column":663526,"nodeType":"2907","messageId":"2908","endLine":1,"endColumn":663527},{"ruleId":null,"fatal":true,"severity":2,"message":"3090","line":1000,"column":178},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'scriptLoader' is defined but never used.","no-unused-expressions","Expected an assignment or function call and instead saw an expression.","ExpressionStatement","unusedExpression","no-undef","'define' is not defined.","undef","no-restricted-globals","Unexpected use of 'self'.","defaultMessage","strict","'use strict' is unnecessary inside of modules.","module",{"range":"3091","text":"3092"},"no-mixed-operators","Unexpected mix of '||' and '&&'.","LogicalExpression","unexpectedMixedOperator","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"3093","text":"3094"},{"range":"3095","text":"3094"},{"range":"3096","text":"3094"},"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","Unexpected mix of '&&' and '||'.",{"range":"3097","text":"3094"},"no-array-constructor","The array literal notation [] is preferable.","preferLiteral",{"range":"3098","text":"3094"},"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-unreachable","Unreachable code.","unreachableCode","no-use-before-define","'x' was used before it was defined.","usedBeforeDefined","'o' was used before it was defined.",{"range":"3099","text":"3094"},"no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","'d' was used before it was defined.","no-redeclare","'s' is already defined.","redeclared",{"range":"3100","text":"3094"},{"range":"3101","text":"3094"},{"range":"3102","text":"3094"},"'t' was used before it was defined.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["3103","3104"],["3105","3106"],["3107","3108"],["3109","3110"],["3111","3112"],["3113","3114"],["3115","3116"],["3117","3118"],["3119","3120"],["3121","3122"],["3123","3124"],["3125","3126"],["3127","3128"],["3129","3130"],["3131","3132"],["3133","3134"],["3135","3136"],["3137","3138"],["3139","3140"],["3141","3142"],["3143","3144"],["3145","3146"],["3147","3148"],["3149","3150"],["3151","3152"],["3153","3154"],["3155","3156"],["3157","3158"],["3159","3160"],["3161","3162"],["3163","3164"],["3165","3166"],["3167","3168"],["3169","3170"],["3171","3172"],["3173","3174"],["3175","3176"],["3177","3178"],["3179","3180"],["3181","3182"],["3183","3184"],["3185","3186"],["3187","3188"],["3189","3190"],["3191","3192"],["3193","3194"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'e'.","FunctionExpression","unsafeRefs","Unexpected mix of '^' and '<<'.","Unexpected mix of '>>>' and '^'.","Unexpected mix of '^' and '>>>'.","Unexpected mix of '<<' and '^'.",{"range":"3195","text":"3094"},{"range":"3196","text":"3094"},{"range":"3197","text":"3094"},"Unexpected mix of '&' and '<<'.",{"range":"3198","text":"3094"},"'E' was used before it was defined.","'_' was used before it was defined.","'I' was used before it was defined.","'R' was used before it was defined.","'w' was used before it was defined.","'b' was used before it was defined.","'C' was used before it was defined.","'n' was used before it was defined.","'r' was used before it was defined.","'i' was used before it was defined.","'a' was used before it was defined.","'u' was used before it was defined.","'s' was used before it was defined.","'l' was used before it was defined.","'c' was used before it was defined.","'h' was used before it was defined.","'f' was used before it was defined.","'t' is already defined.",{"range":"3199","text":"3094"},{"range":"3200","text":"3094"},{"range":"3201","text":"3094"},{"range":"3202","text":"3094"},"'v' was used before it was defined.","'m' was used before it was defined.","'p' was used before it was defined.","'q' was used before it was defined.",{"range":"3203","text":"3094"},{"range":"3204","text":"3094"},{"range":"3205","text":"3094"},{"range":"3206","text":"3094"},{"range":"3207","text":"3094"},{"range":"3208","text":"3094"},{"range":"3209","text":"3094"},{"range":"3210","text":"3094"},"'e' was used before it was defined.",{"range":"3211","text":"3094"},"ReturnStatement",{"range":"3212","text":"3094"},{"range":"3213","text":"3094"},{"range":"3214","text":"3094"},"Function declared in a loop contains unsafe references to variable(s) 'r', 'r', 'o', 'i', 'o'.",{"range":"3215","text":"3094"},"no-sparse-arrays","Unexpected comma in middle of array.","ArrayExpression","unexpectedSparseArray",{"range":"3216","text":"3094"},{"range":"3217","text":"3094"},{"range":"3218","text":"3094"},{"range":"3219","text":"3094"},{"range":"3220","text":"3094"},{"range":"3221","text":"3094"},{"range":"3222","text":"3094"},{"range":"3223","text":"3094"},"no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression",{"range":"3224","text":"3094"},{"range":"3225","text":"3094"},{"range":"3226","text":"3094"},{"range":"3227","text":"3094"},{"range":"3228","text":"3094"},{"range":"3229","text":"3094"},{"range":"3230","text":"3094"},{"range":"3231","text":"3094"},{"range":"3232","text":"3094"},{"range":"3233","text":"3094"},{"range":"3234","text":"3094"},{"range":"3235","text":"3094"},{"range":"3236","text":"3094"},{"range":"3237","text":"3094"},{"range":"3238","text":"3094"},{"range":"3239","text":"3094"},{"range":"3240","text":"3094"},{"range":"3241","text":"3094"},{"range":"3242","text":"3094"},"Parsing error: Illegal newline after throw\n\n   998 |     function ae(t, e, n) {\n   999 |         var r = ke(t, e, (function() { return t.createShader(t.FRAGMENT_SHADER) }), \"Unable to create fragment WebGLShader.\");\n> 1000 |         if (Jt(t, e, (function() { return t.shaderSource(r, n) })), Jt(t, e, (function() { return t.compileShader(r) })), !1 === t.getShaderParameter(r, t.COMPILE_STATUS)) throw\n       |                                                                                                                                                                                  ^\n  1001 | \n  1002 |         function(t, e) {\n  1003 |             var n = ue.exec(e);",[194,207],"",[514,514],"()",[4041,4041],[4051,4051],[9780,9780],[12526,12526],[34845,34845],[52105,52105],[52436,52436],[52712,52712],{"messageId":"3243","fix":"3244","desc":"3245"},{"messageId":"3246","fix":"3247","desc":"3248"},{"messageId":"3243","fix":"3249","desc":"3245"},{"messageId":"3246","fix":"3250","desc":"3248"},{"messageId":"3243","fix":"3251","desc":"3245"},{"messageId":"3246","fix":"3252","desc":"3248"},{"messageId":"3243","fix":"3253","desc":"3245"},{"messageId":"3246","fix":"3254","desc":"3248"},{"messageId":"3243","fix":"3255","desc":"3245"},{"messageId":"3246","fix":"3256","desc":"3248"},{"messageId":"3243","fix":"3257","desc":"3245"},{"messageId":"3246","fix":"3258","desc":"3248"},{"messageId":"3243","fix":"3259","desc":"3245"},{"messageId":"3246","fix":"3260","desc":"3248"},{"messageId":"3243","fix":"3261","desc":"3245"},{"messageId":"3246","fix":"3262","desc":"3248"},{"messageId":"3243","fix":"3263","desc":"3245"},{"messageId":"3246","fix":"3264","desc":"3248"},{"messageId":"3243","fix":"3265","desc":"3245"},{"messageId":"3246","fix":"3266","desc":"3248"},{"messageId":"3243","fix":"3267","desc":"3245"},{"messageId":"3246","fix":"3268","desc":"3248"},{"messageId":"3243","fix":"3269","desc":"3245"},{"messageId":"3246","fix":"3270","desc":"3248"},{"messageId":"3243","fix":"3271","desc":"3245"},{"messageId":"3246","fix":"3272","desc":"3248"},{"messageId":"3243","fix":"3273","desc":"3245"},{"messageId":"3246","fix":"3274","desc":"3248"},{"messageId":"3243","fix":"3275","desc":"3245"},{"messageId":"3246","fix":"3276","desc":"3248"},{"messageId":"3243","fix":"3277","desc":"3245"},{"messageId":"3246","fix":"3278","desc":"3248"},{"messageId":"3243","fix":"3279","desc":"3245"},{"messageId":"3246","fix":"3280","desc":"3248"},{"messageId":"3243","fix":"3281","desc":"3245"},{"messageId":"3246","fix":"3282","desc":"3248"},{"messageId":"3243","fix":"3283","desc":"3245"},{"messageId":"3246","fix":"3284","desc":"3248"},{"messageId":"3243","fix":"3285","desc":"3245"},{"messageId":"3246","fix":"3286","desc":"3248"},{"messageId":"3243","fix":"3287","desc":"3245"},{"messageId":"3246","fix":"3288","desc":"3248"},{"messageId":"3243","fix":"3289","desc":"3245"},{"messageId":"3246","fix":"3290","desc":"3248"},{"messageId":"3243","fix":"3291","desc":"3245"},{"messageId":"3246","fix":"3292","desc":"3248"},{"messageId":"3243","fix":"3293","desc":"3245"},{"messageId":"3246","fix":"3294","desc":"3248"},{"messageId":"3243","fix":"3295","desc":"3245"},{"messageId":"3246","fix":"3296","desc":"3248"},{"messageId":"3243","fix":"3297","desc":"3245"},{"messageId":"3246","fix":"3298","desc":"3248"},{"messageId":"3243","fix":"3299","desc":"3245"},{"messageId":"3246","fix":"3300","desc":"3248"},{"messageId":"3243","fix":"3301","desc":"3245"},{"messageId":"3246","fix":"3302","desc":"3248"},{"messageId":"3243","fix":"3303","desc":"3245"},{"messageId":"3246","fix":"3304","desc":"3248"},{"messageId":"3243","fix":"3305","desc":"3245"},{"messageId":"3246","fix":"3306","desc":"3248"},{"messageId":"3243","fix":"3307","desc":"3245"},{"messageId":"3246","fix":"3308","desc":"3248"},{"messageId":"3243","fix":"3309","desc":"3245"},{"messageId":"3246","fix":"3310","desc":"3248"},{"messageId":"3243","fix":"3311","desc":"3245"},{"messageId":"3246","fix":"3312","desc":"3248"},{"messageId":"3243","fix":"3313","desc":"3245"},{"messageId":"3246","fix":"3314","desc":"3248"},{"messageId":"3243","fix":"3315","desc":"3245"},{"messageId":"3246","fix":"3316","desc":"3248"},{"messageId":"3243","fix":"3317","desc":"3245"},{"messageId":"3246","fix":"3318","desc":"3248"},{"messageId":"3243","fix":"3319","desc":"3245"},{"messageId":"3246","fix":"3320","desc":"3248"},{"messageId":"3243","fix":"3321","desc":"3245"},{"messageId":"3246","fix":"3322","desc":"3248"},{"messageId":"3243","fix":"3323","desc":"3245"},{"messageId":"3246","fix":"3324","desc":"3248"},{"messageId":"3243","fix":"3325","desc":"3245"},{"messageId":"3246","fix":"3326","desc":"3248"},{"messageId":"3243","fix":"3327","desc":"3245"},{"messageId":"3246","fix":"3328","desc":"3248"},{"messageId":"3243","fix":"3329","desc":"3245"},{"messageId":"3246","fix":"3330","desc":"3248"},{"messageId":"3243","fix":"3331","desc":"3245"},{"messageId":"3246","fix":"3332","desc":"3248"},{"messageId":"3243","fix":"3333","desc":"3245"},{"messageId":"3246","fix":"3334","desc":"3248"},{"messageId":"3243","fix":"3335","desc":"3245"},{"messageId":"3246","fix":"3336","desc":"3248"},{"messageId":"3243","fix":"3337","desc":"3245"},{"messageId":"3246","fix":"3338","desc":"3248"},[84683,84683],[85746,85746],[87464,87464],[118554,118554],[338585,338585],[338615,338615],[338642,338642],[339361,339361],[480522,480522],[486156,486156],[486331,486331],[486906,486906],[486956,486956],[488718,488718],[489037,489037],[489591,489591],[495846,495846],[500661,500661],[502308,502308],[502730,502730],[507684,507684],[519689,519689],[547112,547112],[564908,564908],[565051,565051],[566157,566157],[566226,566226],[569763,569763],[589268,589268],[600847,600847],[602405,602405],[620769,620769],[645744,645744],[645768,645768],[645786,645786],[645799,645799],[645824,645824],[645853,645853],[645879,645879],[645904,645904],[645924,645924],[653146,653146],[655610,655610],[659922,659922],[659991,659991],[660097,660097],[660443,660443],[661344,661344],"removeEscape",{"range":"3339","text":"3092"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"3340","text":"3341"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"3342","text":"3092"},{"range":"3343","text":"3341"},{"range":"3344","text":"3092"},{"range":"3345","text":"3341"},{"range":"3346","text":"3092"},{"range":"3347","text":"3341"},{"range":"3348","text":"3092"},{"range":"3349","text":"3341"},{"range":"3350","text":"3092"},{"range":"3351","text":"3341"},{"range":"3352","text":"3092"},{"range":"3353","text":"3341"},{"range":"3354","text":"3092"},{"range":"3355","text":"3341"},{"range":"3356","text":"3092"},{"range":"3357","text":"3341"},{"range":"3358","text":"3092"},{"range":"3359","text":"3341"},{"range":"3360","text":"3092"},{"range":"3361","text":"3341"},{"range":"3362","text":"3092"},{"range":"3363","text":"3341"},{"range":"3364","text":"3092"},{"range":"3365","text":"3341"},{"range":"3366","text":"3092"},{"range":"3367","text":"3341"},{"range":"3368","text":"3092"},{"range":"3369","text":"3341"},{"range":"3370","text":"3092"},{"range":"3371","text":"3341"},{"range":"3372","text":"3092"},{"range":"3373","text":"3341"},{"range":"3374","text":"3092"},{"range":"3375","text":"3341"},{"range":"3376","text":"3092"},{"range":"3377","text":"3341"},{"range":"3378","text":"3092"},{"range":"3379","text":"3341"},{"range":"3380","text":"3092"},{"range":"3381","text":"3341"},{"range":"3382","text":"3092"},{"range":"3383","text":"3341"},{"range":"3384","text":"3092"},{"range":"3385","text":"3341"},{"range":"3386","text":"3092"},{"range":"3387","text":"3341"},{"range":"3388","text":"3092"},{"range":"3389","text":"3341"},{"range":"3390","text":"3092"},{"range":"3391","text":"3341"},{"range":"3392","text":"3092"},{"range":"3393","text":"3341"},{"range":"3394","text":"3092"},{"range":"3395","text":"3341"},{"range":"3396","text":"3092"},{"range":"3397","text":"3341"},{"range":"3398","text":"3092"},{"range":"3399","text":"3341"},{"range":"3400","text":"3092"},{"range":"3401","text":"3341"},{"range":"3402","text":"3092"},{"range":"3403","text":"3341"},{"range":"3404","text":"3092"},{"range":"3405","text":"3341"},{"range":"3406","text":"3092"},{"range":"3407","text":"3341"},{"range":"3408","text":"3092"},{"range":"3409","text":"3341"},{"range":"3410","text":"3092"},{"range":"3411","text":"3341"},{"range":"3412","text":"3092"},{"range":"3413","text":"3341"},{"range":"3414","text":"3092"},{"range":"3415","text":"3341"},{"range":"3416","text":"3092"},{"range":"3417","text":"3341"},{"range":"3418","text":"3092"},{"range":"3419","text":"3341"},{"range":"3420","text":"3092"},{"range":"3421","text":"3341"},{"range":"3422","text":"3092"},{"range":"3423","text":"3341"},{"range":"3424","text":"3092"},{"range":"3425","text":"3341"},{"range":"3426","text":"3092"},{"range":"3427","text":"3341"},{"range":"3428","text":"3092"},{"range":"3429","text":"3341"},{"range":"3430","text":"3092"},{"range":"3431","text":"3341"},[73023,73024],[73023,73023],"\\",[73104,73105],[73104,73104],[73169,73170],[73169,73169],[73196,73197],[73196,73196],[73217,73218],[73217,73217],[73255,73256],[73255,73255],[73289,73290],[73289,73289],[73358,73359],[73358,73358],[73381,73382],[73381,73381],[73386,73387],[73386,73386],[73424,73425],[73424,73424],[73437,73438],[73437,73437],[73462,73463],[73462,73462],[73471,73472],[73471,73471],[73504,73505],[73504,73504],[73528,73529],[73528,73528],[73632,73633],[73632,73632],[73676,73677],[73676,73676],[73697,73698],[73697,73697],[73739,73740],[73739,73739],[73792,73793],[73792,73792],[73889,73890],[73889,73889],[73974,73975],[73974,73974],[74009,74010],[74009,74009],[74038,74039],[74038,74038],[74044,74045],[74044,74044],[74066,74067],[74066,74066],[74075,74076],[74075,74075],[74149,74150],[74149,74149],[74156,74157],[74156,74156],[74171,74172],[74171,74171],[74195,74196],[74195,74195],[74207,74208],[74207,74207],[74215,74216],[74215,74215],[74265,74266],[74265,74265],[74269,74270],[74269,74269],[74322,74323],[74322,74322],[74328,74329],[74328,74328],[74343,74344],[74343,74343],[74347,74348],[74347,74347],[74369,74370],[74369,74369],[74381,74382],[74381,74381],[74442,74443],[74442,74442],[74500,74501],[74500,74500],[74547,74548],[74547,74547],[74563,74564],[74563,74563]]